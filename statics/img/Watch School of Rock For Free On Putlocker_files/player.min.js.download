var e,e,e,t,n=Object.defineProperty,r=(i,a,l)=>{var s,o,c;return s=i,o="symbol"!=typeof a?a+"":a,c=l,o in s?n(s,o,{enumerable:!0,configurable:!0,writable:!0,value:c}):s[o]=c};import{r as i,t as a,g as l,R as s,c as o,a as c,b as u,d}from"./react.js";import{H as h}from"./hls.js";!function(){let i=document.createElement("link").relList;if(!(i&&i.supports&&i.supports("modulepreload"))){for(let a of document.querySelectorAll('link[rel="modulepreload"]'))l(a);new MutationObserver(i=>{for(let a of i)if("childList"===a.type)for(let s of a.addedNodes)"LINK"===s.tagName&&"modulepreload"===s.rel&&l(s)}).observe(document,{childList:!0,subtree:!0})}function l(i){if(i.ep)return;i.ep=!0;let a=function(i){let a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),"use-credentials"===i.crossOrigin?a.credentials="include":"anonymous"===i.crossOrigin?a.credentials="omit":a.credentials="same-origin",a}(i);fetch(i.href,a)}}();var f={exports:{}},p={},m=i,g=Symbol.for("react.element"),v=Symbol.for("react.fragment"),y=Object.prototype.hasOwnProperty,b=m.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,x={key:!0,ref:!0,__self:!0,__source:!0};function w(i,a,l){var s,o={},c=null,u=null;for(s in void 0!==l&&(c=""+l),void 0!==a.key&&(c=""+a.key),void 0!==a.ref&&(u=a.ref),a)y.call(a,s)&&!x.hasOwnProperty(s)&&(o[s]=a[s]);if(i&&i.defaultProps)for(s in a=i.defaultProps)void 0===o[s]&&(o[s]=a[s]);return{$$typeof:g,type:i,key:c,ref:u,props:o,_owner:b.current}}p.Fragment=v,p.jsx=w,p.jsxs=w,f.exports=p;var C,k,S=f.exports;/**
 * @remix-run/router v1.19.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */ function E(){return(E=Object.assign?Object.assign.bind():function(i){for(var a=1;a<arguments.length;a++){var l=arguments[a];for(var s in l)Object.prototype.hasOwnProperty.call(l,s)&&(i[s]=l[s])}return i}).apply(this,arguments)}(k=C||(C={})).Pop="POP",k.Push="PUSH",k.Replace="REPLACE";let j="popstate";function _(i){return void 0===i&&(i={}),function(i,a,l,s){void 0===s&&(s={});let{window:o=document.defaultView,v5Compat:c=!1}=s,u=o.history,d=C.Pop,h=null,e_=e$();function e$(){return(u.state||{idx:null}).idx}function e0(){d=C.Pop;let i=e$(),a=null==i?null:i-e_;e_=i,h&&h({action:d,location:e1.location,delta:a})}function eg(i){let a="null"!==o.location.origin?o.location.origin:o.location.href,l="string"==typeof i?i:O(i);return T(a,"No window.location.(origin|href) available to create URL for href: "+(l=l.replace(/ $/,"%20"))),new URL(l,a)}null==e_&&(e_=0,u.replaceState(E({},u.state,{idx:e_}),""));let e1={get action(){return d},get location(){return i(o,u)},listen(i){if(h)throw Error("A history only accepts one active listener");return o.addEventListener(j,e0),h=i,()=>{o.removeEventListener(j,e0),h=null}},createHref:i=>a(o,i),createURL:eg,encodeLocation(i){let a=eg(i);return{pathname:a.pathname,search:a.search,hash:a.hash}},push:function i(a,l){d=C.Push;let s=L(e1.location,a,l);e_=e$()+1;let e0=M(s,e_),eg=e1.createHref(s);try{u.pushState(e0,"",eg)}catch(ev){if(ev instanceof DOMException&&"DataCloneError"===ev.name)throw ev;o.location.assign(eg)}c&&h&&h({action:d,location:e1.location,delta:1})},replace:function i(a,l){d=C.Replace;let s=L(e1.location,a,l);e_=e$();let o=M(s,e_),e0=e1.createHref(s);u.replaceState(o,"",e0),c&&h&&h({action:d,location:e1.location,delta:0})},go:i=>u.go(i)};return e1}(function(i,a){let{pathname:l,search:s,hash:o}=i.location;return L("",{pathname:l,search:s,hash:o},a.state&&a.state.usr||null,a.state&&a.state.key||"default")},function(i,a){return"string"==typeof a?a:O(a)},0,i)}function T(i,a){if(!1===i||null==i)throw Error(a)}function N(i,a){if(!i){"undefined"!=typeof console&&console.warn(a);try{throw Error(a)}catch(l){}}}function M(i,a){return{usr:i.state,key:i.key,idx:a}}function L(i,a,l,s){return void 0===l&&(l=null),E({pathname:"string"==typeof i?i:i.pathname,search:"",hash:""},"string"==typeof a?A(a):a,{state:l,key:a&&a.key||s||Math.random().toString(36).substr(2,8)})}function O(i){let{pathname:a="/",search:l="",hash:s=""}=i;return l&&"?"!==l&&(a+="?"===l.charAt(0)?l:"?"+l),s&&"#"!==s&&(a+="#"===s.charAt(0)?s:"#"+s),a}function A(i){let a={};if(i){let l=i.indexOf("#");l>=0&&(a.hash=i.substr(l),i=i.substr(0,l));let s=i.indexOf("?");s>=0&&(a.search=i.substr(s),i=i.substr(0,s)),i&&(a.pathname=i)}return a}function I(i,a,l){return void 0===l&&(l="/"),function(i,a,l,s){let o=K(("string"==typeof a?A(a):a).pathname||"/",l);if(null==o)return null;let c=F(i);!function(i){i.sort((i,a)=>{var l,s;return i.score!==a.score?a.score-i.score:(l=i.routesMeta.map(i=>i.childrenIndex),s=a.routesMeta.map(i=>i.childrenIndex),l.length===s.length&&l.slice(0,-1).every((i,a)=>i===s[a])?l[l.length-1]-s[s.length-1]:0)})}(c);let u=null;for(let d=0;null==u&&d<c.length;++d){let h=Q(o);u=G(c[d],h,s)}return u}(i,a,l,!1)}function F(i,a,l,s){void 0===a&&(a=[]),void 0===l&&(l=[]),void 0===s&&(s="");let o=(i,o,c)=>{let u={relativePath:void 0===c?i.path||"":c,caseSensitive:!0===i.caseSensitive,childrenIndex:o,route:i};u.relativePath.startsWith("/")&&(T(u.relativePath.startsWith(s),'Absolute route path "'+u.relativePath+'" nested under path "'+s+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),u.relativePath=u.relativePath.slice(s.length));let d=ee([s,u.relativePath]),h=l.concat(u);i.children&&i.children.length>0&&(T(!0!==i.index,'Index routes must not have child routes. Please remove all child routes from route path "'+d+'".'),F(i.children,a,h,d)),(null!=i.path||i.index)&&a.push({path:d,score:q(d,i.index),routesMeta:h})};return i.forEach((i,a)=>{var l;if(""!==i.path&&null!=(l=i.path)&&l.includes("?"))for(let s of D(i.path))o(i,a,s);else o(i,a)}),a}function D(i){let a=i.split("/");if(0===a.length)return[];let[l,...s]=a,o=l.endsWith("?"),c=l.replace(/\?$/,"");if(0===s.length)return o?[c,""]:[c];let u=D(s.join("/")),d=[];return d.push(...u.map(i=>""===i?c:[c,i].join("/"))),o&&d.push(...u),d.map(a=>i.startsWith("/")&&""===a?"/":a)}(R=P||(P={})).data="data",R.deferred="deferred",R.redirect="redirect",R.error="error";let $=/^:[\w-]+$/,z=3,V=2,B=1,H=10,U=-2,W=i=>"*"===i;function q(i,a){let l=i.split("/"),s=l.length;return l.some(W)&&(s+=-2),a&&(s+=2),l.filter(i=>!W(i)).reduce((i,a)=>i+($.test(a)?3:""===a?1:10),s)}function G(i,a,l){let{routesMeta:s}=i,o={},c="/",u=[];for(let d=0;d<s.length;++d){let h=s[d],e_=d===s.length-1,e$="/"===c?a:a.slice(c.length)||"/",e0=Z({path:h.relativePath,caseSensitive:h.caseSensitive,end:e_},e$),eg=h.route;if(!e0&&e_&&l&&!s[s.length-1].route.index&&(e0=Z({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},e$)),!e0)return null;Object.assign(o,e0.params),u.push({params:o,pathname:ee([c,e0.pathname]),pathnameBase:te(ee([c,e0.pathnameBase])),route:eg}),"/"!==e0.pathnameBase&&(c=ee([c,e0.pathnameBase]))}return u}function Z(i,a){var l,s,o;"string"==typeof i&&(i={path:i,caseSensitive:!1,end:!0});let c,u,[d,h]=(l=i.path,s=i.caseSensitive,o=i.end,void 0===s&&(s=!1),void 0===o&&(o=!0),N("*"===l||!l.endsWith("*")||l.endsWith("/*"),'Route path "'+l+'" will be treated as if it were "'+l.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+l.replace(/\*$/,"/*")+'".'),c=[],u="^"+l.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,a,l)=>(c.push({paramName:a,isOptional:null!=l}),l?"/?([^\\/]+)?":"/([^\\/]+)")),l.endsWith("*")?(c.push({paramName:"*"}),u+="*"===l||"/*"===l?"(.*)$":"(?:\\/(.+)|\\/*)$"):o?u+="\\/*$":""!==l&&"/"!==l&&(u+="(?:(?=\\/|$))"),[RegExp(u,s?void 0:"i"),c]),e_=a.match(d);if(!e_)return null;let e$=e_[0],e0=e$.replace(/(.)\/+$/,"$1"),eg=e_.slice(1);return{params:h.reduce((i,a,l)=>{let{paramName:s,isOptional:o}=a;if("*"===s){let c=eg[l]||"";e0=e$.slice(0,e$.length-c.length).replace(/(.)\/+$/,"$1")}let u=eg[l];return i[s]=o&&!u?void 0:(u||"").replace(/%2F/g,"/"),i},{}),pathname:e$,pathnameBase:e0,pattern:i}}function Q(i){try{return i.split("/").map(i=>decodeURIComponent(i).replace(/\//g,"%2F")).join("/")}catch(a){return N(!1,'The URL path "'+i+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+a+")."),i}}function K(i,a){if("/"===a)return i;if(!i.toLowerCase().startsWith(a.toLowerCase()))return null;let l=a.endsWith("/")?a.length-1:a.length,s=i.charAt(l);return s&&"/"!==s?null:i.slice(l)||"/"}function Y(i,a,l,s){return"Cannot include a '"+i+"' character in a manually specified `to."+a+"` field ["+JSON.stringify(s)+"].  Please separate it out to the `to."+l+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function X(i,a){var l;let s=(l=i).filter((i,a)=>0===a||i.route.path&&i.route.path.length>0);return a?s.map((i,a)=>a===s.length-1?i.pathname:i.pathnameBase):s.map(i=>i.pathnameBase)}function J(i,a,l,s){let o;void 0===s&&(s=!1),"string"==typeof i?o=A(i):(o=E({},i),T(!o.pathname||!o.pathname.includes("?"),Y("?","pathname","search",o)),T(!o.pathname||!o.pathname.includes("#"),Y("#","pathname","hash",o)),T(!o.search||!o.search.includes("#"),Y("#","search","hash",o)));let c,u=""===i||""===o.pathname,d=u?"/":o.pathname;if(null==d)c=l;else{let h=a.length-1;if(!s&&d.startsWith("..")){let e_=d.split("/");for(;".."===e_[0];)e_.shift(),h-=1;o.pathname=e_.join("/")}c=h>=0?a[h]:"/"}let e$=function(i,a){var l,s;void 0===a&&(a="/");let o,{pathname:c,search:u="",hash:d=""}="string"==typeof i?A(i):i;return{pathname:c?c.startsWith("/")?c:(l=c,o=(s=a).replace(/\/+$/,"").split("/"),l.split("/").forEach(i=>{".."===i?o.length>1&&o.pop():"."!==i&&o.push(i)}),o.length>1?o.join("/"):"/"):a,search:ne(u),hash:re(d)}}(o,c),e0=d&&"/"!==d&&d.endsWith("/"),eg=(u||"."===d)&&l.endsWith("/");return!e$.pathname.endsWith("/")&&(e0||eg)&&(e$.pathname+="/"),e$}let ee=i=>i.join("/").replace(/\/\/+/g,"/"),te=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),ne=i=>i&&"?"!==i?i.startsWith("?")?i:"?"+i:"",re=i=>i&&"#"!==i?i.startsWith("#")?i:"#"+i:"",ie=["post","put","patch","delete"],oe=["get",...ie];/**
 * React Router v6.26.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */ function se(){return(se=Object.assign?Object.assign.bind():function(i){for(var a=1;a<arguments.length;a++){var l=arguments[a];for(var s in l)Object.prototype.hasOwnProperty.call(l,s)&&(i[s]=l[s])}return i}).apply(this,arguments)}let ae=i.createContext(null),le=i.createContext(null),ce=i.createContext(null),ue=i.createContext(null),de=i.createContext({outlet:null,matches:[],isDataRoute:!1}),he=i.createContext(null);function fe(){return null!=i.useContext(ue)}function pe(){return fe()||T(!1),i.useContext(ue).location}function me(a){i.useContext(ce).static||i.useLayoutEffect(a)}function ge(){let{isDataRoute:a}=i.useContext(de);return a?function(){let a,{router:l}=(ke.UseNavigateStable,(a=i.useContext(ae))||T(!1),a),s=Ee(Se.UseNavigateStable),o=i.useRef(!1);return me(()=>{o.current=!0}),i.useCallback(function(i,a){void 0===a&&(a={}),o.current&&("number"==typeof i?l.navigate(i):l.navigate(i,se({fromRouteId:s},a)))},[l,s])}():function(){fe()||T(!1);let a=i.useContext(ae),{basename:l,future:s,navigator:o}=i.useContext(ce),{matches:c}=i.useContext(de),{pathname:u}=pe(),d=JSON.stringify(X(c,s.v7_relativeSplatPath)),h=i.useRef(!1);return me(()=>{h.current=!0}),i.useCallback(function(i,s){if(void 0===s&&(s={}),!h.current)return;if("number"==typeof i)return void o.go(i);let c=J(i,JSON.parse(d),u,"path"===s.relative);null==a&&"/"!==l&&(c.pathname="/"===c.pathname?l:ee([l,c.pathname])),(s.replace?o.replace:o.push)(c,s.state,s)},[l,o,d,u,a])}()}function ve(){let{matches:a}=i.useContext(de),l=a[a.length-1];return l?l.params:{}}function ye(a,l){return function(a,l,s,o){fe()||T(!1);let{navigator:c}=i.useContext(ce),{matches:u}=i.useContext(de),d=u[u.length-1],h=d?d.params:{};d&&d.pathname;let e_=d?d.pathnameBase:"/";d&&d.route;let e$,e0=pe();if(l){var eg;let e1="string"==typeof l?A(l):l;"/"===e_||(null==(eg=e1.pathname)?void 0:eg.startsWith(e_))||T(!1),e$=e1}else e$=e0;let ev=e$.pathname||"/",e3=ev;if("/"!==e_){let e2=e_.replace(/^\//,"").split("/");e3="/"+ev.replace(/^\//,"").split("/").slice(e2.length).join("/")}let e4=I(a,{pathname:e3}),ey=function(a,l,s,o){var c,u;if(void 0===l&&(l=[]),void 0===s&&(s=null),void 0===o&&(o=null),null==a){if(!s)return null;if(s.errors)a=s.matches;else{if(!(null!=(u=o)&&u.v7_partialHydration&&0===l.length&&!s.initialized&&s.matches.length>0))return null;a=s.matches}}let d=a,h=null==(c=s)?void 0:c.errors;if(null!=h){let e_=d.findIndex(i=>i.route.id&&void 0!==(null==h?void 0:h[i.route.id]));e_>=0||T(!1),d=d.slice(0,Math.min(d.length,e_+1))}let e$=!1,e0=-1;if(s&&o&&o.v7_partialHydration)for(let eg=0;eg<d.length;eg++){let e1=d[eg];if((e1.route.HydrateFallback||e1.route.hydrateFallbackElement)&&(e0=eg),e1.route.id){let{loaderData:ev,errors:e3}=s,e2=e1.route.loader&&void 0===ev[e1.route.id]&&(!e3||void 0===e3[e1.route.id]);if(e1.route.lazy||e2){e$=!0,d=e0>=0?d.slice(0,e0+1):[d[0]];break}}}return d.reduceRight((a,o,c)=>{let u,e_=!1,eg=null,e1=null;s&&(u=h&&o.route.id?h[o.route.id]:void 0,eg=o.route.errorElement||xe,e$&&(e0<0&&0===c?(e_=!0,e1=null):e0===c&&(e_=!0,e1=o.route.hydrateFallbackElement||null)));let ev=l.concat(d.slice(0,c+1)),e3=()=>{let l;return l=u?eg:e_?e1:o.route.Component?i.createElement(o.route.Component,null):o.route.element?o.route.element:a,i.createElement(Ce,{match:o,routeContext:{outlet:a,matches:ev,isDataRoute:null!=s},children:l})};return s&&(o.route.ErrorBoundary||o.route.errorElement||0===c)?i.createElement(we,{location:s.location,revalidation:s.revalidation,component:eg,error:u,children:e3(),routeContext:{outlet:null,matches:ev,isDataRoute:!0}}):e3()},null)}(e4&&e4.map(i=>Object.assign({},i,{params:Object.assign({},h,i.params),pathname:ee([e_,c.encodeLocation?c.encodeLocation(i.pathname).pathname:i.pathname]),pathnameBase:"/"===i.pathnameBase?e_:ee([e_,c.encodeLocation?c.encodeLocation(i.pathnameBase).pathname:i.pathnameBase])})),u,void 0,void 0);return l&&ey?i.createElement(ue.Provider,{value:{location:se({pathname:"/",search:"",hash:"",state:null,key:"default"},e$),navigationType:C.Pop}},ey):ey}(a,l)}function be(){var a,l;let s,o,c,u,d=(o=i.useContext(he),c=(Se.UseRouteError,(s=i.useContext(le))||T(!1),s),u=Ee(Se.UseRouteError),void 0!==o?o:null==(a=c.errors)?void 0:a[u]),h=null!=(l=d)&&"number"==typeof l.status&&"string"==typeof l.statusText&&"boolean"==typeof l.internal&&"data"in l?d.status+" "+d.statusText:d instanceof Error?d.message:JSON.stringify(d),e_=d instanceof Error?d.stack:null;return i.createElement(i.Fragment,null,i.createElement("h2",null,"Unexpected Application Error!"),i.createElement("h3",{style:{fontStyle:"italic"}},h),e_?i.createElement("pre",{style:{padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"}},e_):null,null)}let xe=i.createElement(be,null);class we extends i.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,a){return a.location!==i.location||"idle"!==a.revalidation&&"idle"===i.revalidation?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:void 0!==i.error?i.error:a.error,location:a.location,revalidation:i.revalidation||a.revalidation}}componentDidCatch(i,a){console.error("React Router caught the following error during render",i,a)}render(){return void 0!==this.state.error?i.createElement(de.Provider,{value:this.props.routeContext},i.createElement(he.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Ce(a){let{routeContext:l,match:s,children:o}=a,c=i.useContext(ae);return c&&c.static&&c.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(c.staticContext._deepestRenderedBoundaryId=s.route.id),i.createElement(de.Provider,{value:l},o)}var ke=function(i){return i.UseBlocker="useBlocker",i.UseRevalidator="useRevalidator",i.UseNavigateStable="useNavigate",i}(ke||{}),Se=function(i){return i.UseBlocker="useBlocker",i.UseLoaderData="useLoaderData",i.UseActionData="useActionData",i.UseRouteError="useRouteError",i.UseNavigation="useNavigation",i.UseRouteLoaderData="useRouteLoaderData",i.UseMatches="useMatches",i.UseRevalidator="useRevalidator",i.UseNavigateStable="useNavigate",i.UseRouteId="useRouteId",i}(Se||{});function Ee(a){let l,s=((l=i.useContext(de))||T(!1),l),o=s.matches[s.matches.length-1];return o.route.id||T(!1),o.route.id}function je(a){let{to:l,replace:s,state:o,relative:c}=a;fe()||T(!1);let{future:u,static:d}=i.useContext(ce),{matches:h}=i.useContext(de),{pathname:e_}=pe(),e$=ge(),e0=JSON.stringify(J(l,X(h,u.v7_relativeSplatPath),e_,"path"===c));return i.useEffect(()=>e$(JSON.parse(e0),{replace:s,state:o,relative:c}),[e$,e0,c,s,o]),null}function _e(i){T(!1)}function Te(a){let{basename:l="/",children:s=null,location:o,navigationType:c=C.Pop,navigator:u,static:d=!1,future:h}=a;fe()&&T(!1);let e_=l.replace(/^\/*/,"/"),e$=i.useMemo(()=>({basename:e_,navigator:u,static:d,future:se({v7_relativeSplatPath:!1},h)}),[e_,h,u,d]);"string"==typeof o&&(o=A(o));let{pathname:e0="/",search:eg="",hash:e1="",state:ev=null,key:e3="default"}=o,e2=i.useMemo(()=>{let i=K(e0,e_);return null==i?null:{location:{pathname:i,search:eg,hash:e1,state:ev,key:e3},navigationType:c}},[e_,e0,eg,e1,ev,e3,c]);return null==e2?null:i.createElement(ce.Provider,{value:e$},i.createElement(ue.Provider,{children:s,value:e2}))}function Ne(i){let{children:a,location:l}=i;return ye(Me(a),l)}function Me(a,l){void 0===l&&(l=[]);let s=[];return i.Children.forEach(a,(a,o)=>{if(!i.isValidElement(a))return;let c=[...l,o];if(a.type===i.Fragment)return void s.push.apply(s,Me(a.props.children,c));a.type!==_e&&T(!1),a.props.index&&a.props.children&&T(!1);let u={id:a.props.id||c.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:null!=a.props.ErrorBoundary||null!=a.props.errorElement,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(u.children=Me(a.props.children,c)),s.push(u)}),s}/**
 * React Router DOM v6.26.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */ function Le(i){return void 0===i&&(i=""),new URLSearchParams("string"==typeof i||Array.isArray(i)||i instanceof URLSearchParams?i:Object.keys(i).reduce((a,l)=>{let s=i[l];return a.concat(Array.isArray(s)?s.map(i=>[l,i]):[[l,s]])},[]))}new Promise(()=>{});try{window.__reactRouterVersion="6"}catch(e_){}let Oe=a.startTransition;function Ae(a){let{basename:l,children:s,future:o,window:c}=a,u=i.useRef();null==u.current&&(u.current=_({window:c,v5Compat:!0}));let d=u.current,[h,e_]=i.useState({action:d.action,location:d.location}),{v7_startTransition:e$}=o||{},e0=i.useCallback(i=>{e$&&Oe?Oe(()=>e_(i)):e_(i)},[e_,e$]);return i.useLayoutEffect(()=>d.listen(e0),[d,e0]),i.createElement(Te,{basename:l,children:s,location:h.location,navigationType:h.action,navigator:d,future:o})}function De(a){let l=i.useRef(Le(a)),s=i.useRef(!1),o=pe(),c=i.useMemo(()=>{var i,a;let c;return i=o.search,a=s.current?null:l.current,c=Le(i),a&&a.forEach((i,l)=>{c.has(l)||a.getAll(l).forEach(i=>{c.append(l,i)})}),c},[o.search]),u=ge(),d=i.useCallback((i,a)=>{let l=Le("function"==typeof i?i(c):i);s.current=!0,u("?"+l,a)},[u,c]);return[c,d]}(Re=Pe||(Pe={})).UseScrollRestoration="useScrollRestoration",Re.UseSubmit="useSubmit",Re.UseSubmitFetcher="useSubmitFetcher",Re.UseFetcher="useFetcher",Re.useViewTransitionState="useViewTransitionState",(Fe=Ie||(Ie={})).UseFetcher="useFetcher",Fe.UseFetchers="useFetchers",Fe.UseScrollRestoration="useScrollRestoration";let $e={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},ze=i=>{let a,l=new Set,s=(i,s)=>{let o="function"==typeof i?i(a):i;if(!Object.is(o,a)){let c=a;a=(null!=s?s:"object"!=typeof o||null===o)?o:Object.assign({},a,o),l.forEach(i=>i(a,c))}},o=()=>a,c={setState:s,getState:o,getInitialState:()=>u,subscribe:i=>(l.add(i),()=>l.delete(i)),destroy(){"production"!==($e?"production":void 0)&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),l.clear()}},u=a=i(s,o,c);return c};var Ve={exports:{}},Be={},He={exports:{}},Ue={},We=i,qe="function"==typeof Object.is?Object.is:function(i,a){return i===a&&(0!==i||1/i==1/a)||i!=i&&a!=a},Ge=We.useState,Ze=We.useEffect,Qe=We.useLayoutEffect,Ke=We.useDebugValue;function Ye(i){var a=i.getSnapshot;i=i.value;try{var l=a();return!qe(i,l)}catch(s){return!0}}var Xe="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(i,a){return a()}:function(i,a){var l=a(),s=Ge({inst:{value:l,getSnapshot:a}}),o=s[0].inst,c=s[1];return Qe(function(){o.value=l,o.getSnapshot=a,Ye(o)&&c({inst:o})},[i,l,a]),Ze(function(){return Ye(o)&&c({inst:o}),i(function(){Ye(o)&&c({inst:o})})},[i]),Ke(l),l};Ue.useSyncExternalStore=void 0!==We.useSyncExternalStore?We.useSyncExternalStore:Xe,He.exports=Ue;var Je=He.exports,et=i,tt=Je,nt="function"==typeof Object.is?Object.is:function(i,a){return i===a&&(0!==i||1/i==1/a)||i!=i&&a!=a},rt=tt.useSyncExternalStore,it=et.useRef,ot=et.useEffect,st=et.useMemo,at=et.useDebugValue;Be.useSyncExternalStoreWithSelector=function(i,a,l,s,o){var c=it(null);if(null===c.current){var u={hasValue:!1,value:null};c.current=u}else u=c.current;var d=rt(i,(c=st(function(){function i(i){if(!h){if(h=!0,c=i,i=s(i),void 0!==o&&u.hasValue){var a=u.value;if(o(a,i))return d=a}return d=i}if(a=d,nt(c,i))return a;var l=s(i);return void 0!==o&&o(a,l)?a:(c=i,d=l)}var c,d,h=!1,e_=void 0===l?null:l;return[function(){return i(a())},null===e_?void 0:function(){return i(e_())}]},[a,l,s,o]))[0],c[1]);return ot(function(){u.hasValue=!0,u.value=d},[d]),at(d),d},Ve.exports=Be;let lt=l(Ve.exports),ct={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},{useDebugValue:ut}=s,{useSyncExternalStoreWithSelector:dt}=lt,ht=!1,ft=i=>i,pt=i=>{var a;"production"!==(ct?"production":void 0)&&"function"!=typeof i&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");let l="function"==typeof i?(a=i)?ze(a):ze:i,s=(i,a)=>(function(i,a=ft,l){"production"!==(ct?"production":void 0)&&l&&!ht&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),ht=!0);let s=dt(i.subscribe,i.getState,i.getServerState||i.getInitialState,a,l);return ut(s),s})(l,i,a);return Object.assign(s,l),s},mt=i=>i?pt(i):pt;var gt=Symbol.for("immer-nothing"),vt=Symbol.for("immer-draftable"),yt=Symbol.for("immer-state");function bt(i,...a){throw Error(`[Immer] minified error nr: ${i}. Full error at: https://bit.ly/3cXEKWf`)}var xt=Object.getPrototypeOf;function wt(i){return!!i&&!!i[yt]}function Ct(i){var a;return!!i&&(St(i)||Array.isArray(i)||!!i[vt]||!!(null==(a=i.constructor)?void 0:a[vt])||Nt(i)||Mt(i))}var kt=Object.prototype.constructor.toString();function St(i){if(!i||"object"!=typeof i)return!1;let a=xt(i);if(null===a)return!0;let l=Object.hasOwnProperty.call(a,"constructor")&&a.constructor;return l===Object||"function"==typeof l&&Function.toString.call(l)===kt}function Et(i,a){0===jt(i)?Reflect.ownKeys(i).forEach(l=>{a(l,i[l],i)}):i.forEach((l,s)=>a(s,l,i))}function jt(i){let a=i[yt];return a?a.type_:Array.isArray(i)?1:Nt(i)?2:Mt(i)?3:0}function _t(i,a){return 2===jt(i)?i.has(a):Object.prototype.hasOwnProperty.call(i,a)}function Tt(i,a,l){let s=jt(i);2===s?i.set(a,l):3===s?i.add(l):i[a]=l}function Nt(i){return i instanceof Map}function Mt(i){return i instanceof Set}function Lt(i){return i.copy_||i.base_}function Ot(i,a){if(Nt(i))return new Map(i);if(Mt(i))return new Set(i);if(Array.isArray(i))return Array.prototype.slice.call(i);let l=St(i);if(!0===a||"class_only"===a&&!l){let s=Object.getOwnPropertyDescriptors(i);delete s[yt];let o=Reflect.ownKeys(s);for(let c=0;c<o.length;c++){let u=o[c],d=s[u];!1===d.writable&&(d.writable=!0,d.configurable=!0),(d.get||d.set)&&(s[u]={configurable:!0,writable:!0,enumerable:d.enumerable,value:i[u]})}return Object.create(xt(i),s)}{let h=xt(i);if(null!==h&&l)return{...i};let e_=Object.create(h);return Object.assign(e_,i)}}function At(i,a=!1){return Rt(i)||wt(i)||!Ct(i)||(jt(i)>1&&(i.set=i.add=i.clear=i.delete=Pt),Object.freeze(i),a&&Object.entries(i).forEach(([i,a])=>At(a,!0))),i}function Pt(){bt(2)}function Rt(i){return Object.isFrozen(i)}var P,R,Pe,Re,Ie,Fe,It,Ft={};function Dt(i){let a=Ft[i];return a||bt(0),a}function $t(){return It}function zt(i,a){a&&(Dt("Patches"),i.patches_=[],i.inversePatches_=[],i.patchListener_=a)}function Vt(i){Bt(i),i.drafts_.forEach(Ut),i.drafts_=null}function Bt(i){i===It&&(It=i.parent_)}function Ht(i){return It={drafts_:[],parent_:It,immer_:i,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Ut(i){let a=i[yt];0===a.type_||1===a.type_?a.revoke_():a.revoked_=!0}function Wt(i,a){a.unfinalizedDrafts_=a.drafts_.length;let l=a.drafts_[0];return void 0!==i&&i!==l?(l[yt].modified_&&(Vt(a),bt(4)),Ct(i)&&(i=qt(a,i),a.parent_||Zt(a,i)),a.patches_&&Dt("Patches").generateReplacementPatches_(l[yt].base_,i,a.patches_,a.inversePatches_)):i=qt(a,l,[]),Vt(a),a.patches_&&a.patchListener_(a.patches_,a.inversePatches_),i!==gt?i:void 0}function qt(i,a,l){if(Rt(a))return a;let s=a[yt];if(!s)return Et(a,(o,c)=>Gt(i,s,a,o,c,l)),a;if(s.scope_!==i)return a;if(!s.modified_)return Zt(i,s.base_,!0),s.base_;if(!s.finalized_){s.finalized_=!0,s.scope_.unfinalizedDrafts_--;let o=s.copy_,c=o,u=!1;3===s.type_&&(c=new Set(o),o.clear(),u=!0),Et(c,(a,c)=>Gt(i,s,o,a,c,l,u)),Zt(i,o,!1),l&&i.patches_&&Dt("Patches").generatePatches_(s,l,i.patches_,i.inversePatches_)}return s.copy_}function Gt(i,a,l,s,o,c,u){if(wt(o)){let d=qt(i,o,c&&a&&3!==a.type_&&!_t(a.assigned_,s)?c.concat(s):void 0);if(Tt(l,s,d),!wt(d))return;i.canAutoFreeze_=!1}else u&&l.add(o);if(Ct(o)&&!Rt(o)){if(!i.immer_.autoFreeze_&&i.unfinalizedDrafts_<1)return;qt(i,o),a&&a.scope_.parent_||"symbol"==typeof s||!Object.prototype.propertyIsEnumerable.call(l,s)||Zt(i,o)}}function Zt(i,a,l=!1){!i.parent_&&i.immer_.autoFreeze_&&i.canAutoFreeze_&&At(a,l)}var Qt={get(i,a){if(a===yt)return i;let l=Lt(i);if(!_t(l,a))return function(i,a,l){var s;let o=Xt(a,l);return o?"value"in o?o.value:null==(s=o.get)?void 0:s.call(i.draft_):void 0}(i,l,a);let s=l[a];return i.finalized_||!Ct(s)?s:s===Yt(i.base_,a)?(en(i),i.copy_[a]=tn(s,i)):s},has:(i,a)=>a in Lt(i),ownKeys:i=>Reflect.ownKeys(Lt(i)),set(i,a,l){var s,o;let c=Xt(Lt(i),a);if(null==c?void 0:c.set)return c.set.call(i.draft_,l),!0;if(!i.modified_){let u=Yt(Lt(i),a),d=null==u?void 0:u[yt];if(d&&d.base_===l)return i.copy_[a]=l,i.assigned_[a]=!1,!0;if(((s=l)===(o=u)?0!==s||1/s==1/o:s!=s&&o!=o)&&(void 0!==l||_t(i.base_,a)))return!0;en(i),Jt(i)}return i.copy_[a]===l&&(void 0!==l||a in i.copy_)||Number.isNaN(l)&&Number.isNaN(i.copy_[a])||(i.copy_[a]=l,i.assigned_[a]=!0),!0},deleteProperty:(i,a)=>(void 0!==Yt(i.base_,a)||a in i.base_?(i.assigned_[a]=!1,en(i),Jt(i)):delete i.assigned_[a],i.copy_&&delete i.copy_[a],!0),getOwnPropertyDescriptor(i,a){let l=Lt(i),s=Reflect.getOwnPropertyDescriptor(l,a);return s?{writable:!0,configurable:1!==i.type_||"length"!==a,enumerable:s.enumerable,value:l[a]}:s},defineProperty(){bt(11)},getPrototypeOf:i=>xt(i.base_),setPrototypeOf(){bt(12)}},Kt={};function Yt(i,a){let l=i[yt];return(l?Lt(l):i)[a]}function Xt(i,a){if(!(a in i))return;let l=xt(i);for(;l;){let s=Object.getOwnPropertyDescriptor(l,a);if(s)return s;l=xt(l)}}function Jt(i){i.modified_||(i.modified_=!0,i.parent_&&Jt(i.parent_))}function en(i){i.copy_||(i.copy_=Ot(i.base_,i.scope_.immer_.useStrictShallowCopy_))}function tn(i,a){let l=Nt(i)?Dt("MapSet").proxyMap_(i,a):Mt(i)?Dt("MapSet").proxySet_(i,a):function(i,a){let l=Array.isArray(i),s={type_:l?1:0,scope_:a?a.scope_:$t(),modified_:!1,finalized_:!1,assigned_:{},parent_:a,base_:i,draft_:null,copy_:null,revoke_:null,isManual_:!1},o=s,c=Qt;l&&(o=[s],c=Kt);let{revoke:u,proxy:d}=Proxy.revocable(o,c);return s.draft_=d,s.revoke_=u,d}(i,a);return(a?a.scope_:$t()).drafts_.push(l),l}function nn(i){if(!Ct(i)||Rt(i))return i;let a=i[yt],l;if(a){if(!a.modified_)return a.base_;a.finalized_=!0,l=Ot(i,a.scope_.immer_.useStrictShallowCopy_)}else l=Ot(i,!0);return Et(l,(i,a)=>{Tt(l,i,nn(a))}),a&&(a.finalized_=!1),l}Et(Qt,(i,a)=>{Kt[i]=function(){return arguments[0]=arguments[0][0],a.apply(this,arguments)}}),Kt.deleteProperty=function(i,a){return Kt.set.call(this,i,a,void 0)},Kt.set=function(i,a,l){return Qt.set.call(this,i[0],a,l,i[0])};var rn=new class{constructor(i){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(i,a,l)=>{if("function"==typeof i&&"function"!=typeof a){let s=a;a=i;let o=this;return function(i=s,...l){return o.produce(i,i=>a.call(this,i,...l))}}let c;if("function"!=typeof a&&bt(6),void 0!==l&&"function"!=typeof l&&bt(7),Ct(i)){let u=Ht(this),d=tn(i,void 0),h=!0;try{c=a(d),h=!1}finally{h?Vt(u):Bt(u)}return zt(u,l),Wt(c,u)}if(!i||"object"!=typeof i){if(void 0===(c=a(i))&&(c=i),c===gt&&(c=void 0),this.autoFreeze_&&At(c,!0),l){let e_=[],e$=[];Dt("Patches").generateReplacementPatches_(i,c,e_,e$),l(e_,e$)}return c}bt(1)},this.produceWithPatches=(i,a)=>{if("function"==typeof i)return(a,...l)=>this.produceWithPatches(a,a=>i(a,...l));let l,s;return[this.produce(i,a,(i,a)=>{l=i,s=a}),l,s]},"boolean"==typeof(null==i?void 0:i.autoFreeze)&&this.setAutoFreeze(i.autoFreeze),"boolean"==typeof(null==i?void 0:i.useStrictShallowCopy)&&this.setUseStrictShallowCopy(i.useStrictShallowCopy)}createDraft(i){var a;Ct(i)||bt(8),wt(i)&&(i=(a=i,wt(a)||bt(10),nn(a)));let l=Ht(this),s=tn(i,void 0);return s[yt].isManual_=!0,Bt(l),s}finishDraft(i,a){let l=i&&i[yt];l&&l.isManual_||bt(9);let{scope_:s}=l;return zt(s,a),Wt(void 0,s)}setAutoFreeze(i){this.autoFreeze_=i}setUseStrictShallowCopy(i){this.useStrictShallowCopy_=i}applyPatches(i,a){let l;for(l=a.length-1;l>=0;l--){let s=a[l];if(0===s.path.length&&"replace"===s.op){i=s.value;break}}l>-1&&(a=a.slice(l+1));let o=Dt("Patches").applyPatches_;return wt(i)?o(i,a):this.produce(i,i=>o(i,a))}},on=rn.produce;rn.produceWithPatches.bind(rn),rn.setAutoFreeze.bind(rn),rn.setUseStrictShallowCopy.bind(rn),rn.applyPatches.bind(rn),rn.createDraft.bind(rn),rn.finishDraft.bind(rn);let sn=i=>(a,l,s)=>(s.setState=(i,l,...s)=>{let o="function"==typeof i?on(i):i;return a(o,l,...s)},i(s.setState,l,s)),an=i=>({casting:{instance:null,player:null,controller:null,setInstance(a){i(i=>{i.casting.instance=a})},setPlayer(a){i(i=>{i.casting.player=a})},setController(a){i(i=>{i.casting.controller=a})},setIsCasting(a){i(i=>{i.interface.isCasting=a})},clear(){i(i=>{i.casting.instance=null})}}}),ln=Object.entries({unknown:0,360:10,480:20,720:30,1080:40,"4k":35}).sort((i,a)=>a[1]-i[1]).map(i=>i[0]);function cn(i,a){if(a.automaticQuality||null===a.lastChosenQuality||"unknown"===a.lastChosenQuality)return ln.find(a=>i.includes(a));let l=ln.indexOf(a.lastChosenQuality),s;for(let o=l;o<ln.length;o+=1)if(i.includes(ln[o])){s=ln[o];break}if(s)return s;for(let c=l;c>=0;c-=1)if(i.includes(ln[c])){s=ln[c];break}return s}function un(i,a){if("hls"===i.type)return{stream:i,quality:null};if("file"===i.type){let l=cn(Object.entries(i.qualities).filter(i=>(i[1].url.length??0)>0).map(i=>i[0]),a);if(l){let s=i.qualities[l];if(s)return{stream:s,quality:l}}}throw Error("couldn't select quality")}let dn={"4k":"4K",1080:"1080p",360:"360p",480:"480p",720:"720p",unknown:"unknown"},hn=Object.keys(dn);function fn(i){return dn[i]}var pn={exports:{}};!function(i,a){var l="__lodash_hash_undefined__",s="[object Arguments]",c="[object Function]",u="[object Object]",d=/^\[object .+?Constructor\]$/,h=/^(?:0|[1-9]\d*)$/,e_={};e_["[object Float32Array]"]=e_["[object Float64Array]"]=e_["[object Int8Array]"]=e_["[object Int16Array]"]=e_["[object Int32Array]"]=e_["[object Uint8Array]"]=e_["[object Uint8ClampedArray]"]=e_["[object Uint16Array]"]=e_["[object Uint32Array]"]=!0,e_[s]=e_["[object Array]"]=e_["[object ArrayBuffer]"]=e_["[object Boolean]"]=e_["[object DataView]"]=e_["[object Date]"]=e_["[object Error]"]=e_[c]=e_["[object Map]"]=e_["[object Number]"]=e_[u]=e_["[object RegExp]"]=e_["[object Set]"]=e_["[object String]"]=e_["[object WeakMap]"]=!1;var e$,e0="object"==typeof o&&o&&o.Object===Object&&o,eg="object"==typeof self&&self&&self.Object===Object&&self,e1=e0||eg||Function("return this")(),ev=a&&!a.nodeType&&a,e3=ev&&i&&!i.nodeType&&i,e2=e3&&e3.exports===ev,e4=e2&&e0.process,ey=function(){try{return e3&&e3.require&&e3.require("util").types||e4&&e4.binding&&e4.binding("util")}catch(i){}}(),e6=ey&&ey.isTypedArray,e5=Array.prototype,e7=Function.prototype,ex=Object.prototype,eb=e1["__core-js_shared__"],ew=e7.toString,eS=ex.hasOwnProperty,eC=(e$=/[^.]+$/.exec(eb&&eb.keys&&eb.keys.IE_PROTO||""))?"Symbol(src)_1."+e$:"",ek=ex.toString,eE=ew.call(Object),e8=RegExp("^"+ew.call(eS).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ej=e2?e1.Buffer:void 0,eT=e1.Symbol,eL=e1.Uint8Array;ej&&ej.allocUnsafe;var eN,eA,eO=(eN=Object.getPrototypeOf,eA=Object,function(i){return eN(eA(i))}),eP=Object.create,eM=ex.propertyIsEnumerable,eR=e5.splice,eI=eT?eT.toStringTag:void 0,eF=function(){try{var i=tg(Object,"defineProperty");return i({},"",{}),i}catch(a){}}(),eD=ej?ej.isBuffer:void 0,e9=Math.max,ez=Date.now,eV=tg(e1,"Map"),eB=tg(Object,"create"),eH=function(){function i(){}return function(a){if(!tk(a))return{};if(eP)return eP(a);i.prototype=a;var l=new i;return i.prototype=void 0,l}}();function eU(i){var a=-1,l=null==i?0:i.length;for(this.clear();++a<l;){var s=i[a];this.set(s[0],s[1])}}function eq(i){var a=-1,l=null==i?0:i.length;for(this.clear();++a<l;){var s=i[a];this.set(s[0],s[1])}}function eW(i){var a=-1,l=null==i?0:i.length;for(this.clear();++a<l;){var s=i[a];this.set(s[0],s[1])}}function eG(i){var a=this.__data__=new eq(i);this.size=a.size}function eK(i,a,l){(void 0===l||t5(i[a],l))&&(void 0!==l||a in i)||eY(i,a,l)}function eZ(i,a,l){var s=i[a];eS.call(i,a)&&t5(s,l)&&(void 0!==l||a in i)||eY(i,a,l)}function eX(i,a){for(var l=i.length;l--;)if(t5(i[l][0],a))return l;return -1}function eY(i,a,l){"__proto__"==a&&eF?eF(i,a,{configurable:!0,enumerable:!0,value:l,writable:!0}):i[a]=l}eU.prototype.clear=function(){this.__data__=eB?eB(null):{},this.size=0},eU.prototype.delete=function(i){var a=this.has(i)&&delete this.__data__[i];return this.size-=a?1:0,a},eU.prototype.get=function(i){var a=this.__data__;if(eB){var s=a[i];return s===l?void 0:s}return eS.call(a,i)?a[i]:void 0},eU.prototype.has=function(i){var a=this.__data__;return eB?void 0!==a[i]:eS.call(a,i)},eU.prototype.set=function(i,a){var s=this.__data__;return this.size+=this.has(i)?0:1,s[i]=eB&&void 0===a?l:a,this},eq.prototype.clear=function(){this.__data__=[],this.size=0},eq.prototype.delete=function(i){var a=this.__data__,l=eX(a,i);return!(l<0)&&(l==a.length-1?a.pop():eR.call(a,l,1),--this.size,!0)},eq.prototype.get=function(i){var a=this.__data__,l=eX(a,i);return l<0?void 0:a[l][1]},eq.prototype.has=function(i){return eX(this.__data__,i)>-1},eq.prototype.set=function(i,a){var l=this.__data__,s=eX(l,i);return s<0?(++this.size,l.push([i,a])):l[s][1]=a,this},eW.prototype.clear=function(){this.size=0,this.__data__={hash:new eU,map:new(eV||eq),string:new eU}},eW.prototype.delete=function(i){var a=t0(this,i).delete(i);return this.size-=a?1:0,a},eW.prototype.get=function(i){return t0(this,i).get(i)},eW.prototype.has=function(i){return t0(this,i).has(i)},eW.prototype.set=function(i,a){var l=t0(this,i),s=l.size;return l.set(i,a),this.size+=l.size==s?0:1,this},eG.prototype.clear=function(){this.__data__=new eq,this.size=0},eG.prototype.delete=function(i){var a=this.__data__,l=a.delete(i);return this.size=a.size,l},eG.prototype.get=function(i){return this.__data__.get(i)},eG.prototype.has=function(i){return this.__data__.has(i)},eG.prototype.set=function(i,a){var l=this.__data__;if(l instanceof eq){var s=l.__data__;if(!eV||s.length<199)return s.push([i,a]),this.size=++l.size,this;l=this.__data__=new eW(s)}return l.set(i,a),this.size=l.size,this};var eQ=function(i,a,l){for(var s=-1,o=Object(i),c=l(i),u=c.length;u--;){var d=c[++s];if(!1===a(o[d],d,o))break}return i};function eJ(i){var a;return null==i?void 0===i?"[object Undefined]":"[object Null]":eI&&eI in Object(i)?function(i){var a=eS.call(i,eI),l=i[eI];try{i[eI]=void 0;var s=!0}catch(o){}var c=ek.call(i);return s&&(a?i[eI]=l:delete i[eI]),c}(i):(a=i,ek.call(a))}function t_(i){return tE(i)&&eJ(i)==s}var t$=eF?function(i,a){var l;return eF(i,"toString",{configurable:!0,enumerable:!1,value:(l=a,function(){return l}),writable:!0})}:tR;function t0(i,a){var l,s,o=i.__data__;return("string"==(s=typeof(l=a))||"number"==s||"symbol"==s||"boolean"==s?"__proto__"!==l:null===l)?o["string"==typeof a?"string":"hash"]:o.map}function tg(i,a){var l,s,o,c,u=(l=i,s=a,null==l?void 0:l[s]);return!(!tk(o=u)||(c=o,eC&&eC in c))&&(tS(o)?e8:d).test(function(i){if(null!=i){try{return ew.call(i)}catch(a){}try{return i+""}catch(l){}}return""}(o))?u:void 0}function t1(i,a){var l=typeof i;return!!(a=null==a?9007199254740991:a)&&("number"==l||"symbol"!=l&&h.test(i))&&i>-1&&i%1==0&&i<a}function tv(i){var a=i&&i.constructor;return i===("function"==typeof a&&a.prototype||ex)}function t3(i,a){if(("constructor"!==a||"function"!=typeof i[a])&&"__proto__"!=a)return i[a]}var t2,t4,ty,t6=(t2=t$,t4=0,ty=0,function(){var i=ez(),a=16-(i-ty);if(ty=i,a>0){if(++t4>=800)return arguments[0]}else t4=0;return t2.apply(void 0,arguments)});function t5(i,a){return i===a||i!=i&&a!=a}var t7=t_(function(){return arguments}())?t_:function(i){return tE(i)&&eS.call(i,"callee")&&!eM.call(i,"callee")},tx=Array.isArray;function tb(i){return null!=i&&tC(i.length)&&!tS(i)}var tw=eD||function(){return!1};function tS(i){if(!tk(i))return!1;var a=eJ(i);return a==c||"[object GeneratorFunction]"==a||"[object AsyncFunction]"==a||"[object Proxy]"==a}function tC(i){return"number"==typeof i&&i>-1&&i%1==0&&i<=9007199254740991}function tk(i){var a=typeof i;return null!=i&&("object"==a||"function"==a)}function tE(i){return null!=i&&"object"==typeof i}var t8,tj=e6?(t8=e6,function(i){return t8(i)}):function(i){return tE(i)&&tC(i.length)&&!!e_[eJ(i)]};function tT(i){return tb(i)?function i(a,l){var s=tx(a),o=!s&&t7(a),c=!s&&!o&&tw(a),u=!s&&!o&&!c&&tj(a),d=s||o||c||u,h=d?function(i,a){for(var l=-1,s=Array(i);++l<i;)s[l]=a(l);return s}(a.length,String):[],e_=h.length;for(var e$ in a)d&&("length"==e$||c&&("offset"==e$||"parent"==e$)||u&&("buffer"==e$||"byteLength"==e$||"byteOffset"==e$)||t1(e$,e_))||h.push(e$);return h}(i):function i(a){if(!tk(a))return function(i){var a=[];if(null!=i)for(var l in Object(i))a.push(l);return a}(a);var l=tv(a),s=[];for(var o in a)("constructor"!=o||!l&&eS.call(a,o))&&s.push(o);return s}(i)}var tL,tN,tA,tO,tP,tM=(tP=function(i,a,l){(function i(a,l,s,o,c){a!==l&&eQ(l,function(d,h){if(c||(c=new eG),tk(d))!function(i,a,l,s,o,c,d){var h,e_=t3(i,l),e$=t3(a,l),e0=d.get(e$);if(e0)return void eK(i,l,e0);var eg=c?c(e_,e$,l+"",i,a,d):void 0,e1=void 0===eg;if(e1){var ev,e3,e2,e4,ey,e6,e5=tx(e$),e7=!e5&&tw(e$),ex=!e5&&!e7&&tj(e$);eg=e$,e5||e7||ex?tx(e_)?eg=e_:tE(h=e_)&&tb(h)?eg=function(i,a){var l=-1,s=i.length;for(a||(a=Array(s));++l<s;)a[l]=i[l];return a}(e_):e7?(e1=!1,eg=e$.slice()):ex?(e1=!1,eg=(e4=(e2=new(e3=(ev=e$).buffer).constructor(e3.byteLength),new eL(e2).set(new eL(e3)),e2),new ev.constructor(e4,ev.byteOffset,ev.length))):eg=[]:function(i){if(!tE(i)||eJ(i)!=u)return!1;var a=eO(i);if(null===a)return!0;var l=eS.call(a,"constructor")&&a.constructor;return"function"==typeof l&&l instanceof l&&ew.call(l)==eE}(e$)||t7(e$)?(eg=e_,t7(e_)?eg=function(i,a,l){var s=!l;l||(l={});for(var o=-1,c=a.length;++o<c;){var u=a[o],d=void 0;void 0===d&&(d=i[u]),s?eY(l,u,d):eZ(l,u,d)}return l}(ey=e_,tT(ey)):tk(e_)&&!tS(e_)||(eg="function"!=typeof(e6=e$).constructor||tv(e6)?{}:eH(eO(e6)))):e1=!1}e1&&(d.set(e$,eg),o(eg,e$,s,c,d),d.delete(e$)),eK(i,l,eg)}(a,l,h,s,i,o,c);else{var e_=o?o(t3(a,h),d,h+"",a,l,c):void 0;void 0===e_&&(e_=d),eK(a,h,e_)}},tT)})(i,a,l)},t6((tN=tL=function(i,a){var l=-1,s=a.length,o=s>1?a[s-1]:void 0,c=s>2?a[2]:void 0;for(o=tP.length>3&&"function"==typeof o?(s--,o):void 0,c&&function(i,a,l){if(!tk(l))return!1;var s=typeof a;return!!("number"==s?tb(l)&&t1(a,l.length):"string"==s&&(a in l))&&t5(l[a],i)}(a[0],a[1],c)&&(o=s<3?void 0:o,s=1),i=Object(i);++l<s;){var u=a[l];u&&tP(i,u,l,o)}return i},tA=void 0,tO=tR,tA=e9(void 0===tA?tN.length-1:tA,0),function(){for(var i=arguments,a=-1,l=e9(i.length-tA,0),s=Array(l);++a<l;)s[a]=i[tA+a];a=-1;for(var o=Array(tA+1);++a<tA;)o[a]=i[a];return o[tA]=tO(s),function(i,a,l){switch(l.length){case 0:return i.call(a);case 1:return i.call(a,l[0]);case 2:return i.call(a,l[0],l[1]);case 3:return i.call(a,l[0],l[1],l[2])}return i.apply(a,l)}(tN,this,o)}),tL+""));function tR(i){return i}i.exports=tM}(pn,pn.exports);let mn=l(pn.exports),gn={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1};function vn(i,a){let l;try{l=i()}catch(s){return}return{getItem(i){var a;let s=i=>null===i?null:JSON.parse(i,void 0),o=null!=(a=l.getItem(i))?a:null;return o instanceof Promise?o.then(s):s(o)},setItem:(i,a)=>l.setItem(i,JSON.stringify(a,void 0)),removeItem:i=>l.removeItem(i)}}let yn=i=>a=>{try{let l=i(a);return l instanceof Promise?l:{then:i=>yn(i)(l),catch(i){return this}}}catch(s){return{then(i){return this},catch:i=>yn(i)(s)}}},bn=(i,a)=>{var l,s,o,c;return"getStorage"in a||"serialize"in a||"deserialize"in a?("production"!==(gn?"production":void 0)&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),l=i,s=a,(i,a,o)=>{let c={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:i=>i,version:0,merge:(i,a)=>({...a,...i}),...s},u=!1,d=new Set,h=new Set,e_;try{e_=c.getStorage()}catch(e$){}if(!e_)return l((...a)=>{console.warn(`[zustand persist middleware] Unable to update item '${c.name}', the given storage is currently unavailable.`),i(...a)},a,o);let e0=yn(c.serialize),eg=()=>{let i=c.partialize({...a()}),l,s=e0({state:i,version:c.version}).then(i=>e_.setItem(c.name,i)).catch(i=>{l=i});if(l)throw l;return s},e1=o.setState;o.setState=(i,a)=>{e1(i,a),eg()};let ev=l((...a)=>{i(...a),eg()},a,o),e3,e2=()=>{var l;if(!e_)return;u=!1,d.forEach(i=>i(a()));let s=(null==(l=c.onRehydrateStorage)?void 0:l.call(c,a()))||void 0;return yn(e_.getItem.bind(e_))(c.name).then(i=>{if(i)return c.deserialize(i)}).then(i=>{if(i){if("number"!=typeof i.version||i.version===c.version)return i.state;if(c.migrate)return c.migrate(i.state,i.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}}).then(l=>{var s;return e3=c.merge(l,null!=(s=a())?s:ev),i(e3,!0),eg()}).then(()=>{null==s||s(e3,void 0),u=!0,h.forEach(i=>i(e3))}).catch(i=>{null==s||s(void 0,i)})};return o.persist={setOptions(i){c={...c,...i},i.getStorage&&(e_=i.getStorage())},clearStorage(){null==e_||e_.removeItem(c.name)},getOptions:()=>c,rehydrate:()=>e2(),hasHydrated:()=>u,onHydrate:i=>(d.add(i),()=>{d.delete(i)}),onFinishHydration:i=>(h.add(i),()=>{h.delete(i)})},e2(),e3||ev}):(o=i,c=a,(i,a,l)=>{let s={storage:vn(()=>localStorage),partialize:i=>i,version:0,merge:(i,a)=>({...a,...i}),...c},u=!1,d=new Set,h=new Set,e_=s.storage;if(!e_)return o((...a)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),i(...a)},a,l);let e$=()=>{let i=s.partialize({...a()});return e_.setItem(s.name,{state:i,version:s.version})},e0=l.setState;l.setState=(i,a)=>{e0(i,a),e$()};let eg=o((...a)=>{i(...a),e$()},a,l),e1;l.getInitialState=()=>eg;let ev=()=>{var l,o;if(!e_)return;u=!1,d.forEach(i=>{var l;return i(null!=(l=a())?l:eg)});let c=(null==(o=s.onRehydrateStorage)?void 0:o.call(s,null!=(l=a())?l:eg))||void 0;return yn(e_.getItem.bind(e_))(s.name).then(i=>{if(i){if("number"!=typeof i.version||i.version===s.version)return[!1,i.state];if(s.migrate)return[!0,s.migrate(i.state,i.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}return[!1,void 0]}).then(l=>{var o;let[c,u]=l;if(e1=s.merge(u,null!=(o=a())?o:eg),i(e1,!0),c)return e$()}).then(()=>{null==c||c(e1,void 0),e1=a(),u=!0,h.forEach(i=>i(e1))}).catch(i=>{null==c||c(void 0,i)})};return l.persist={setOptions(i){s={...s,...i},i.storage&&(e_=i.storage)},clearStorage(){null==e_||e_.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>ev(),hasHydrated:()=>u,onHydrate:i=>(d.add(i),()=>{d.delete(i)}),onFinishHydration:i=>(h.add(i),()=>{h.delete(i)})},s.skipHydration||ev(),e1||eg})},xn=mt(bn(sn(i=>({quality:{automaticQuality:!0,lastChosenQuality:null},setLastChosenQuality(a){i(i=>{i.quality.lastChosenQuality=a})},setAutomaticQuality(a){i(i=>{i.quality.automaticQuality=a})}})),{name:"embed::quality",merge:(i,a)=>mn({},a,i)})),wn="idle",Cn="playing",kn="playbackError",Sn=(i,a)=>({source:null,sourceId:null,qualities:[],audioTracks:[],captionList:[],currentQuality:null,currentAudioTrack:null,status:wn,meta:null,caption:{selected:null,asTrack:!1},setSourceId(a){i(i=>{i.status=Cn,i.sourceId=a})},setStatus(a){i(i=>{i.status=a})},setMeta(a,l){i(i=>{i.meta=a,i.interface.hideNextEpisodeBtn=!1,l&&(i.status=l)})},addCaptionList(a){i(i=>{i.captionList.find(i=>i.id===a.id)||i.captionList.push(a)})},setCaption(l){var s;null==(s=a().display)||s.setCaption(l),i(i=>{i.caption.selected=l})},setSource(l,s,o){let c=[];"file"===l.type&&(c=Object.keys(l.qualities));let u=xn.getState(),d=un(l,u.quality);i(i=>{i.source=l,i.qualities=c,i.currentQuality=d.quality,i.captionList=s,i.interface.error=void 0,i.status=Cn,i.audioTracks=[],i.currentAudioTrack=null}),a().redisplaySource(o)},redisplaySource(l){var s;let o=a(),c=o.currentQuality;if(!o.source)return;let u=xn.getState(),d=un(o.source,{automaticQuality:u.quality.automaticQuality,lastChosenQuality:c});i(i=>{i.interface.error=void 0,i.status=Cn}),null==(s=o.display)||s.load({source:d.stream,startAt:l,automaticQuality:u.quality.automaticQuality,preferredQuality:u.quality.lastChosenQuality})},switchQuality(l){var s,o;let c=a();if(c.source){if("file"===c.source.type){let u=c.source.qualities[l];if(!u)return;i(i=>{i.currentQuality=l,i.status=Cn,i.interface.error=void 0}),null==(s=c.display)||s.load({source:u,startAt:c.progress.time,automaticQuality:!1,preferredQuality:l})}else"hls"===c.source.type&&(null==(o=c.display)||o.changeQuality(!1,l))}},enableAutomaticQuality(){var i;null==(i=a().display)||i.changeQuality(!0,null)}}),En=(i,a)=>({display:null,setDisplay(l){let s=a().display;s&&s.destroy(),l?(l.on("pause",()=>i(i=>{i.mediaPlaying.isPaused=!0,i.mediaPlaying.isPlaying=!1})),l.on("play",()=>i(i=>{i.mediaPlaying.hasPlayedOnce=!0,i.mediaPlaying.isPaused=!1,i.mediaPlaying.isPlaying=!0})),l.on("fullscreen",a=>i(i=>{i.interface.isFullscreen=a})),l.on("time",a=>i(i=>{i.progress.time=a})),l.on("volumechange",a=>i(i=>{i.mediaPlaying.volume=a})),l.on("duration",a=>i(i=>{i.progress.duration=a})),l.on("buffered",a=>i(i=>{i.progress.buffered=a})),l.on("loading",a=>i(i=>{i.mediaPlaying.isLoading=a})),l.on("qualities",a=>{i(i=>{i.qualities=a})}),l.on("changedquality",a=>{i(i=>{i.currentQuality=a})}),l.on("audiotracks",a=>{i(i=>{i.audioTracks=a})}),l.on("changedaudiotrack",a=>{i(i=>{i.currentAudioTrack=a})}),l.on("needstrack",a=>{i(i=>{i.caption.asTrack=a})}),l.on("canairplay",a=>{i(i=>{i.interface.canAirplay=a})}),l.on("playbackrate",a=>{i(i=>{i.mediaPlaying.playbackRate=a})}),l.on("error",a=>{i(i=>{i.status=kn,i.interface.error=a})}),i(i=>{i.display=l})):i(i=>{i.display=null})},reset(){var l;null==(l=a().display)||l.load({source:null,startAt:0,automaticQuality:!1,preferredQuality:null}),i(i=>{i.status=wn,i.thumbnails.images=[],i.progress.time=0,i.progress.duration=0})}});var jn=((e=jn||{})[e.REGULAR=0]="REGULAR",e[e.REMAINING=1]="REMAINING",e),_n=((e=_n||{}).NOT_HOVERING="not_hovering",e.MOUSE_HOVER="mouse_hover",e.MOBILE_TAPPED="mobile_tapped",e);let Tn=(i,a)=>({interface:{isCasting:!1,hasOpenOverlay:!1,isFullscreen:!1,isSeeking:!1,lastVolume:0,leftControlHovering:!1,isHoveringControls:!1,hovering:"not_hovering",lastHoveringState:"not_hovering",volumeChangedWithKeybind:!1,volumeChangedWithKeybindDebounce:null,timeFormat:0,canAirplay:!1,hideNextEpisodeBtn:!1,shouldStartFromBeginning:!1},setShouldStartFromBeginning(a){i(i=>{i.interface.shouldStartFromBeginning=a})},setLastVolume(a){i(i=>{i.interface.lastVolume=a})},setHasOpenOverlay(a){i(i=>{i.interface.hasOpenOverlay=a})},setTimeFormat(a){i(i=>{i.interface.timeFormat=a})},updateInterfaceHovering(a){i(i=>{"not_hovering"!==a&&(i.interface.lastHoveringState=a),i.interface.hovering=a})},setSeeking(l){let s=a().display;null==s||s.setSeeking(l),i(i=>{i.interface.isSeeking=l})},setHoveringLeftControls(a){i(i=>{i.interface.leftControlHovering=a})},setHoveringAnyControls(a){i(i=>{i.interface.isHoveringControls=a})},hideNextEpisodeButton(){i(i=>{i.interface.hideNextEpisodeBtn=!0})}}),Nn=i=>({mediaPlaying:{isPlaying:!1,isPaused:!0,isLoading:!1,isSeeking:!1,isDragSeeking:!1,hasPlayedOnce:!1,volume:1,playbackRate:1},play(){i(i=>{i.mediaPlaying.isPlaying=!0,i.mediaPlaying.isPaused=!1})},pause(){i(i=>{i.mediaPlaying.isPlaying=!1,i.mediaPlaying.isPaused=!1})}}),Mn=i=>({progress:{time:0,duration:0,buffered:0,draggingTime:0},setDraggingTime(a){i(i=>{i.progress.draggingTime=a})}}),Ln=(i,a)=>({thumbnails:{images:[],resetImages(){i(i=>{i.thumbnails.images=[]})},addImage(l){let s=a(),o=s.thumbnails.images.findIndex(i=>i.at>=l.at);if(-1===o)return void i(i=>{i.thumbnails.images.push(l),i.thumbnails.images=[...i.thumbnails.images]});s.thumbnails.images[o].at!==l.at?i(i=>{i.thumbnails.images.splice(o,0,l),i.thumbnails.images=[...i.thumbnails.images]}):i(i=>{i.thumbnails.images[o]=l,i.thumbnails.images=[...i.thumbnails.images]})}}}),On=mt(sn((...i)=>({...Tn(...i),...Mn(...i),...Nn(...i),...Sn(...i),...En(...i),...an(...i),...Ln(...i)}))),An=mt(bn(sn(i=>({volume:2,setVolume(a){i(i=>{i.volume=a})}})),{name:"embed::volume"})),Pn=mt(sn(i=>({showVolume:!1,setShowVolume(a){i(i=>{i.showVolume=a})}})));class Rn{constructor({name:i,build:a,detect:l,helper:s,parse:o}){this.name=i,this.helper=s,this.build=a,this.detect=i=>{if("string"!=typeof i)throw TypeError(`Expected string, got ${typeof i}!`);return l(i)},this.parse=(i,a)=>{if("string"!=typeof i)throw TypeError(`Expected string, got ${typeof i}!`);return o(i,a)}}}let In=i=>new Rn(i),Fn={toMilliseconds(i){let a=/^\s*(\d+:)?(\d{1,2}):(\d{1,2})(?:[.,](\d{1,3}))?\s*$/.exec(i);if(!a)throw TypeError(`Invalid time format: ${i}`);return 3600*(a[1]?parseInt(a[1].replace(":","")):0)*1e3+60*parseInt(a[2],10)*1e3+1e3*parseInt(a[3],10)+10*(a[4]?parseInt(a[4],10):0)},toTimeString(i){let a=Math.floor(i/1e3/60%60),l=Math.floor(i/1e3%60),s=Math.floor(i%1e3/10);return`${Math.floor(i/1e3/3600)}:${a<10?"0":""}${a}:${l<10?"0":""}${l}.${s<10?"0":""}${s}`}},Dn=(i,a)=>{let l={};for(let s=0;s<i.length&&s<a.length;s++)l[i[s]]=a[s];return l},$n=(i,a)=>{var l;let s,o=null,c=[],u=null!==(l=a.eol)&&void 0!==l?l:"\r\n",d=i.split(/\r?\n\s*\n/);for(let h of d){let e_=/^\s*\[([^\]]+)\]\r?\n([\s\S]*)$/.exec(h);if(e_){let e$=e_[1],e0=e_[2].split(/\r?\n/);for(let eg of e0){if(/^\s*;/.test(eg))continue;let e1=/^\s*([^\s:]+):\s*(.*)$/.exec(eg);if(e1){if("Script Info"===e$){if(s||((s={}).type="meta",s.data={},c.push(s)),"object"!=typeof s.data)throw TypeError(`Invalid meta data: ${eg}`);{let ev=e1[1].trim(),e3=e1[2].trim();s.data[ev]=e3}}else if("V4 Styles"===e$||"V4+ Styles"===e$){let e2=e1[1].trim(),e4=e1[2].trim();if("Format"===e2)o=e4.split(/\s*,\s*/);else if("Style"===e2&&o){let ey=e4.split(/\s*,\s*/),e6={type:"style"};e6.data=Dn(o,ey),c.push(e6)}}else if("Events"===e$){let e5=e1[1].trim(),e7=e1[2].trim();if("Format"===e5)o=e7.split(/\s*,\s*/);else if("Dialogue"===e5&&o){let ex=e7.split(/\s*,\s*/),eb={type:"caption"};eb.data=Dn(o,ex),eb.start=Fn.toMilliseconds(eb.data.Start),eb.end=Fn.toMilliseconds(eb.data.End),eb.duration=eb.end-eb.start,eb.content=eb.data.Text;let ew=e7.split(",",o.length-1).join(",").length+1+1;eb.content=e7.substring(ew),eb.data.Text=eb.content,eb.text=eb.content.replace(/\\N/g,u).replace(/\{[^}]+\}/g,""),c.push(eb)}}}}}a.verbose&&console.warn("Unknown part",h)}return c},zn=(i,a)=>{var l;let s=null!==(l=a.eol)&&void 0!==l?l:"\r\n",o="ass"===a.format,c="";for(let u of(c+=`[Script Info]${s}`,c+=`; Script generated by subsrt ${s}`,c+=`ScriptType: v4.00${o?"+":""}${s}`,c+=`Collisions: Normal${s}`,c+=s,o?(c+=`[V4+ Styles]${s}`,c+=`Format: Name, Fontname, Fontsize, PrimaryColour, SecondaryColour, OutlineColour, BackColour, Bold, Italic, Underline, StrikeOut, ScaleX, ScaleY, Spacing, Angle, BorderStyle, Outline, Shadow, Alignment, MarginL, MarginR, MarginV, Encoding${s}`,c+=`Style: DefaultVCD, Arial,28,&H00B4FCFC,&H00B4FCFC,&H00000008,&H80000008,-1,0,0,0,100,100,0.00,0.00,1,1.00,2.00,2,30,30,30,0${s}`):(c+=`[V4 Styles]${s}`,c+=`Format: Name, Fontname, Fontsize, PrimaryColour, SecondaryColour, TertiaryColour, BackColour, Bold, Italic, BorderStyle, Outline, Shadow, Alignment, MarginL, MarginR, MarginV, AlphaLevel, Encoding${s}`,c+=`Style: DefaultVCD, Arial,28,11861244,11861244,11861244,-2147483640,-1,0,1,1,2,2,30,30,30,0,0${s}`),c+=s,c+=`[Events]${s}`,c+=`Format: ${o?"Layer":"Marked"}, Start, End, Style, Name, MarginL, MarginR, MarginV, Effect, Text${s}`,i))"meta"!==u.type&&(u.type&&"caption"!==u.type?a.verbose&&console.log("SKIP:",u):c+=`Dialogue: ${o?"0":"Marked=0"},${Fn.toTimeString(u.start)},${Fn.toTimeString(u.end)},DefaultVCD, NTP,0000,0000,0000,,${u.text.replace(/\r?\n/g,"\\N")}${s}`);return c},Vn=i=>!(!/^\s*\[Script Info\]\r?\n/.test(i)||!/\s*\[Events\]\r?\n/.test(i))&&(i.indexOf("[V4+ Styles]")>0?"ass":"ssa"),Bn=In({name:"ssa",build:zn,detect:Vn,helper:Fn,parse:$n}),Hn=In({name:"ass",build:zn,detect:Vn,helper:Fn,parse:$n}),Un=In({name:"json",build:(i,a)=>JSON.stringify(i,void 0,2),detect(i){try{let a=JSON.parse(i);return Array.isArray(a)&&a.length>0&&"object"==typeof a[0]}catch(l){return!1}},parse:(i,a)=>JSON.parse(i)}),Wn={toMilliseconds(i){let a=/^\s*(\d+):(\d{1,2})(?:[.,](\d{1,3}))?\s*$/.exec(i);if(!a)throw TypeError(`Invalid time format: ${i}`);return 60*parseInt(a[1],10)*1e3+1e3*parseInt(a[2],10)+10*(a[3]?parseInt(a[3],10):0)},toTimeString(i){let a=Math.floor(i/1e3/60),l=Math.floor(i/1e3%60),s=Math.floor(i%1e3);return`${(a<10?"0":"")+a}:${l<10?"0":""}${l}.${s<100?"0":""}${s<10?"0":Math.floor(s/10)}`}},qn=In({name:"lrc",build(i,a){var l;let s="",o=!1,c=null!==(l=a.eol)&&void 0!==l?l:"\r\n";for(let u of i)"meta"!==u.type?u.type&&"caption"!==u.type?a.verbose&&console.log("SKIP:",u):(o||(s+=c,o=!0),s+=`[${Wn.toTimeString(u.start)}]${u.text}${c}`):u.tag&&u.data&&"string"==typeof u.data&&(s+=`[${u.tag}:${u.data.replace(/[\r\n]+/g," ")}]${c}`);return s},detect:i=>/\r?\n\[\d+:\d{1,2}(?:[.,]\d{1,3})?\].*\r?\n/.test(i),helper:Wn,parse(i,a){let l=null,s=[],o=i.split(/\r?\n/);for(let c of o){if(!c||0===c.trim().length)continue;let u=/^\[(\d{1,2}:\d{1,2}(?:[.,]\d{1,3})?)\](.*)(?:\r?\n)*$/.exec(c);if(u){let d={type:"caption"};d.start=Wn.toMilliseconds(u[1]),d.end=d.start+2e3,d.duration=d.end-d.start,d.content=u[2],d.text=d.content,s.push(d),l&&(l.end=d.start,l.duration=l.end-l.start),l=d;continue}let h=/^\[(\w+):([^\]]*)\](?:\r?\n)*$/.exec(c);if(h){let e_={type:"meta"};e_.tag=h[1],h[2]&&(e_.data=h[2]),s.push(e_)}else a.verbose&&console.warn("Unknown part",c)}return s}}),Gn={toMilliseconds(i){let a=/^\s*(\d{1,2}):(\d{1,2}):(\d{1,2})(?:[.,](\d{1,3}))?\s*$/.exec(i);if(!a)throw TypeError(`Invalid time format: ${i}`);return 3600*parseInt(a[1],10)*1e3+60*parseInt(a[2],10)*1e3+1e3*parseInt(a[3],10)+(a[4]?parseInt(a[4],10):0)},toTimeString(i){let a=Math.floor(i/1e3/3600),l=Math.floor(i/1e3/60%60),s=Math.floor(i/1e3%60),o=Math.floor(i%1e3);return`${(a<10?"0":"")+a}:${l<10?"0":""}${l}:${s<10?"0":""}${s}.${o<100?"0":""}${o<10?"0":""}${o}`}},Zn=In({name:"sbv",build(i,a){var l;let s="",o=null!==(l=a.eol)&&void 0!==l?l:"\r\n";for(let c of i)c.type&&"caption"!==c.type?a.verbose&&console.log("SKIP:",c):(s+=`${Gn.toTimeString(c.start)},${Gn.toTimeString(c.end)}${o}`,s+=c.text+o,s+=o);return s},detect:i=>/\d{1,2}:\d{1,2}:\d{1,2}(?:[.,]\d{1,3})?\s*[,;]\s*\d{1,2}:\d{1,2}:\d{1,2}(?:[.,]\d{1,3})?/.test(i),helper:Gn,parse(i,a){var l;let s=[],o=null!==(l=a.eol)&&void 0!==l?l:"\r\n",c=i.split(/\r?\n\s*\n/);for(let u of c){let d=/^(\d{1,2}:\d{1,2}:\d{1,2}(?:[.,]\d{1,3})?)\s*[,;]\s*(\d{1,2}:\d{1,2}:\d{1,2}(?:[.,]\d{1,3})?)\r?\n([\s\S]*)$/.exec(u);if(d){let h={type:"caption"};h.start=Gn.toMilliseconds(d[1]),h.end=Gn.toMilliseconds(d[2]),h.duration=h.end-h.start;let e_=d[3].split(/\[br\]|\r?\n/i);h.content=e_.join(o),h.text=h.content.replace(/>>[^:]+:\s*/g,""),s.push(h)}else a.verbose&&console.warn("Unknown part",u)}return s}}),Qn={htmlEncode:i=>i.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r?\n/g,"<BR>"),htmlDecode:(i,a)=>i.replace(/<BR\s*\/?>/gi,a||"\r\n").replace(/&nbsp;/g," ").replace(/&quot;/g,'"').replace(/&#39;/g,"'").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")},Kn=In({name:"smi",build(i,a){var l,s,o,c;let u=null!==(l=a.eol)&&void 0!==l?l:"\r\n",d="";for(let h of(d+=`<SAMI>${u}`,d+=`<HEAD>${u}`,d+=`<TITLE>${null!==(s=a.title)&&void 0!==s?s:""}</TITLE>${u}`,d+=`<STYLE TYPE="text/css">${u}`,d+=`<!--${u}`,d+=`P { font-family: Arial; font-weight: normal; color: white; background-color: black; text-align: center; }${u}`,d+=`.LANG { Name: ${null!==(o=a.langName)&&void 0!==o?o:"English"}; lang: ${null!==(c=a.langCode)&&void 0!==c?c:"en-US"}; SAMIType: CC; }${u}`,d+=`-->${u}`,d+=`</STYLE>${u}`,d+=`</HEAD>${u}`,d+=`<BODY>${u}`,i))"meta"!==h.type&&(h.type&&"caption"!==h.type?a.verbose&&console.log("SKIP:",h):(d+=`<SYNC Start=${h.start}>${u}`,d+=`  <P Class=LANG>${Qn.htmlEncode(h.text||"")}${a.closeTags?"</P>":""}${u}`,a.closeTags&&(d+=`</SYNC>${u}`),d+=`<SYNC Start=${h.end}>${u}`,d+=`  <P Class=LANG>&nbsp;${a.closeTags?"</P>":""}${u}`,a.closeTags&&(d+=`</SYNC>${u}`)));return d+=`</BODY>${u}`,d+=`</SAMI>${u}`},detect:i=>/<SAMI[^>]*>[\s\S]*<BODY[^>]*>/.test(i),helper:Qn,parse(i,a){var l,s;if(a.format&&"smi"!==a.format)throw TypeError(`Invalid format: ${a.format}`);let o=[],c=null!==(l=a.eol)&&void 0!==l?l:"\r\n",u=/<TITLE[^>]*>([\s\S]*)<\/TITLE>/i.exec(i);if(u){let d={type:"meta",name:"title"};d.data=u[1].replace(/^\s*/g,"").replace(/\s*$/g,""),o.push(d)}let h=/<STYLE[^>]*>([\s\S]*)<\/STYLE>/i.exec(i);if(h){let e_={type:"meta",name:"style"};e_.data=h[1],o.push(e_)}let e$=null,e0=i.replace(/^[\s\S]*<BODY[^>]*>/gi,"").replace(/<\/BODY[^>]*>[\s\S]*$/gi,"").split(/<SYNC/i);for(let eg of e0){if(!eg||0===eg.trim().length)continue;let e1=/^<SYNC[^>]+Start\s*=\s*["']?(\d+)[^\d>]*>([\s\S]*)/i.exec(`<SYNC${eg}`);if(e1){let ev={type:"caption"};ev.start=parseInt(e1[1],10),ev.end=ev.start+2e3,ev.duration=ev.end-ev.start,ev.content=e1[2].replace(/^<\/SYNC[^>]*>/gi,"");let e3=!0,e2=null!==(s=/^<P.+Class\s*=\s*["']?([\w-]+)(?: .*)?>([\s\S]*)/i.exec(ev.content))&&void 0!==s?s:/^<P([^>]*)>([\s\S]*)/i.exec(ev.content);if(e2){let e4=e2[2].replace(/<P[\s\S]+$/gi,"");e3=0===(e4=(e4=e4.replace(/<BR\s*\/?>\s+/gi,c).replace(/<BR\s*\/?>/gi,c).replace(/<[^>]+>/g,"")).replace(/^\s+/g,"").replace(/\s+$/g,"")).replace(/&nbsp;/gi," ").replace(/\s+/g,"").length,ev.text=Qn.htmlDecode(e4,c)}!a.preserveSpaces&&e3?a.verbose&&console.log(`INFO: Skipping white space caption at ${ev.start}`):o.push(ev),e$&&(e$.end=ev.start,e$.duration=e$.end-e$.start),e$=ev}else a.verbose&&console.warn("Unknown part",eg)}return o}}),Yn={toMilliseconds(i){let a=/^\s*(\d{1,2}):(\d{1,2}):(\d{1,2})(?:[.,](\d{1,3}))?\s*$/.exec(i);if(!a)throw TypeError(`Invalid time format: ${i}`);return 3600*parseInt(a[1],10)*1e3+60*parseInt(a[2],10)*1e3+1e3*parseInt(a[3],10)+(a[4]?parseInt(a[4],10):0)},toTimeString(i){let a=Math.floor(i/1e3/3600),l=Math.floor(i/1e3/60%60),s=Math.floor(i/1e3%60),o=Math.floor(i%1e3);return`${(a<10?"0":"")+a}:${l<10?"0":""}${l}:${s<10?"0":""}${s},${o<100?"0":""}${o<10?"0":""}${o}`}},Xn=In({name:"srt",build(i,a){var l;let s="",o=null!==(l=a.eol)&&void 0!==l?l:"\r\n";for(let c=0;c<i.length;c++){let u=i[c];u.type&&"caption"!==u.type?a.verbose&&console.log("SKIP:",u):(s+=(c+1).toString()+o,s+=`${Yn.toTimeString(u.start)} --> ${Yn.toTimeString(u.end)}${o}`,s+=u.text+o,s+=o)}return s},detect:i=>/\d+\r?\n\d{1,2}:\d{1,2}:\d{1,2}(?:[.,]\d{1,3})?\s*-->\s*\d{1,2}:\d{1,2}:\d{1,2}(?:[.,]\d{1,3})?/.test(i),helper:Yn,parse(i,a){var l;let s=[],o=null!==(l=a.eol)&&void 0!==l?l:"\r\n",c=i.split(/\r?\n\s*\n/);for(let u of c){let d=/^(\d+)\r?\n(\d{1,2}:\d{1,2}:\d{1,2}(?:[.,]\d{1,3})?)\s*-->\s*(\d{1,2}:\d{1,2}:\d{1,2}(?:[.,]\d{1,3})?)\r?\n([\s\S]*)$/.exec(u);if(d){let h={type:"caption"};h.index=parseInt(d[1],10),h.start=Yn.toMilliseconds(d[2]),h.end=Yn.toMilliseconds(d[3]),h.duration=h.end-h.start;let e_=d[4].split(/\r?\n/);h.content=e_.join(o),h.text=h.content.replace(/<[^>]+>/g,"").replace(/\{[^}]+\}/g,"").replace(/>>[^:]*:\s*/g,""),s.push(h)}else a.verbose&&console.warn("Unknown part",u)}return s}}),Jn=In({name:"sub",build(i,a){var l,s;let o=(null!==(l=a.fps)&&void 0!==l?l:0)>0?a.fps:25,c="",u=null!==(s=a.eol)&&void 0!==s?s:"\r\n";for(let d of i)d.type&&"caption"!==d.type?a.verbose&&console.log("SKIP:",d):c+=`{${"object"==typeof d.frame&&d.frame.start>=0?d.frame.start:d.start*o}}{${"object"==typeof d.frame&&d.frame.end>=0?d.frame.end:d.end*o}}${d.text.replace(/\r?\n/,"|")}${u}`;return c},detect:i=>/^\{\d+\}\{\d+\}.*/.test(i),parse(i,a){var l;a.fps||(a.fps=25);let s=a.fps>0?a.fps:25,o=[],c=null!==(l=a.eol)&&void 0!==l?l:"\r\n",u=i.split(/\r?\n/);for(let d=0;d<u.length;d++){let h=/^\{(\d+)\}\{(\d+)\}(.*)$/.exec(u[d]);if(h){let e_={type:"caption"};e_.index=d+1,e_.frame={start:parseInt(h[1],10),end:parseInt(h[2],10),count:parseInt(h[2])-parseInt(h[1],10)},e_.start=Math.round(e_.frame.start/s),e_.end=Math.round(e_.frame.end/s),e_.duration=e_.end-e_.start;let e$=h[3].split(/\|/);e_.content=e$.join(c),e_.text=e_.content.replace(/\{[^}]+\}/g,""),o.push(e_)}else a.verbose&&console.warn("Unknown part",u[d])}return o}}),er={toMilliseconds(i){let a=/^\s*(\d{1,2}:)?(\d{1,2}):(\d{1,2})(?:[.,](\d{1,3}))?\s*$/.exec(i);if(!a)throw TypeError(`Invalid time format: ${i}`);return 3600*(a[1]?parseInt(a[1].replace(":","")):0)*1e3+60*parseInt(a[2],10)*1e3+1e3*parseInt(a[3],10)+(a[4]?parseInt(a[4],10):0)},toTimeString(i){let a=Math.floor(i/1e3/3600),l=Math.floor(i/1e3/60%60),s=Math.floor(i/1e3%60),o=Math.floor(i%1e3);return`${(a<10?"0":"")+a}:${l<10?"0":""}${l}:${s<10?"0":""}${s}.${o<100?"0":""}${o<10?"0":""}${o}`}},tr={vtt:In({name:"vtt",build(i,a){var l;let s=null!==(l=a.eol)&&void 0!==l?l:"\r\n",o=`WEBVTT${s}${s}`;for(let c=0;c<i.length;c++){let u=i[c];if("meta"!==u.type)u.type&&"caption"!==u.type?a.verbose&&console.log("SKIP:",u):(o+=(c+1).toString()+s,o+=`${er.toTimeString(u.start)} --> ${er.toTimeString(u.end)}${s}`,o+=u.text+s,o+=s);else{if("WEBVTT"===u.name)continue;o+=u.name+s,o+="string"==typeof u.data?u.data+s:"",o+=s}}return o},detect:i=>/^\s*WEBVTT\r?\n/.test(i),helper:er,parse(i,a){var l;let s=1,o=[],c=i.split(/\r?\n\s*\n/);for(let u of c){let d=/^([^\r\n]+\r?\n)?((?:\d{1,2}:)?\d{1,2}:\d{1,2}(?:[.,]\d{1,3})?)\s*-->\s*((?:\d{1,2}:)?\d{1,2}:\d{1,2}(?:[.,]\d{1,3})?)[^\S\r\n]?.*\r?\n([\s\S]*)$/.exec(u);if(d){let h={type:"caption"};h.index=s++,d[1]&&(h.cue=d[1].replace(/[\r\n]*/g,"")),h.start=er.toMilliseconds(d[2]),h.end=er.toMilliseconds(d[3]),h.duration=h.end-h.start,h.content=d[4],h.text=h.content.replace(/<[^>]+>/g,"").replace(/\{[^}]+\}/g,""),o.push(h);continue}let e_=null!==(l=/^([A-Z]+)(\r?\n([\s\S]*))?$/.exec(u))&&void 0!==l?l:/^([A-Z]+)\s+([^\r\n]*)$/.exec(u);if(e_){let e$={type:"meta"};e$.name=e_[1],e_[3]&&(e$.data=e_[3]),o.push(e$)}else a.verbose&&console.warn("Unknown part",u)}return o}}),lrc:qn,smi:Kn,ssa:Bn,ass:Hn,sub:Jn,srt:Xn,sbv:Zn,json:Un},nr=new class{constructor(){this.format=tr,this.list=()=>Object.keys(this.format),this.detect=i=>{let a=this.list();for(let l of a){let s=this.format[l];if(void 0===s||"function"!=typeof s.detect)continue;let o=s.detect(i);if(!0===o||o===l)return l}return""},this.parse=(i,a={})=>{var l;let s=null!==(l=a.format)&&void 0!==l?l:this.detect(i);if(!s||0===s.trim().length)throw TypeError("Cannot determine subtitle format");let o=this.format[s];if(void 0===o)throw TypeError(`Unsupported subtitle format: ${s}`);let c=o.parse;if("function"!=typeof c)throw TypeError(`Subtitle format does not support 'parse' op: ${s}`);return c(i,a)},this.build=(i,a={})=>{let l=a.format||"srt";if(!l||0===l.trim().length)throw TypeError("Cannot determine subtitle format");let s=this.format[l];if(void 0===s)throw TypeError(`Unsupported subtitle format: ${l}`);let o=s.build;if("function"!=typeof o)throw TypeError(`Subtitle format does not support 'build' op: ${l}`);return o(i,a)},this.convert=(i,a={})=>{var l;let s={};"string"==typeof a?s.to=a:s=a;let o={format:null!==(l=s.from)&&void 0!==l?l:void 0,verbose:s.verbose,eol:s.eol},c=this.parse(i,o);s.resync&&(c=this.resync(c,s.resync));let u={format:s.to||s.format,verbose:s.verbose,eol:s.eol};return this.build(c,u)},this.resync=(i,a={})=>{var l,s,o,c,u;let d,h,e_,e$=!1;if("function"==typeof a)d=a;else if("number"==typeof a)e_=a,d=i=>[i[0]+e_,i[1]+e_];else{if("object"!=typeof a)throw TypeError("Argument 'options' not defined");e_=(null!==(l=a.offset)&&void 0!==l?l:0)*(a.frame?null!==(s=a.fps)&&void 0!==s?s:25:1),h=null!==(o=a.ratio)&&void 0!==o?o:1,e$=null!==(c=a.frame)&&void 0!==c&&c,d=i=>[Math.round(i[0]*h+e_),Math.round(i[1]*h+e_)]}let e0=[];for(let eg of i){let e1=JSON.parse(JSON.stringify(u=eg));if(!e1.type||"caption"===e1.type){if(e$&&e1.frame){let ev=d([e1.frame.start,e1.frame.end]);ev&&2===ev.length&&(e1.frame.start=ev[0],e1.frame.end=ev[1],e1.frame.count=e1.frame.end-e1.frame.start)}else{let e3=d([e1.start,e1.end]);e3&&2===e3.length&&(e1.start=e3[0],e1.end=e3[1],e1.duration=e1.end-e1.start)}}e0.push(e1)}return e0}}},{format:rr,list:ir,detect:or,parse:sr,build:ar,convert:lr,resync:cr}=nr,{entries:ur,setPrototypeOf:dr,isFrozen:hr,getPrototypeOf:fr,getOwnPropertyDescriptor:pr}=Object,{freeze:mr,seal:gr,create:vr}=Object,{apply:yr,construct:br}="undefined"!=typeof Reflect&&Reflect;mr||(mr=function(i){return i}),gr||(gr=function(i){return i}),yr||(yr=function(i,a,l){return i.apply(a,l)}),br||(br=function(i,a){return new i(...a)});let xr=Ar(Array.prototype.forEach),wr=Ar(Array.prototype.pop),Cr=Ar(Array.prototype.push),kr=Ar(String.prototype.toLowerCase),Sr=Ar(String.prototype.toString),Er=Ar(String.prototype.match),jr=Ar(String.prototype.replace),_r=Ar(String.prototype.indexOf),Tr=Ar(String.prototype.trim),Nr=Ar(Object.prototype.hasOwnProperty),Mr=Ar(RegExp.prototype.test),Lr=(Or=TypeError,function(){for(var i=arguments.length,a=Array(i),l=0;l<i;l++)a[l]=arguments[l];return br(Or,a)});function Ar(i){return function(a){for(var l=arguments.length,s=Array(l>1?l-1:0),o=1;o<l;o++)s[o-1]=arguments[o];return yr(i,a,s)}}function Pr(i,a){let l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:kr;dr&&dr(i,null);let s=a.length;for(;s--;){let o=a[s];if("string"==typeof o){let c=l(o);c!==o&&(hr(a)||(a[s]=c),o=c)}i[o]=!0}return i}function Rr(i){for(let a=0;a<i.length;a++)Nr(i,a)||(i[a]=null);return i}function Ir(i){let a=vr(null);for(let[l,s]of ur(i))Nr(i,l)&&(Array.isArray(s)?a[l]=Rr(s):s&&"object"==typeof s&&s.constructor===Object?a[l]=Ir(s):a[l]=s);return a}function Fr(i,a){for(;null!==i;){let l=pr(i,a);if(l){if(l.get)return Ar(l.get);if("function"==typeof l.value)return Ar(l.value)}i=fr(i)}return function(){return null}}let Dr=mr(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),$r=mr(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),zr=mr(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Vr=mr(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Br=mr(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),Hr=mr(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Ur=mr(["#text"]),Wr=mr(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),qr=mr(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Gr=mr(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Zr=mr(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Qr=gr(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Kr=gr(/<%[\w\W]*|[\w\W]*%>/gm),Yr=gr(/\${[\w\W]*}/gm),Xr=gr(/^data-[\-\w.\u00B7-\uFFFF]/),Jr=gr(/^aria-[\-\w]+$/),ei=gr(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),ti=gr(/^(?:\w+script|data):/i),ni=gr(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),ri=gr(/^html$/i),ii=gr(/^[a-z][.\w]*(-[.\w]+)+$/i);var oi=Object.freeze({__proto__:null,MUSTACHE_EXPR:Qr,ERB_EXPR:Kr,TMPLIT_EXPR:Yr,DATA_ATTR:Xr,ARIA_ATTR:Jr,IS_ALLOWED_URI:ei,IS_SCRIPT_OR_DATA:ti,ATTR_WHITESPACE:ni,DOCTYPE_NAME:ri,CUSTOM_ELEMENT:ii});let si=1,ai=3,li=7,ci=8,ui=9;var di=function i(){let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"undefined"==typeof window?null:window,l=a=>i(a);if(l.version="3.1.6",l.removed=[],!a||!a.document||9!==a.document.nodeType)return l.isSupported=!1,l;let{document:s}=a,o=s,c=o.currentScript,{DocumentFragment:u,HTMLTemplateElement:d,Node:h,Element:e_,NodeFilter:e$,NamedNodeMap:e0=a.NamedNodeMap||a.MozNamedAttrMap,HTMLFormElement:eg,DOMParser:e1,trustedTypes:ev}=a,e3=e_.prototype,e2=Fr(e3,"cloneNode"),e4=Fr(e3,"remove"),ey=Fr(e3,"nextSibling"),e6=Fr(e3,"childNodes"),e5=Fr(e3,"parentNode");if("function"==typeof d){let e7=s.createElement("template");e7.content&&e7.content.ownerDocument&&(s=e7.content.ownerDocument)}let ex,eb="",{implementation:ew,createNodeIterator:eS,createDocumentFragment:eC,getElementsByTagName:ek}=s,{importNode:eE}=o,e8={};l.isSupported="function"==typeof ur&&"function"==typeof e5&&ew&&void 0!==ew.createHTMLDocument;let{MUSTACHE_EXPR:ej,ERB_EXPR:eT,TMPLIT_EXPR:eL,DATA_ATTR:eN,ARIA_ATTR:eA,IS_SCRIPT_OR_DATA:eO,ATTR_WHITESPACE:eP,CUSTOM_ELEMENT:eM}=oi,{IS_ALLOWED_URI:eR}=oi,eI=null,eF=Pr({},[...Dr,...$r,...zr,...Br,...Ur]),eD=null,e9=Pr({},[...Wr,...qr,...Gr,...Zr]),ez=Object.seal(vr(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),eV=null,eB=null,eH=!0,eU=!0,eq=!1,eW=!0,eG=!1,eK=!0,eZ=!1,eX=!1,eY=!1,eQ=!1,eJ=!1,t_=!1,t$=!0,t0=!1,tg=!0,t1=!1,tv={},t3=null,t2=Pr({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),t4=null,ty=Pr({},["audio","video","img","source","image","track"]),t6=null,t5=Pr({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),t7="http://www.w3.org/1998/Math/MathML",tx="http://www.w3.org/2000/svg",tb="http://www.w3.org/1999/xhtml",tw=tb,tS=!1,tC=null,tk=Pr({},[t7,tx,tb],Sr),tE=null,t8=["application/xhtml+xml","text/html"],tj=null,tT=null,tL=s.createElement("form"),tN=function(i){return i instanceof RegExp||i instanceof Function},tA=function(){let i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!tT||tT!==i){if(i&&"object"==typeof i||(i={}),i=Ir(i),tj="application/xhtml+xml"===(tE=-1===t8.indexOf(i.PARSER_MEDIA_TYPE)?"text/html":i.PARSER_MEDIA_TYPE)?Sr:kr,eI=Nr(i,"ALLOWED_TAGS")?Pr({},i.ALLOWED_TAGS,tj):eF,eD=Nr(i,"ALLOWED_ATTR")?Pr({},i.ALLOWED_ATTR,tj):e9,tC=Nr(i,"ALLOWED_NAMESPACES")?Pr({},i.ALLOWED_NAMESPACES,Sr):tk,t6=Nr(i,"ADD_URI_SAFE_ATTR")?Pr(Ir(t5),i.ADD_URI_SAFE_ATTR,tj):t5,t4=Nr(i,"ADD_DATA_URI_TAGS")?Pr(Ir(ty),i.ADD_DATA_URI_TAGS,tj):ty,t3=Nr(i,"FORBID_CONTENTS")?Pr({},i.FORBID_CONTENTS,tj):t2,eV=Nr(i,"FORBID_TAGS")?Pr({},i.FORBID_TAGS,tj):{},eB=Nr(i,"FORBID_ATTR")?Pr({},i.FORBID_ATTR,tj):{},tv=!!Nr(i,"USE_PROFILES")&&i.USE_PROFILES,eH=!1!==i.ALLOW_ARIA_ATTR,eU=!1!==i.ALLOW_DATA_ATTR,eq=i.ALLOW_UNKNOWN_PROTOCOLS||!1,eW=!1!==i.ALLOW_SELF_CLOSE_IN_ATTR,eG=i.SAFE_FOR_TEMPLATES||!1,eK=!1!==i.SAFE_FOR_XML,eZ=i.WHOLE_DOCUMENT||!1,eQ=i.RETURN_DOM||!1,eJ=i.RETURN_DOM_FRAGMENT||!1,t_=i.RETURN_TRUSTED_TYPE||!1,eY=i.FORCE_BODY||!1,t$=!1!==i.SANITIZE_DOM,t0=i.SANITIZE_NAMED_PROPS||!1,tg=!1!==i.KEEP_CONTENT,t1=i.IN_PLACE||!1,eR=i.ALLOWED_URI_REGEXP||ei,tw=i.NAMESPACE||tb,ez=i.CUSTOM_ELEMENT_HANDLING||{},i.CUSTOM_ELEMENT_HANDLING&&tN(i.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(ez.tagNameCheck=i.CUSTOM_ELEMENT_HANDLING.tagNameCheck),i.CUSTOM_ELEMENT_HANDLING&&tN(i.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(ez.attributeNameCheck=i.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),i.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof i.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(ez.allowCustomizedBuiltInElements=i.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),eG&&(eU=!1),eJ&&(eQ=!0),tv&&(eI=Pr({},Ur),eD=[],!0===tv.html&&(Pr(eI,Dr),Pr(eD,Wr)),!0===tv.svg&&(Pr(eI,$r),Pr(eD,qr),Pr(eD,Zr)),!0===tv.svgFilters&&(Pr(eI,zr),Pr(eD,qr),Pr(eD,Zr)),!0===tv.mathMl&&(Pr(eI,Br),Pr(eD,Gr),Pr(eD,Zr))),i.ADD_TAGS&&(eI===eF&&(eI=Ir(eI)),Pr(eI,i.ADD_TAGS,tj)),i.ADD_ATTR&&(eD===e9&&(eD=Ir(eD)),Pr(eD,i.ADD_ATTR,tj)),i.ADD_URI_SAFE_ATTR&&Pr(t6,i.ADD_URI_SAFE_ATTR,tj),i.FORBID_CONTENTS&&(t3===t2&&(t3=Ir(t3)),Pr(t3,i.FORBID_CONTENTS,tj)),tg&&(eI["#text"]=!0),eZ&&Pr(eI,["html","head","body"]),eI.table&&(Pr(eI,["tbody"]),delete eV.tbody),i.TRUSTED_TYPES_POLICY){if("function"!=typeof i.TRUSTED_TYPES_POLICY.createHTML)throw Lr('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if("function"!=typeof i.TRUSTED_TYPES_POLICY.createScriptURL)throw Lr('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');eb=(ex=i.TRUSTED_TYPES_POLICY).createHTML("")}else void 0===ex&&(ex=function(i,a){if("object"!=typeof i||"function"!=typeof i.createPolicy)return null;let l=null,s="data-tt-policy-suffix";a&&a.hasAttribute(s)&&(l=a.getAttribute(s));let o="dompurify"+(l?"#"+l:"");try{return i.createPolicy(o,{createHTML:i=>i,createScriptURL:i=>i})}catch(c){return console.warn("TrustedTypes policy "+o+" could not be created."),null}}(ev,c)),null!==ex&&"string"==typeof eb&&(eb=ex.createHTML(""));mr&&mr(i),tT=i}},tO=Pr({},["mi","mo","mn","ms","mtext"]),tP=Pr({},["foreignobject","annotation-xml"]),tM=Pr({},["title","style","font","a","script"]),tR=Pr({},[...$r,...zr,...Vr]),tI=Pr({},[...Br,...Hr]),tF=function(i){Cr(l.removed,{element:i});try{e5(i).removeChild(i)}catch(a){e4(i)}},tD=function(i,a){try{Cr(l.removed,{attribute:a.getAttributeNode(i),from:a})}catch(s){Cr(l.removed,{attribute:null,from:a})}if(a.removeAttribute(i),"is"===i&&!eD[i]){if(eQ||eJ)try{tF(a)}catch(o){}else try{a.setAttribute(i,"")}catch(c){}}},t9=function(i){let a=null,l=null;if(eY)i="<remove></remove>"+i;else{let o=Er(i,/^[\r\n\t ]+/);l=o&&o[0]}"application/xhtml+xml"===tE&&tw===tb&&(i='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+i+"</body></html>");let c=ex?ex.createHTML(i):i;if(tw===tb)try{a=(new e1).parseFromString(c,tE)}catch(u){}if(!a||!a.documentElement){a=ew.createDocument(tw,"template",null);try{a.documentElement.innerHTML=tS?eb:c}catch(d){}}let h=a.body||a.documentElement;return i&&l&&h.insertBefore(s.createTextNode(l),h.childNodes[0]||null),tw===tb?ek.call(a,eZ?"html":"body")[0]:eZ?a.documentElement:h},tz=function(i){return eS.call(i.ownerDocument||i,i,e$.SHOW_ELEMENT|e$.SHOW_COMMENT|e$.SHOW_TEXT|e$.SHOW_PROCESSING_INSTRUCTION|e$.SHOW_CDATA_SECTION,null)},tV=function(i){return i instanceof eg&&("string"!=typeof i.nodeName||"string"!=typeof i.textContent||"function"!=typeof i.removeChild||!(i.attributes instanceof e0)||"function"!=typeof i.removeAttribute||"function"!=typeof i.setAttribute||"string"!=typeof i.namespaceURI||"function"!=typeof i.insertBefore||"function"!=typeof i.hasChildNodes)},tB=function(i){return"function"==typeof h&&i instanceof h},tH=function(i,a,s){e8[i]&&xr(e8[i],i=>{i.call(l,a,s,tT)})},tU=function(i){let a=null;if(tH("beforeSanitizeElements",i,null),tV(i))return tF(i),!0;let s=tj(i.nodeName);if(tH("uponSanitizeElement",i,{tagName:s,allowedTags:eI}),i.hasChildNodes()&&!tB(i.firstElementChild)&&Mr(/<[/\w]/g,i.innerHTML)&&Mr(/<[/\w]/g,i.textContent)||7===i.nodeType||eK&&8===i.nodeType&&Mr(/<[/\w]/g,i.data))return tF(i),!0;if(!eI[s]||eV[s]){if(!eV[s]&&tW(s)&&(ez.tagNameCheck instanceof RegExp&&Mr(ez.tagNameCheck,s)||ez.tagNameCheck instanceof Function&&ez.tagNameCheck(s)))return!1;if(tg&&!t3[s]){let o=e5(i)||i.parentNode,c=e6(i)||i.childNodes;if(c&&o)for(let u=c.length-1;u>=0;--u){let d=e2(c[u],!0);d.__removalCount=(i.__removalCount||0)+1,o.insertBefore(d,ey(i))}}return tF(i),!0}return i instanceof e_&&!function(i){let a=e5(i);a&&a.tagName||(a={namespaceURI:tw,tagName:"template"});let l=kr(i.tagName),s=kr(a.tagName);return!!tC[i.namespaceURI]&&(i.namespaceURI===tx?a.namespaceURI===tb?"svg"===l:a.namespaceURI===t7?"svg"===l&&("annotation-xml"===s||tO[s]):Boolean(tR[l]):i.namespaceURI===t7?a.namespaceURI===tb?"math"===l:a.namespaceURI===tx?"math"===l&&tP[s]:Boolean(tI[l]):i.namespaceURI===tb?!(a.namespaceURI===tx&&!tP[s])&&!(a.namespaceURI===t7&&!tO[s])&&!tI[l]&&(tM[l]||!tR[l]):!("application/xhtml+xml"!==tE||!tC[i.namespaceURI]))}(i)?(tF(i),!0):("noscript"===s||"noembed"===s||"noframes"===s)&&Mr(/<\/no(script|embed|frames)/i,i.innerHTML)?(tF(i),!0):(eG&&3===i.nodeType&&(a=i.textContent,xr([ej,eT,eL],i=>{a=jr(a,i," ")}),i.textContent!==a&&(Cr(l.removed,{element:i.cloneNode()}),i.textContent=a)),tH("afterSanitizeElements",i,null),!1)},tq=function(i,a,l){if(t$&&("id"===a||"name"===a)&&(l in s||l in tL))return!1;if(eU&&!eB[a]&&Mr(eN,a));else if(eH&&Mr(eA,a));else if(!eD[a]||eB[a]){if(!(tW(i)&&(ez.tagNameCheck instanceof RegExp&&Mr(ez.tagNameCheck,i)||ez.tagNameCheck instanceof Function&&ez.tagNameCheck(i))&&(ez.attributeNameCheck instanceof RegExp&&Mr(ez.attributeNameCheck,a)||ez.attributeNameCheck instanceof Function&&ez.attributeNameCheck(a))||"is"===a&&ez.allowCustomizedBuiltInElements&&(ez.tagNameCheck instanceof RegExp&&Mr(ez.tagNameCheck,l)||ez.tagNameCheck instanceof Function&&ez.tagNameCheck(l))))return!1}else if(t6[a]);else if(Mr(eR,jr(l,eP,"")));else if("src"!==a&&"xlink:href"!==a&&"href"!==a||"script"===i||0!==_r(l,"data:")||!t4[i]){if(eq&&!Mr(eO,jr(l,eP,"")));else if(l)return!1}return!0},tW=function(i){return"annotation-xml"!==i&&Er(i,eM)},tG=function(i){tH("beforeSanitizeAttributes",i,null);let{attributes:a}=i;if(!a)return;let s={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:eD},o=a.length;for(;o--;){let c=a[o],{name:u,namespaceURI:d,value:h}=c,e_=tj(u),e$="value"===u?h:Tr(h);if(s.attrName=e_,s.attrValue=e$,s.keepAttr=!0,s.forceKeepAttr=void 0,tH("uponSanitizeAttribute",i,s),e$=s.attrValue,eK&&Mr(/((--!?|])>)|<\/(style|title)/i,e$)){tD(u,i);continue}if(s.forceKeepAttr||(tD(u,i),!s.keepAttr))continue;if(!eW&&Mr(/\/>/i,e$)){tD(u,i);continue}eG&&xr([ej,eT,eL],i=>{e$=jr(e$,i," ")});let e0=tj(i.nodeName);if(tq(e0,e_,e$)){if(t0&&("id"===e_||"name"===e_)&&(tD(u,i),e$="user-content-"+e$),ex&&"object"==typeof ev&&"function"==typeof ev.getAttributeType){if(d);else switch(ev.getAttributeType(e0,e_)){case"TrustedHTML":e$=ex.createHTML(e$);break;case"TrustedScriptURL":e$=ex.createScriptURL(e$)}}try{d?i.setAttributeNS(d,u,e$):i.setAttribute(u,e$),tV(i)?tF(i):wr(l.removed)}catch(eg){}}}tH("afterSanitizeAttributes",i,null)},tK=function i(a){let l=null,s=tz(a);for(tH("beforeSanitizeShadowDOM",a,null);l=s.nextNode();)tH("uponSanitizeShadowNode",l,null),tU(l)||(l.content instanceof u&&i(l.content),tG(l));tH("afterSanitizeShadowDOM",a,null)};return l.sanitize=function(i){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=null,c=null,d=null,e_=null;if((tS=!i)&&(i="<!-->"),"string"!=typeof i&&!tB(i)){if("function"!=typeof i.toString)throw Lr("toString is not a function");if("string"!=typeof(i=i.toString()))throw Lr("dirty is not a string, aborting")}if(!l.isSupported)return i;if(eX||tA(a),l.removed=[],"string"==typeof i&&(t1=!1),t1){if(i.nodeName){let e$=tj(i.nodeName);if(!eI[e$]||eV[e$])throw Lr("root node is forbidden and cannot be sanitized in-place")}}else if(i instanceof h)1===(c=(s=t9("<!---->")).ownerDocument.importNode(i,!0)).nodeType&&"BODY"===c.nodeName||"HTML"===c.nodeName?s=c:s.appendChild(c);else{if(!eQ&&!eG&&!eZ&&-1===i.indexOf("<"))return ex&&t_?ex.createHTML(i):i;if(!(s=t9(i)))return eQ?null:t_?eb:""}s&&eY&&tF(s.firstChild);let e0=tz(t1?i:s);for(;d=e0.nextNode();)tU(d)||(d.content instanceof u&&tK(d.content),tG(d));if(t1)return i;if(eQ){if(eJ)for(e_=eC.call(s.ownerDocument);s.firstChild;)e_.appendChild(s.firstChild);else e_=s;return(eD.shadowroot||eD.shadowrootmode)&&(e_=eE.call(o,e_,!0)),e_}let eg=eZ?s.outerHTML:s.innerHTML;return eZ&&eI["!doctype"]&&s.ownerDocument&&s.ownerDocument.doctype&&s.ownerDocument.doctype.name&&Mr(ri,s.ownerDocument.doctype.name)&&(eg="<!DOCTYPE "+s.ownerDocument.doctype.name+">\n"+eg),eG&&xr([ej,eT,eL],i=>{eg=jr(eg,i," ")}),ex&&t_?ex.createHTML(eg):eg},l.setConfig=function(){tA(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),eX=!0},l.clearConfig=function(){tT=null,eX=!1},l.isValidAttribute=function(i,a,l){tT||tA({});let s=tj(i),o=tj(a);return tq(s,o,l)},l.addHook=function(i,a){"function"==typeof a&&(e8[i]=e8[i]||[],Cr(e8[i],a))},l.removeHook=function(i){if(e8[i])return wr(e8[i])},l.removeHooks=function(i){e8[i]&&(e8[i]=[])},l.removeAllHooks=function(){e8={}},l}();let hi=di.sanitize;function fi(i){let a=i.trim();if(""===a)throw Error("Given text is empty");let l=lr(a,"vtt");if(""===or(l))throw Error("Invalid subtitle format");return l}function pi(i,a){var l;return l=fi(i),sr(l).filter(i=>"caption"===i.type)}function mi(i){return i.map(i=>({id:i.file,language:i.label,languageName:i.label,url:i.file,needsProxy:!1,opensubtitles:!1,type:"vtt"}))}let gi=ir().map(i=>`.${i}`),vi=new class{constructor(){this.INTERVAL_MS=12e4,this._interval=null,this._compare=null,this._storage=[]}initialize(){if(this._interval)throw Error("cache is already initialized");this._interval=setInterval(()=>{let i=new Date;this._storage.filter(a=>!(a.expiry<i))},this.INTERVAL_MS)}destroy(){this._interval&&clearInterval(this._interval),this.clear()}setCompare(i){this._compare=i}has(i){return!!this.get(i)}get(i){if(!this._compare)throw Error("Compare function not set");let a=this._storage.find(a=>this._compare&&this._compare(a.key,i));if(a)return a.value}set(i,a,l){if(!this._compare)throw Error("Compare function not set");let s=this._storage.find(a=>this._compare&&this._compare(a.key,i)),o=new Date((new Date).getTime()+1e3*l);if(s)return s.key=i,s.value=a,void(s.expiry=o);this._storage.push({key:i,value:a,expiry:o})}remove(i){if(!this._compare)throw Error("Compare function not set");this._storage.filter(a=>!this._compare||!this._compare(a.key,i))}clear(){this._storage=[]}};async function yi(i){let a=vi.get(i.url);if(a)return a;let l;if(!(l=await fetch(i.url).then(i=>i.text())))throw Error("failed to get caption data");let s=function(i){let a=i.trim();if(""===a)throw Error("Given text is empty");let l=lr(a,"srt");if(""===or(l))throw Error("Invalid subtitle format");return l}(l);return vi.set(i.url,s,86400),s}vi.setCompare((i,a)=>i===a);let bi=mt(bn(sn(i=>({enabled:!1,lastSync:{lastSelectedLanguage:null},lastSelectedLanguage:null,isOpenSubtitles:!1,overrideCasing:!1,delay:0,styling:{color:"#ffffff",backgroundOpacity:.5,size:1,backgroundBlur:.5,bold:!1},resetSubtitleSpecificSettings(){i(i=>{i.delay=0,i.overrideCasing=!1})},updateStyling(a){i(i=>{void 0!==a.backgroundOpacity&&(i.styling.backgroundOpacity=Math.min(1,Math.max(0,a.backgroundOpacity))),void 0!==a.backgroundBlur&&(i.styling.backgroundBlur=Math.min(1,Math.max(0,a.backgroundBlur))),void 0!==a.color&&(i.styling.color=a.color.toLowerCase()),void 0!==a.size&&(i.styling.size=Math.min(10,Math.max(.01,a.size))),void 0!==a.bold&&(i.styling.bold=a.bold)})},setLanguage(a){i(i=>{i.enabled=!!a,a&&(i.lastSelectedLanguage=a)})},setIsOpenSubtitles(a){i(i=>{i.isOpenSubtitles=a})},setCustomSubs(){i(i=>{i.enabled=!0,i.lastSelectedLanguage=null})},setOverrideCasing(a){i(i=>{i.overrideCasing=a})},setDelay(a){i(i=>{i.delay=Math.max(Math.min(500,a),-500)})},importSubtitleLanguage(a){i(i=>{i.lastSelectedLanguage=a,i.lastSync.lastSelectedLanguage=a})}})),{name:"embed::subtitles",merge:(i,a)=>mn({},a,i)}));function xi(){let a=bi(i=>i.setLanguage),l=bi(i=>i.enabled),s=bi(i=>i.resetSubtitleSpecificSettings),o=On(i=>i.setCaption),c=bi(i=>i.lastSelectedLanguage),u=bi(i=>i.setIsOpenSubtitles),d=On(i=>i.captionList),h=On(i=>i.addCaptionList),e_=On(i=>{var a;return null==(a=i.display)?void 0:a.getCaptionList}),e$=Object.entries({afr:"Afrikaans",alb:"Albanian",ara:"Arabic",arg:"Aragonese",arm:"Armenian",asm:"Assamese",aze:"Azerbaijani",baq:"Basque",ben:"Bengali",bul:"Bulgarian",zhc:"Chinese(Cantonese)",chi:"Chinese(simplified)",zht:"Chinese(traditional)",hrv:"Croatian",cze:"Czech",dan:"Danish",dut:"Dutch",eng:"English",est:"Estonian",fin:"Finnish",fre:"French",geo:"Georgian",ger:"German",ell:"Greek",heb:"Hebrew",hin:"Hindi",hun:"Hungarian",ind:"Indonesian",gle:"Irish",ita:"Italian",jpn:"Japanese",kan:"Kannada",kaz:"Kazakh",kor:"Korean",mal:"Malayalam",mni:"Manipuri",mon:"Mongolian",nav:"Navajo",nep:"Nepali",nor:"Norwegian",per:"Persian",pol:"Polish",por:"Portuguese",pus:"Pushto",rum:"Romanian",rus:"Russian",scc:"Serbian",slv:"Slovenian",som:"Somali",spa:"Spanish",swe:"Swedish",tgl:"Tagalog",tam:"Tamil",tel:"Telugu",tha:"Thai",tur:"Turkish",ukr:"Ukrainian",urd:"Urdu",uzb:"Uzbek",vie:"Vietnamese"}).map(i=>({value:i[0],label:i[1]})),e0=i.useMemo(()=>0!==d.length?d:(null==e_?void 0:e_())??e$.map(i=>({id:i.value,language:i.label,url:i.value,srtData:""})),[d,e_]),eg=i.useCallback(async(i,l)=>{let c=e0.find(a=>a.id===i);if(!c&&l&&(h(l),c={...l,opensubtitles:!0}),!c)return void console.error("Caption not found, and no new caption provided");let d={id:c.id,language:c.language,url:c.url,srtData:""};try{let e_=await yi(c);d.srtData=e_}catch(e$){return void console.error("Failed to download caption:",e$)}u(!!c.opensubtitles),o(d),s(),a(c.language)},[u,a,e0,o,s]),e1=i.useCallback(async i=>{let a=e0.find(a=>a.language===i);if(a)return eg(a.id)},[e0,eg]),ev=i.useCallback(async()=>{u(!1),o(null),a(null)},[o,a,u]),e3=i.useCallback(async()=>(await e1(c??"en"),!0),[c,e1]),e2=i.useCallback(async()=>{l?ev():await e3()},[e3,ev,l]),e4=i.useCallback(async()=>{l&&await e3()},[e3,l]);return{subCodes:e$,selectLanguage:e1,disable:ev,selectLastUsedLanguage:e3,toggleLastUsed:e2,selectLastUsedLanguageIfEnabled:e4,selectCaptionById:eg}}function wi(){let a=On(i=>i.setStatus),l=On(i=>i.setMeta),s=On(i=>i.setSource),o=On(i=>i.setCaption),c=On(i=>i.setSourceId),u=On(i=>i.status),d=On(i=>i.interface.shouldStartFromBeginning),h=On(i=>i.setShouldStartFromBeginning),e_=On(i=>i.reset),e$=On(i=>i.meta),{init:e0}=function(){let a=On(i=>i.display),l=An(i=>i.volume);return{init:i.useCallback(()=>{null==a||a.setVolume(l)},[a,l])}}();return{meta:e$,reset:e_,status:u,shouldStartFromBeginning:d,setShouldStartFromBeginning:h,setMeta(i,a){l(i,a)},playMedia(i,l,u,d){o(null),s(i,l,d??0),c(u),a(Cn),e0()}}}function Ci(){let{meta:a,setMeta:l}=wi(),s=i.useMemo(()=>a,[a]),o=i.useCallback(i=>{l(i,Cn)},[l]),c=i.useCallback(i=>{let a;return o(a="tv"===i.type?{id:i.id,type:"tv",title:i.title,currentSeason:Number(i.currentSeason),currentEpisode:Number(i.currentEpisode),poster:i.poster||null,watchId:i.episodeId,dateAdded:Date.now(),seasons:i.seasons}:{id:i.id,type:"movie",title:i.title,poster:i.poster||null,watchId:i.episodeId,dateAdded:Date.now()}),a},[o]);return{playerMeta:a,setPlayerMeta:c,setDirectMeta:o,scrapeMedia:s}}var ki=function(){return(ki=Object.assign||function(i){for(var a,l=1,s=arguments.length;l<s;l++)for(var o in a=arguments[l])Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o]);return i}).apply(this,arguments)};function Si(a,l,s){void 0===l&&(l=[]),void 0===s&&(s={loading:!1});var o,c,u=i.useRef(0),d=(o=i.useRef(!1),c=i.useCallback(function(){return o.current},[]),i.useEffect(function(){return o.current=!0,function(){o.current=!1}},[]),c),h=i.useState(s),e_=h[0],e$=h[1],e0=i.useCallback(function(){for(var i=[],l=0;l<arguments.length;l++)i[l]=arguments[l];var s=++u.current;return e_.loading||e$(function(i){return ki(ki({},i),{loading:!0})}),a.apply(void 0,i).then(function(i){return d()&&s===u.current&&e$({value:i,loading:!1}),i},function(i){return d()&&s===u.current&&e$({error:i,loading:!1}),i})},l);return[e_,e0]}function Ei(a,l){void 0===l&&(l=[]);var s=Si(a,l,{loading:!0}),o=s[0],c=s[1];return i.useEffect(function(){c()},[c]),o}"function"==typeof SuppressedError&&SuppressedError;var ji=function(){},_i="undefined"!=typeof window,Ti=_i?i.useLayoutEffect:i.useEffect,Ni={x:0,y:0,width:0,height:0,top:0,left:0,bottom:0,right:0};let Mi=_i&&void 0!==window.ResizeObserver?function(){var a=i.useState(null),l=a[0],s=a[1],o=i.useState(Ni),c=o[0],u=o[1],d=i.useMemo(function(){return new window.ResizeObserver(function(i){if(i[0]){var a,l=i[0].contentRect,s=l.x,o=l.y,c=l.width,d=l.height,h=l.top,e_=l.left;u({x:s,y:o,width:c,height:d,top:h,left:e_,bottom:l.bottom,right:l.right})}})},[]);return Ti(function(){if(l)return d.observe(l),function(){d.disconnect()}},[l]),[s,c]}:function(){return[ji,Ni]};var e,e,Or,Li,Oi={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/ Li=Oi,function(){var i={}.hasOwnProperty;function a(){for(var i="",a=0;a<arguments.length;a++){var o=arguments[a];o&&(i=s(i,l(o)))}return i}function l(l){if("string"==typeof l||"number"==typeof l)return l;if("object"!=typeof l)return"";if(Array.isArray(l))return a.apply(null,l);if(l.toString!==Object.prototype.toString&&!l.toString.toString().includes("[native code]"))return l.toString();var o="";for(var c in l)i.call(l,c)&&l[c]&&(o=s(o,c));return o}function s(i,a){return a?i?i+" "+a:i+a:i}Li.exports?(a.default=a,Li.exports=a):window.classNames=a}();let Ai=l(Oi.exports);var Pi=((e=Pi||{}).SEARCH="search",e.BOOKMARK="bookmark",e.BOOKMARK_OUTLINE="bookmark_outline",e.CLOCK="clock",e.EYE="eye",e.EYE_SLASH="eyeSlash",e.ARROW_LEFT="arrowLeft",e.ARROW_RIGHT="arrowRight",e.CHEVRON_DOWN="chevronDown",e.CHEVRON_UP="chevronUp",e.CHEVRON_RIGHT="chevronRight",e.CHEVRON_LEFT="chevronLeft",e.CLAPPER_BOARD="clapperBoard",e.FILM="film",e.DRAGON="dragon",e.WARNING="warning",e.MOVIE_WEB="movieWeb",e.TWITTER="twitter",e.DISCORD="discord",e.GITHUB="github",e.PLAY="play",e.PAUSE="pause",e.EXPAND="expand",e.COMPRESS="compress",e.VOLUME="volume",e.VOLUME_MED="volume_med",e.VOLUME_LOW="volume_low",e.VOLUME_X="volume_x",e.X="x",e.EDIT="edit",e.AIRPLAY="airplay",e.EPISODES="episodes",e.SKIP_FORWARD="skip_forward",e.SKIP_BACKWARD="skip_backward",e.FILE="file",e.CAPTIONS="captions",e.LINK="link",e.CASTING="casting",e.CIRCLE_EXCLAMATION="circle_exclamation",e.DOWNLOAD="download",e.GEAR="gear",e.WATCH_PARTY="watch_party",e.PICTURE_IN_PICTURE="pictureInPicture",e.CHECKMARK="checkmark",e.TACHOMETER="tachometer",e.MAIL="mail",e.CIRCLE_CHECK="circle_check",e.SKIP_EPISODE="skip_episode",e.MORE_VERTICAL="more_vertical",e.IOS_SHARE="ios_share",e.IOS_FILES="ios_files",e.WAND="wand",e.COPY="copy",e.USER="user",e.UP_DOWN_ARROW="up_down_arrow",e.RISING_STAR="rising_star",e.SETTINGS="settings",e.COINS="coins",e.LOGOUT="logout",e.MENU="menu",e.LOCK="lock",e.UNLOCK="unlock",e.CIRCLE_QUESTION="circle_question",e.BRUSH="brush",e.UPLOAD="upload",e.WEB="web",e);let Ri={search:'<svg xmlns="http://www.w3.org/2000/svg" id="Outline" viewBox="0 0 24 24" width="1.5em" height="1.5em"><path fill="currentColor" d="M23.707,22.293l-5.969-5.969a10.016,10.016,0,1,0-1.414,1.414l5.969,5.969a1,1,0,0,0,1.414-1.414ZM10,18a8,8,0,1,1,8-8A8.009,8.009,0,0,1,10,18Z"/></svg>',bookmark:'<svg xmlns="http://www.w3.org/2000/svg" width="1.5em" height="1.5em" viewBox="0 0 384 512"><!--! Font Awesome Pro 6.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path fill="currentColor" d="M384 48V512l-192-112L0 512V48C0 21.5 21.5 0 48 0h288C362.5 0 384 21.5 384 48z"/></svg>',clock:'<svg xmlns="http://www.w3.org/2000/svg" width="1.5em" height="1.5em" viewBox="0 0 512 512"><!--! Font Awesome Pro 6.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path fill="currentColor" d="M256 512C114.6 512 0 397.4 0 256C0 114.6 114.6 0 256 0C397.4 0 512 114.6 512 256C512 397.4 397.4 512 256 512zM232 256C232 264 236 271.5 242.7 275.1L338.7 339.1C349.7 347.3 364.6 344.3 371.1 333.3C379.3 322.3 376.3 307.4 365.3 300L280 243.2V120C280 106.7 269.3 96 255.1 96C242.7 96 231.1 106.7 231.1 120L232 256z"/></svg>',eye:'<svg xmlns="http://www.w3.org/2000/svg" width="1.5em" height="1.5em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-eye"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path><circle cx="12" cy="12" r="3"></circle></svg>',eyeSlash:'<svg xmlns="http://www.w3.org/2000/svg" width="1.5em" height="1.5em" viewBox="0 0 640 512"><!--! Font Awesome Pro 6.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path fill="currentColor" d="M150.7 92.77C195 58.27 251.8 32 320 32C400.8 32 465.5 68.84 512.6 112.6C559.4 156 590.7 207.1 605.5 243.7C608.8 251.6 608.8 260.4 605.5 268.3C592.1 300.6 565.2 346.1 525.6 386.7L630.8 469.1C641.2 477.3 643.1 492.4 634.9 502.8C626.7 513.2 611.6 515.1 601.2 506.9L9.196 42.89C-1.236 34.71-3.065 19.63 5.112 9.196C13.29-1.236 28.37-3.065 38.81 5.112L150.7 92.77zM223.1 149.5L313.4 220.3C317.6 211.8 320 202.2 320 191.1C320 180.5 316.1 169.7 311.6 160.4C314.4 160.1 317.2 159.1 320 159.1C373 159.1 416 202.1 416 255.1C416 269.7 413.1 282.7 407.1 294.5L446.6 324.7C457.7 304.3 464 280.9 464 255.1C464 176.5 399.5 111.1 320 111.1C282.7 111.1 248.6 126.2 223.1 149.5zM320 480C239.2 480 174.5 443.2 127.4 399.4C80.62 355.1 49.34 304 34.46 268.3C31.18 260.4 31.18 251.6 34.46 243.7C44 220.8 60.29 191.2 83.09 161.5L177.4 235.8C176.5 242.4 176 249.1 176 255.1C176 335.5 240.5 400 320 400C338.7 400 356.6 396.4 373 389.9L446.2 447.5C409.9 467.1 367.8 480 320 480H320z"/></svg>',arrowLeft:'<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-left"><line x1="19" y1="12" x2="5" y2="12"></line><polyline points="12 19 5 12 12 5"></polyline></svg>',chevronDown:'<svg xmlns="http://www.w3.org/2000/svg" width="1.5em" height="1.5em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-down"><polyline points="6 9 12 15 18 9"></polyline></svg>',chevronUp:'<svg xmlns="http://www.w3.org/2000/svg" width="1.5em" height="1.5em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-up"><polyline points="18 15 12 9 6 15"></polyline></svg>',chevronRight:'<svg xmlns="http://www.w3.org/2000/svg" width="1.5em" height="1.5em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"><polyline points="9 18 15 12 9 6"></polyline></svg>',chevronLeft:'<svg xmlns="http://www.w3.org/2000/svg" width="1.5em" height="1.5em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-left"><polyline points="15 18 9 12 15 6"></polyline></svg>',clapperBoard:'<svg xmlns="http://www.w3.org/2000/svg" width="1.5em" height="1.5em" viewBox="0 0 512 512"><!--! Font Awesome Pro 6.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path fill="currentColor" d="M326.1 160l127.4-127.4C451.7 32.39 449.9 32 448 32h-86.06l-128 128H326.1zM166.1 160l128-128H201.9l-128 128H166.1zM497.7 56.19L393.9 160H512V96C512 80.87 506.5 67.15 497.7 56.19zM134.1 32H64C28.65 32 0 60.65 0 96v64h6.062L134.1 32zM0 416c0 35.35 28.65 64 64 64h384c35.35 0 64-28.65 64-64V192H0V416z"/></svg>',film:'<svg xmlns="http://www.w3.org/2000/svg" width="1.5em" height="1.5em" viewBox="0 0 512 512"><!--! Font Awesome Pro 6.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path fill="currentColor" d="M463.1 32h-416C21.49 32-.0001 53.49-.0001 80v352c0 26.51 21.49 48 47.1 48h416c26.51 0 48-21.49 48-48v-352C511.1 53.49 490.5 32 463.1 32zM111.1 408c0 4.418-3.582 8-8 8H55.1c-4.418 0-8-3.582-8-8v-48c0-4.418 3.582-8 8-8h47.1c4.418 0 8 3.582 8 8L111.1 408zM111.1 280c0 4.418-3.582 8-8 8H55.1c-4.418 0-8-3.582-8-8v-48c0-4.418 3.582-8 8-8h47.1c4.418 0 8 3.582 8 8V280zM111.1 152c0 4.418-3.582 8-8 8H55.1c-4.418 0-8-3.582-8-8v-48c0-4.418 3.582-8 8-8h47.1c4.418 0 8 3.582 8 8L111.1 152zM351.1 400c0 8.836-7.164 16-16 16H175.1c-8.836 0-16-7.164-16-16v-96c0-8.838 7.164-16 16-16h160c8.836 0 16 7.162 16 16V400zM351.1 208c0 8.836-7.164 16-16 16H175.1c-8.836 0-16-7.164-16-16v-96c0-8.838 7.164-16 16-16h160c8.836 0 16 7.162 16 16V208zM463.1 408c0 4.418-3.582 8-8 8h-47.1c-4.418 0-7.1-3.582-7.1-8l0-48c0-4.418 3.582-8 8-8h47.1c4.418 0 8 3.582 8 8V408zM463.1 280c0 4.418-3.582 8-8 8h-47.1c-4.418 0-8-3.582-8-8v-48c0-4.418 3.582-8 8-8h47.1c4.418 0 8 3.582 8 8V280zM463.1 152c0 4.418-3.582 8-8 8h-47.1c-4.418 0-8-3.582-8-8l0-48c0-4.418 3.582-8 7.1-8h47.1c4.418 0 8 3.582 8 8V152z"/></svg>',dragon:'<svg xmlns="http://www.w3.org/2000/svg" width="1.5em" height="1.5em" viewBox="0 0 640 512"><!--! Font Awesome Pro 6.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path fill="currentColor" d="M18.43 255.8L192 224L100.8 292.6C90.67 302.8 97.8 320 112 320h222.7c-9.499-26.5-14.75-54.5-14.75-83.38V194.2L200.3 106.8C176.5 90.88 145 92.75 123.3 111.2l-117.5 116.4C-6.562 238 2.436 258 18.43 255.8zM575.2 289.9l-100.7-50.25c-16.25-8.125-26.5-24.75-26.5-43V160h63.99l28.12 22.62C546.1 188.6 554.2 192 562.7 192h30.1c11.1 0 23.12-6.875 28.5-17.75l14.37-28.62c5.374-10.87 4.25-23.75-2.999-33.5l-74.49-99.37C552.1 4.75 543.5 0 533.5 0H296C288.9 0 285.4 8.625 290.4 13.62L351.1 64L292.4 88.75c-5.874 3-5.874 11.37 0 14.37L351.1 128l-.0011 108.6c0 72 35.99 139.4 95.99 179.4c-195.6 6.75-344.4 41-434.1 60.88c-8.124 1.75-13.87 9-13.87 17.38C.0463 504 8.045 512 17.79 512h499.1c63.24 0 119.6-47.5 122.1-110.8C642.3 354 617.1 310.9 575.2 289.9zM489.1 66.25l45.74 11.38c-2.75 11-12.5 18.88-24.12 18.25C497.7 95.25 484.8 83.38 489.1 66.25z"/></svg>',warning:'<svg xmlns="http://www.w3.org/2000/svg" width="1.5em" height="1.5em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-alert-triangle"><path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"></path><line x1="12" y1="9" x2="12" y2="13"></line><line x1="12" y1="17" x2="12.01" y2="17"></line></svg>',arrowRight:'<svg xmlns="http://www.w3.org/2000/svg" width="1.5em" height="1.5em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-right"><line x1="5" y1="12" x2="19" y2="12"></line><polyline points="12 5 19 12 12 19"></polyline></svg>',movieWeb:'<svg xmlns="http://www.w3.org/2000/svg" width="1.5em" height="1.5em" viewBox="0 0 20.927 20.927"><path d="M18.186,4.5V6.241H16.445V4.5H9.482V6.241H7.741V4.5H6V20.168H7.741V18.427H9.482v1.741h6.964V18.427h1.741v1.741h1.741V4.5Zm-8.7,12.186H7.741V14.945H9.482Zm0-3.482H7.741V11.464H9.482Zm0-3.482H7.741V7.982H9.482Zm8.7,6.964H16.445V14.945h1.741Zm0-3.482H16.445V11.464h1.741Zm0-3.482H16.445V7.982h1.741Z" transform="translate(10.018 -7.425) rotate(45)" fill="currentColor"/></svg>',discord:'<svg xmlns="http://www.w3.org/2000/svg" width="1.5em" height="1.5em" viewBox="0 0 640 512"><!--! Font Awesome Pro 6.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path fill="currentColor" d="M524.531,69.836a1.5,1.5,0,0,0-.764-.7A485.065,485.065,0,0,0,404.081,32.03a1.816,1.816,0,0,0-1.923.91,337.461,337.461,0,0,0-14.9,30.6,447.848,447.848,0,0,0-134.426,0,309.541,309.541,0,0,0-15.135-30.6,1.89,1.89,0,0,0-1.924-.91A483.689,483.689,0,0,0,116.085,69.137a1.712,1.712,0,0,0-.788.676C39.068,183.651,18.186,294.69,28.43,404.354a2.016,2.016,0,0,0,.765,1.375A487.666,487.666,0,0,0,176.02,479.918a1.9,1.9,0,0,0,2.063-.676A348.2,348.2,0,0,0,208.12,430.4a1.86,1.86,0,0,0-1.019-2.588,321.173,321.173,0,0,1-45.868-21.853,1.885,1.885,0,0,1-.185-3.126c3.082-2.309,6.166-4.711,9.109-7.137a1.819,1.819,0,0,1,1.9-.256c96.229,43.917,200.41,43.917,295.5,0a1.812,1.812,0,0,1,1.924.233c2.944,2.426,6.027,4.851,9.132,7.16a1.884,1.884,0,0,1-.162,3.126,301.407,301.407,0,0,1-45.89,21.83,1.875,1.875,0,0,0-1,2.611,391.055,391.055,0,0,0,30.014,48.815,1.864,1.864,0,0,0,2.063.7A486.048,486.048,0,0,0,610.7,405.729a1.882,1.882,0,0,0,.765-1.352C623.729,277.594,590.933,167.465,524.531,69.836ZM222.491,337.58c-28.972,0-52.844-26.587-52.844-59.239S193.056,219.1,222.491,219.1c29.665,0,53.306,26.82,52.843,59.239C275.334,310.993,251.924,337.58,222.491,337.58Zm195.38,0c-28.971,0-52.843-26.587-52.843-59.239S388.437,219.1,417.871,219.1c29.667,0,53.307,26.82,52.844,59.239C470.715,310.993,447.538,337.58,417.871,337.58Z"/></svg>',twitter:'<svg xmlns="http://www.w3.org/2000/svg" width="0.93em" height="0.93em" viewBox="0 0 512 512"><!--!Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.--><path fill="currentColor" d="M459.4 151.7c.3 4.5 .3 9.1 .3 13.6 0 138.7-105.6 298.6-298.6 298.6-59.5 0-114.7-17.2-161.1-47.1 8.4 1 16.6 1.3 25.3 1.3 49.1 0 94.2-16.6 130.3-44.8-46.1-1-84.8-31.2-98.1-72.8 6.5 1 13 1.6 19.8 1.6 9.4 0 18.8-1.3 27.6-3.6-48.1-9.7-84.1-52-84.1-103v-1.3c14 7.8 30.2 12.7 47.4 13.3-28.3-18.8-46.8-51-46.8-87.4 0-19.5 5.2-37.4 14.3-53 51.7 63.7 129.3 105.3 216.4 109.8-1.6-7.8-2.6-15.9-2.6-24 0-57.8 46.8-104.9 104.9-104.9 30.2 0 57.5 12.7 76.7 33.1 23.7-4.5 46.5-13.3 66.6-25.3-7.8 24.4-24.4 44.8-46.1 57.8 21.1-2.3 41.6-8.1 60.4-16.2-14.3 20.8-32.2 39.3-52.6 54.3z"/></svg>',github:'<svg xmlns="http://www.w3.org/2000/svg" width="1.5em" height="1.5em" viewBox="0 0 496 512"><!--! Font Awesome Pro 6.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path fill="currentColor" d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>',play:"",pause:'<svg xmlns="http://www.w3.org/2000/svg" width="1.5em" height="1.5em"viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-pause"><rect x="14" y="4" width="4" height="16" rx="1"/><rect x="6" y="4" width="4" height="16" rx="1"/></svg>',expand:'<svg xmlns="http://www.w3.org/2000/svg" id="Outline" viewBox="0 0 24 24" width="1.5em" height="1.5em"><path fill="currentColor" d="M19,24H17a1,1,0,0,1,0-2h2a3,3,0,0,0,3-3V17a1,1,0,0,1,2,0v2A5.006,5.006,0,0,1,19,24Z"/><path fill="currentColor" d="M1,8A1,1,0,0,1,0,7V5A5.006,5.006,0,0,1,5,0H7A1,1,0,0,1,7,2H5A3,3,0,0,0,2,5V7A1,1,0,0,1,1,8Z"/><path fill="currentColor" d="M7,24H5a5.006,5.006,0,0,1-5-5V17a1,1,0,0,1,2,0v2a3,3,0,0,0,3,3H7a1,1,0,0,1,0,2Z"/><path fill="currentColor" d="M23,8a1,1,0,0,1-1-1V5a3,3,0,0,0-3-3H17a1,1,0,0,1,0-2h2a5.006,5.006,0,0,1,5,5V7A1,1,0,0,1,23,8Z"/></svg>',compress:'<svg xmlns="http://www.w3.org/2000/svg" id="Outline" viewBox="0 0 24 24" width="1.5em" height="1.5em"><path fill="currentColor" d="M7,0A1,1,0,0,0,6,1V3A3,3,0,0,1,3,6H1A1,1,0,0,0,1,8H3A5.006,5.006,0,0,0,8,3V1A1,1,0,0,0,7,0Z"/><path fill="currentColor" d="M23,16H21a5.006,5.006,0,0,0-5,5v2a1,1,0,0,0,2,0V21a3,3,0,0,1,3-3h2a1,1,0,0,0,0-2Z"/><path fill="currentColor" d="M21,8h2a1,1,0,0,0,0-2H21a3,3,0,0,1-3-3V1a1,1,0,0,0-2,0V3A5.006,5.006,0,0,0,21,8Z"/><path fill="currentColor" d="M3,16H1a1,1,0,0,0,0,2H3a3,3,0,0,1,3,3v2a1,1,0,0,0,2,0V21A5.006,5.006,0,0,0,3,16Z"/></svg>',volume:'<svg xmlns="http://www.w3.org/2000/svg" id="Outline" viewBox="0 0 24 24" width="1.5em" height="1.5em"><path fill="currentColor" d="M20.807,4.29a1,1,0,0,0-1.415,1.415,8.913,8.913,0,0,1,0,12.59,1,1,0,0,0,1.415,1.415A10.916,10.916,0,0,0,20.807,4.29Z"/><path fill="currentColor" d="M18.1,7.291A1,1,0,0,0,16.68,8.706a4.662,4.662,0,0,1,0,6.588A1,1,0,0,0,18.1,16.709,6.666,6.666,0,0,0,18.1,7.291Z"/><path fill="currentColor" d="M13.82.2A12.054,12.054,0,0,0,6.266,5H5a5.008,5.008,0,0,0-5,5v4a5.008,5.008,0,0,0,5,5H6.266A12.059,12.059,0,0,0,13.82,23.8a.917.917,0,0,0,.181.017,1,1,0,0,0,1-1V1.186A1,1,0,0,0,13.82.2ZM13,21.535a10.083,10.083,0,0,1-5.371-4.08A1,1,0,0,0,6.792,17H5a3,3,0,0,1-3-3V10A3,3,0,0,1,5,7h1.8a1,1,0,0,0,.837-.453A10.079,10.079,0,0,1,13,2.465Z"/></svg>',volume_med:'<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 24 24" width="1.5em" height="1.5em"><path fill="currentColor" d="m14.644.418c-.229-.19-.527-.268-.821-.215-3.001.555-5.754,2.302-7.554,4.794h-1.271C2.241,4.998-.002,7.241-.002,9.998v4.005C-.002,16.76,2.241,19.003,4.998,19.003h1.271c1.802,2.495,4.555,4.243,7.554,4.794.06.011.121.017.181.017.232,0,.459-.081.64-.231.228-.19.36-.472.36-.769V1.187c0-.297-.131-.579-.36-.769Zm-1.64,21.117c-2.03-.646-3.851-1.954-5.113-3.703l-.299-.415c-.188-.26-.489-.415-.811-.415h-1.782c-1.654,0-3-1.346-3-3v-4.005c0-1.654,1.346-3,3-3h1.782c.321,0,.623-.154.811-.415l.299-.415c1.261-1.747,3.083-3.054,5.114-3.702v19.068Zm5.019-4.763c-.195.195-.451.293-.707.293s-.512-.098-.707-.293c-.391-.391-.391-1.023,0-1.414,1.852-1.852,1.852-4.866,0-6.718-.391-.391-.391-1.023,0-1.414s1.023-.391,1.414,0c2.632,2.632,2.632,6.914,0,9.546Z"/></svg>',volume_low:'<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 24 24" width="1.5em" height="1.5em"><path fill="currentColor" d="m14.004,23.814c-.061,0-.121-.005-.181-.017-2.999-.551-5.752-2.299-7.554-4.794h-1.271C2.241,19.003-.002,16.76-.002,14.003v-4.005C-.002,7.241,2.241,4.998,4.998,4.998h1.271C8.068,2.505,10.821.758,13.822.204c.294-.052.594.025.821.215.229.19.36.472.36.769v21.627c0,.297-.132.579-.36.769-.181.151-.407.231-.64.231ZM4.998,6.998c-1.654,0-3,1.346-3,3v4.005c0,1.654,1.346,3,3,3h1.782c.321,0,.622.154.811.414l.3.415c1.263,1.749,3.083,3.057,5.113,3.703V2.467c-2.032.647-3.854,1.956-5.114,3.702l-.298.414c-.188.261-.49.415-.812.415h-1.782Z"/></svg>',volume_x:'<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 24 24" width="1.5em" height="1.5em"><path fill="currentColor" d="m13.644.418c-.228-.19-.529-.268-.821-.215-3.001.555-5.754,2.302-7.554,4.794h-.271C2.241,4.998-.002,7.241-.002,9.998v4.005C-.002,16.76,2.241,19.003,4.998,19.003h.271c1.802,2.495,4.555,4.243,7.554,4.794.06.011.121.017.181.017.232,0,.459-.081.64-.231.228-.19.36-.472.36-.769V1.187c0-.297-.131-.579-.36-.769Zm-1.64,21.117c-2.03-.646-3.851-1.954-5.113-3.703l-.299-.415c-.188-.26-.489-.415-.811-.415h-.782c-1.654,0-3-1.346-3-3v-4.005c0-1.654,1.346-3,3-3h.782c.321,0,.623-.154.811-.415l.299-.415c1.261-1.747,3.083-3.054,5.114-3.702v19.068Zm11.729-7.242c.391.391.391,1.023,0,1.414-.195.195-.451.293-.707.293s-.512-.098-.707-.293l-2.293-2.293-2.293,2.293c-.195.195-.451.293-.707.293s-.512-.098-.707-.293c-.391-.391-.391-1.023,0-1.414l2.293-2.293-2.293-2.293c-.391-.391-.391-1.023,0-1.414s1.023-.391,1.414,0l2.293,2.293,2.293-2.293c.391-.391,1.023-.391,1.414,0s.391,1.023,0,1.414l-2.293,2.293,2.293,2.293Z"/></svg>',x:'<svg xmlns="http://www.w3.org/2000/svg" width="1.5em" height="1.5em" viewBox="0 0 320 512"><!--! Font Awesome Pro 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path fill="currentColor" d="M310.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L160 210.7 54.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L114.7 256 9.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L160 301.3 265.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L205.3 256 310.6 150.6z"/></svg>',edit:'<svg xmlns="http://www.w3.org/2000/svg" width="1.5em" height="1.5em" viewBox="0 0 512 512"><!--! Font Awesome Pro 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path fill="currentColor" d="M362.7 19.3L314.3 67.7 444.3 197.7l48.4-48.4c25-25 25-65.5 0-90.5L453.3 19.3c-25-25-65.5-25-90.5 0zm-71 71L58.6 323.5c-10.4 10.4-18 23.3-22.2 37.4L1 481.2C-1.5 489.7 .8 498.8 7 505s15.3 8.5 23.7 6.1l120.3-35.4c14.1-4.2 27-11.8 37.4-22.2L421.7 220.3 291.7 90.3z"/></svg>',bookmark_outline:'<svg xmlns="http://www.w3.org/2000/svg" width="1.5em" height="1.5em" viewBox="0 0 384 512"><!--! Font Awesome Pro 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path fill="currentColor" d="M336 0h-288C21.49 0 0 21.49 0 48v431.9c0 24.7 26.79 40.08 48.12 27.64L192 423.6l143.9 83.93C357.2 519.1 384 504.6 384 479.9V48C384 21.49 362.5 0 336 0zM336 452L192 368l-144 84V54C48 50.63 50.63 48 53.1 48h276C333.4 48 336 50.63 336 54V452z"/></svg>',airplay:'<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 24 24" width="1.5em" height="1.5em"><path fill="currentColor" d="m14.497,13.169c-.62-.742-1.53-1.169-2.497-1.169s-1.877.427-2.502,1.176l-5.55,6.775c-.461.563-.555,1.323-.243,1.981s.958,1.067,1.687,1.067h13.215c.729,0,1.375-.409,1.687-1.066.312-.658.22-1.418-.242-1.983l-5.555-6.781Zm-8.823,7.831l5.366-6.55c.477-.572,1.45-.565,1.916-.007l5.371,6.557H5.674ZM24,6v8c0,1.434-.617,2.801-1.692,3.75-.19.168-.427.25-.662.25-.276,0-.552-.114-.75-.339-.365-.414-.326-1.046.089-1.411.646-.569,1.016-1.39,1.016-2.25V6c0-1.654-1.346-3-3-3H5c-1.654,0-3,1.346-3,3v8c0,.86.37,1.681,1.016,2.25.414.365.454.997.088,1.411-.366.414-.996.455-1.412.089-1.076-.949-1.693-2.315-1.693-3.75V6C0,3.243,2.243,1,5,1h14c2.757,0,5,2.243,5,5Z"/></svg>',episodes:'<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 24 24" width="1.5em" height="1.5em"><path fill="currentColor" d="M9,7.5c0-.83,.67-1.5,1.5-1.5s1.5,.67,1.5,1.5-.67,1.5-1.5,1.5-1.5-.67-1.5-1.5Zm15-.5v6c0,2.76-2.24,5-5,5H10c-2.76,0-5-2.24-5-5V7c0-2.76,2.24-5,5-5h9c2.76,0,5,2.24,5,5ZM7,13c0,.77,.29,1.47,.77,2.01l5.24-5.24c.98-.98,2.69-.98,3.67,0l1.04,1.04c.23,.23,.62,.23,.85,0l3.43-3.43v-.38c0-1.65-1.35-3-3-3H10c-1.65,0-3,1.35-3,3v6Zm15,0v-2.79l-2.02,2.02c-.98,.98-2.69,.98-3.67,0l-1.04-1.04c-.23-.23-.61-.23-.85,0l-4.79,4.79c.12,.02,.24,.02,.37,.02h9c1.65,0,3-1.35,3-3Zm-5,7H5c-1.65,0-3-1.35-3-3v-6c0-.74,.27-1.45,.77-2,.37-.41,.33-1.04-.08-1.41-.41-.37-1.04-.33-1.41,.08-.82,.92-1.28,2.1-1.28,3.34v6c0,2.76,2.24,5,5,5h12c.55,0,1-.45,1-1s-.45-1-1-1Z"/></svg>',skip_forward:'<svg width="1.5em" height="1.5em" viewBox="0 0 26 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M11.3333 12.3333L16 7.66667M16 7.66667L11.3333 3M16 7.66667H6.66667C5.42899 7.66667 4.242 8.15833 3.36684 9.0335C2.49167 9.90867 2 11.0957 2 12.3333C2 13.571 2.49167 14.758 3.36684 15.6332C4.242 16.5083 5.42899 17 6.66667 17H9" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round" /><path d="M16.5043 14.2727V23H14.6591V16.0241H14.608L12.6094 17.277V15.6406L14.7699 14.2727H16.5043ZM22.0004 23.1918C21.2674 23.1889 20.6367 23.0085 20.1083 22.6506C19.5827 22.2926 19.1779 21.7741 18.8938 21.0952C18.6126 20.4162 18.4734 19.5994 18.4762 18.6449C18.4762 17.6932 18.6168 16.8821 18.8981 16.2116C19.1822 15.5412 19.587 15.0312 20.1126 14.6818C20.641 14.3295 21.2702 14.1534 22.0004 14.1534C22.7305 14.1534 23.3583 14.3295 23.8839 14.6818C24.4123 15.0341 24.8185 15.5455 25.1026 16.2159C25.3867 16.8835 25.5273 17.6932 25.5245 18.6449C25.5245 19.6023 25.3825 20.4205 25.0984 21.0994C24.8171 21.7784 24.4137 22.2969 23.8881 22.6548C23.3626 23.0128 22.7333 23.1918 22.0004 23.1918ZM22.0004 21.6619C22.5004 21.6619 22.8995 21.4105 23.1978 20.9077C23.4961 20.4048 23.6438 19.6506 23.641 18.6449C23.641 17.983 23.5728 17.4318 23.4364 16.9915C23.3029 16.5511 23.1126 16.2202 22.8654 15.9986C22.6211 15.777 22.3327 15.6662 22.0004 15.6662C21.5032 15.6662 21.1055 15.9148 20.8072 16.4119C20.5089 16.9091 20.3583 17.6534 20.3555 18.6449C20.3555 19.3153 20.4222 19.875 20.5558 20.3239C20.6921 20.7699 20.8839 21.1051 21.131 21.3295C21.3782 21.5511 21.668 21.6619 22.0004 21.6619Z" fill="currentColor" /></svg>',skip_backward:'<svg width="1.5em" height="1.5em" viewBox="0 0 25 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M13.6667 12.3333L9 7.66667M9 7.66667L13.6667 3M9 7.66667H18.3333C19.571 7.66667 20.758 8.15833 21.6332 9.0335C22.5083 9.90867 23 11.0957 23 12.3333C23 13.571 22.5083 14.758 21.6332 15.6332C20.758 16.5083 19.571 17 18.3333 17H16" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"/><path d="M4.50426 14.2727V23H2.65909V16.0241H2.60795L0.609375 17.277V15.6406L2.76989 14.2727H4.50426ZM10.0004 23.1918C9.2674 23.1889 8.63672 23.0085 8.10831 22.6506C7.58274 22.2926 7.17791 21.7741 6.89382 21.0952C6.61257 20.4162 6.47337 19.5994 6.47621 18.6449C6.47621 17.6932 6.61683 16.8821 6.89808 16.2116C7.18217 15.5412 7.587 15.0312 8.11257 14.6818C8.64098 14.3295 9.27024 14.1534 10.0004 14.1534C10.7305 14.1534 11.3583 14.3295 11.8839 14.6818C12.4123 15.0341 12.8185 15.5455 13.1026 16.2159C13.3867 16.8835 13.5273 17.6932 13.5245 18.6449C13.5245 19.6023 13.3825 20.4205 13.0984 21.0994C12.8171 21.7784 12.4137 22.2969 11.8881 22.6548C11.3626 23.0128 10.7333 23.1918 10.0004 23.1918ZM10.0004 21.6619C10.5004 21.6619 10.8995 21.4105 11.1978 20.9077C11.4961 20.4048 11.6438 19.6506 11.641 18.6449C11.641 17.983 11.5728 17.4318 11.4364 16.9915C11.3029 16.5511 11.1126 16.2202 10.8654 15.9986C10.6211 15.777 10.3327 15.6662 10.0004 15.6662C9.5032 15.6662 9.10547 15.9148 8.80717 16.4119C8.50888 16.9091 8.35831 17.6534 8.35547 18.6449C8.35547 19.3153 8.42223 19.875 8.55575 20.3239C8.69212 20.7699 8.88388 21.1051 9.13104 21.3295C9.3782 21.5511 9.66797 21.6619 10.0004 21.6619Z" fill="currentColor"/></svg>',file:'<svg xmlns="http://www.w3.org/2000/svg" width="1.5em" height="1.5em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"><path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline></svg>',captions:'<svg xmlns="http://www.w3.org/2000/svg" width="2em" height="2em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-captions"><rect width="18" height="14" x="3" y="5" rx="2" ry="2"/><path d="M7 15h4M15 15h2M7 11h2M13 11h4"/></svg>',link:'<svg xmlns="http://www.w3.org/2000/svg" width="1.5em" height="1.5em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg>',circle_exclamation:'<svg xmlns="http://www.w3.org/2000/svg" width="1.5em" height="1.5em" fill="currentColor" viewBox="0 0 512 512"><!--! Font Awesome Pro 6.3.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --><path d="M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zm0-384c13.3 0 24 10.7 24 24V264c0 13.3-10.7 24-24 24s-24-10.7-24-24V152c0-13.3 10.7-24 24-24zM224 352a32 32 0 1 1 64 0 32 32 0 1 1 -64 0z"/></svg>',casting:"",download:'<svg xmlns="http://www.w3.org/2000/svg" width="1.5em" height="1.5em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-download"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="7 10 12 15 17 10"></polyline><line x1="12" y1="15" x2="12" y2="3"></line></svg>',gear:'<svg xmlns="http://www.w3.org/2000/svg" id="Outline" viewBox="0 0 24 24" width="1.5em" height="1.5em"><path fill="currentColor" d="M12,8a4,4,0,1,0,4,4A4,4,0,0,0,12,8Zm0,6a2,2,0,1,1,2-2A2,2,0,0,1,12,14Z"/><path fill="currentColor" d="M21.294,13.9l-.444-.256a9.1,9.1,0,0,0,0-3.29l.444-.256a3,3,0,1,0-3-5.2l-.445.257A8.977,8.977,0,0,0,15,3.513V3A3,3,0,0,0,9,3v.513A8.977,8.977,0,0,0,6.152,5.159L5.705,4.9a3,3,0,0,0-3,5.2l.444.256a9.1,9.1,0,0,0,0,3.29l-.444.256a3,3,0,1,0,3,5.2l.445-.257A8.977,8.977,0,0,0,9,20.487V21a3,3,0,0,0,6,0v-.513a8.977,8.977,0,0,0,2.848-1.646l.447.258a3,3,0,0,0,3-5.2Zm-2.548-3.776a7.048,7.048,0,0,1,0,3.75,1,1,0,0,0,.464,1.133l1.084.626a1,1,0,0,1-1,1.733l-1.086-.628a1,1,0,0,0-1.215.165,6.984,6.984,0,0,1-3.243,1.875,1,1,0,0,0-.751.969V21a1,1,0,0,1-2,0V19.748a1,1,0,0,0-.751-.969A6.984,6.984,0,0,1,7.006,16.9a1,1,0,0,0-1.215-.165l-1.084.627a1,1,0,1,1-1-1.732l1.084-.626a1,1,0,0,0,.464-1.133,7.048,7.048,0,0,1,0-3.75A1,1,0,0,0,4.79,8.992L3.706,8.366a1,1,0,0,1,1-1.733l1.086.628A1,1,0,0,0,7.006,7.1a6.984,6.984,0,0,1,3.243-1.875A1,1,0,0,0,11,4.252V3a1,1,0,0,1,2,0V4.252a1,1,0,0,0,.751.969A6.984,6.984,0,0,1,16.994,7.1a1,1,0,0,0,1.215.165l1.084-.627a1,1,0,1,1,1,1.732l-1.084.626A1,1,0,0,0,18.746,10.125Z"/></svg>',watch_party:'<svg xmlns="http://www.w3.org/2000/svg" width="1.5em" height="1.5em" fill="currentColor" viewBox="0 0 448 512"><!--! Font Awesome Pro 6.3.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --><path d="M319.4 372c48.5-31.3 80.6-85.9 80.6-148c0-97.2-78.8-176-176-176S48 126.8 48 224c0 62.1 32.1 116.6 80.6 148c1.2 17.3 4 38 7.2 57.1l.2 1C56 395.8 0 316.5 0 224C0 100.3 100.3 0 224 0S448 100.3 448 224c0 92.5-56 171.9-136 206.1l.2-1.1c3.1-19.2 6-39.8 7.2-57zm-2.3-38.1c-1.6-5.7-3.9-11.1-7-16.2c-5.8-9.7-13.5-17-21.9-22.4c19.5-17.6 31.8-43 31.8-71.3c0-53-43-96-96-96s-96 43-96 96c0 28.3 12.3 53.8 31.8 71.3c-8.4 5.4-16.1 12.7-21.9 22.4c-3.1 5.1-5.4 10.5-7 16.2C99.8 307.5 80 268 80 224c0-79.5 64.5-144 144-144s144 64.5 144 144c0 44-19.8 83.5-50.9 109.9zM224 312c32.9 0 64 8.6 64 43.8c0 33-12.9 104.1-20.6 132.9c-5.1 19-24.5 23.4-43.4 23.4s-38.2-4.4-43.4-23.4c-7.8-28.5-20.6-99.7-20.6-132.8c0-35.1 31.1-43.8 64-43.8zm0-144a56 56 0 1 1 0 112 56 56 0 1 1 0-112z"/></svg>',pictureInPicture:'<svg xmlns="http://www.w3.org/2000/svg" height="1.5em" width="1.5em" fill="currentColor" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M19 7h-8v6h8V7zm2-4H3c-1.1 0-2 .9-2 2v14c0 1.1.9 1.98 2 1.98h18c1.1 0 2-.88 2-1.98V5c0-1.1-.9-2-2-2zm0 16.01H3V4.98h18v14.03z"/></svg>',checkmark:'<svg xmlns="http://www.w3.org/2000/svg" height="1.5em" width="1.5em" fill="currentColor" viewBox="0 0 24 24"><path d="M9 22l-10-10.598 2.798-2.859 7.149 7.473 13.144-14.016 2.909 2.806z" /></svg>',tachometer:'<svg xmlns="http://www.w3.org/2000/svg" height="1.5em" width="1.5em" fill="currentColor" viewBox="0 0 576 512"><!-- Font Awesome Pro 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) --><path d="M128 288c-17.67 0-32 14.33-32 32s14.33 32 32 32 32-14.33 32-32-14.33-32-32-32zm154.65-97.08l16.24-48.71c1.16-3.45 3.18-6.35 4.92-9.43-4.73-2.76-9.94-4.78-15.81-4.78-17.67 0-32 14.33-32 32 0 15.78 11.63 28.29 26.65 30.92zM176 176c-17.67 0-32 14.33-32 32s14.33 32 32 32 32-14.33 32-32-14.33-32-32-32zM288 32C128.94 32 0 160.94 0 320c0 52.8 14.25 102.26 39.06 144.8 5.61 9.62 16.3 15.2 27.44 15.2h443c11.14 0 21.83-5.58 27.44-15.2C561.75 422.26 576 372.8 576 320c0-159.06-128.94-288-288-288zm212.27 400H75.73C57.56 397.63 48 359.12 48 320 48 187.66 155.66 80 288 80s240 107.66 240 240c0 39.12-9.56 77.63-27.73 112zM416 320c0 17.67 14.33 32 32 32s32-14.33 32-32-14.33-32-32-32-32 14.33-32 32zm-56.41-182.77c-12.72-4.23-26.16 2.62-30.38 15.17l-45.34 136.01C250.49 290.58 224 318.06 224 352c0 11.72 3.38 22.55 8.88 32h110.25c5.5-9.45 8.88-20.28 8.88-32 0-19.45-8.86-36.66-22.55-48.4l45.34-136.01c4.17-12.57-2.64-26.17-15.21-30.36zM432 208c0-15.8-11.66-28.33-26.72-30.93-.07.21-.07.43-.14.65l-19.5 58.49c4.37 2.24 9.11 3.8 14.36 3.8 17.67-.01 32-14.34 32-32.01z"/></svg>',mail:'<svg width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M19.25 4.125H2.75C2.56766 4.125 2.3928 4.19743 2.26386 4.32636C2.13493 4.4553 2.0625 4.63016 2.0625 4.8125V16.5C2.0625 16.8647 2.20737 17.2144 2.46523 17.4723C2.72309 17.7301 3.07283 17.875 3.4375 17.875H18.5625C18.9272 17.875 19.2769 17.7301 19.5348 17.4723C19.7926 17.2144 19.9375 16.8647 19.9375 16.5V4.8125C19.9375 4.63016 19.8651 4.4553 19.7361 4.32636C19.6072 4.19743 19.4323 4.125 19.25 4.125ZM8.48289 11L3.4375 15.6243V6.3757L8.48289 11ZM9.50039 11.9324L10.5316 12.882C10.6585 12.9985 10.8244 13.0631 10.9966 13.0631C11.1687 13.0631 11.3346 12.9985 11.4615 12.882L12.4927 11.9324L17.4771 16.5H4.51773L9.50039 11.9324ZM13.5171 11L18.5625 6.37484V15.6252L13.5171 11Z" fill="currentColor" /></svg>',circle_check:'<svg xmlns="http://www.w3.org/2000/svg" height="1.5em" viewBox="0 0 512 512"><path fill="currentColor" d="M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM369 209L241 337c-9.4 9.4-24.6 9.4-33.9 0l-64-64c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l47 47L335 175c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9z"/></svg>',skip_episode:'<svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M14.625 2.8125V15.1875C14.625 15.3367 14.5657 15.4798 14.4602 15.5852C14.3548 15.6907 14.2117 15.75 14.0625 15.75C13.9133 15.75 13.7702 15.6907 13.6648 15.5852C13.5593 15.4798 13.5 15.3367 13.5 15.1875V10.3198L5.09273 15.5777C4.92342 15.684 4.72878 15.7431 4.52895 15.7489C4.32913 15.7547 4.13139 15.707 3.95621 15.6107C3.78102 15.5144 3.63477 15.373 3.53258 15.2012C3.43039 15.0294 3.37599 14.8333 3.375 14.6334V3.36656C3.37599 3.16666 3.43039 2.97065 3.53258 2.79883C3.63477 2.62702 3.78102 2.48564 3.95621 2.38933C4.13139 2.29303 4.32913 2.2453 4.52895 2.25109C4.72878 2.25688 4.92342 2.31598 5.09273 2.42227L13.5 7.68023V2.8125C13.5 2.66332 13.5593 2.52024 13.6648 2.41475C13.7702 2.30926 13.9133 2.25 14.0625 2.25C14.2117 2.25 14.3548 2.30926 14.4602 2.41475C14.5657 2.52024 14.625 2.66332 14.625 2.8125Z" fill="currentColor"/></svg>',more_vertical:'<svg xmlns="http://www.w3.org/2000/svg" width="1.5em" height="1.5em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-more-vertical"><circle cx="12" cy="12" r="1"></circle><circle cx="12" cy="5" r="1"></circle><circle cx="12" cy="19" r="1"></circle></svg>',ios_share:'<svg width="1.5em" height="1.5em" viewBox="0 0 20 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M10 15.3857C10.4409 15.3857 10.8101 15.0166 10.8101 14.5859V4.05518L10.7485 2.51709L11.4355 3.24512L12.9941 4.90625C13.1377 5.07031 13.353 5.15234 13.5479 5.15234C13.9683 5.15234 14.2964 4.84473 14.2964 4.42432C14.2964 4.20898 14.2041 4.04492 14.0503 3.89111L10.5845 0.54834C10.3794 0.343262 10.2051 0.271484 10 0.271484C9.78467 0.271484 9.61035 0.343262 9.40527 0.54834L5.93945 3.89111C5.78564 4.04492 5.69336 4.20898 5.69336 4.42432C5.69336 4.84473 6.00098 5.15234 6.43164 5.15234C6.62646 5.15234 6.85205 5.07031 6.99561 4.90625L8.5542 3.24512L9.24121 2.51709L9.17969 4.05518V14.5859C9.17969 15.0166 9.55908 15.3857 10 15.3857ZM4.11426 23.4146H15.8755C18.0186 23.4146 19.0952 22.3481 19.0952 20.2358V10.0024C19.0952 7.89014 18.0186 6.82373 15.8755 6.82373H13.0146V8.47461H15.8447C16.8599 8.47461 17.4443 9.02832 17.4443 10.0947V20.1436C17.4443 21.21 16.8599 21.7637 15.8447 21.7637H4.13477C3.10938 21.7637 2.54541 21.21 2.54541 20.1436V10.0947C2.54541 9.02832 3.10938 8.47461 4.13477 8.47461H6.9751V6.82373H4.11426C1.97119 6.82373 0.894531 7.89014 0.894531 10.0024V20.2358C0.894531 22.3481 1.97119 23.4146 4.11426 23.4146Z" fill="currentColor"/></svg>',ios_files:'<svg width="1.5em" height="1.5em" viewBox="0 0 24 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M3.22405 20H21.024C22.9178 20 24 18.8772 24 16.7018V5.33333C24 3.1462 22.9065 2.03509 20.776 2.03509H10.5063C9.72851 2.03509 9.30014 1.85965 8.74777 1.36842L8.12776 0.818713C7.41757 0.187135 6.91029 0 5.85063 0H2.81822C1.01456 0 0 1.04094 0 3.1462V16.7018C0 18.8889 1.0822 20 3.22405 20ZM1.47675 3.22807C1.47675 2.08187 2.04039 1.50877 3.11132 1.50877H5.47863C6.23391 1.50877 6.65101 1.68421 7.21466 2.19883L7.84594 2.74854C8.52231 3.35673 9.06341 3.55556 10.1343 3.55556H20.7534C21.8807 3.55556 22.5233 4.18713 22.5233 5.4152V6.17544H1.47675V3.22807ZM3.24659 18.4795C2.09676 18.4795 1.47675 17.848 1.47675 16.6199V7.61403H22.5233V16.6316C22.5233 17.848 21.8807 18.4795 20.7534 18.4795H3.24659Z" fill="white"/></svg>',wand:'<svg width="1.5em" height="1.5em" viewBox="0 0 21 21" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M9.33437 4.33438L8.15625 4.775C8.0625 4.80937 8 4.9 8 5C8 5.1 8.0625 5.19062 8.15625 5.225L9.33437 5.66563L9.775 6.84375C9.80938 6.9375 9.9 7 10 7C10.1 7 10.1906 6.9375 10.225 6.84375L10.6656 5.66563L11.8438 5.225C11.9375 5.19062 12 5.1 12 5C12 4.9 11.9375 4.80937 11.8438 4.775L10.6656 4.33438L10.225 3.15625C10.1906 3.0625 10.1 3 10 3C9.9 3 9.80938 3.0625 9.775 3.15625L9.33437 4.33438ZM3.44062 15.3562C2.85625 15.9406 2.85625 16.8906 3.44062 17.4781L4.52187 18.5594C5.10625 19.1437 6.05625 19.1437 6.64375 18.5594L18.5594 6.64062C19.1438 6.05625 19.1438 5.10625 18.5594 4.51875L17.4781 3.44063C16.8937 2.85625 15.9437 2.85625 15.3562 3.44063L3.44062 15.3562ZM17.1438 5.58125L13.8625 8.8625L13.1344 8.13438L16.4156 4.85312L17.1438 5.58125ZM2.23438 6.6625C2.09375 6.71562 2 6.85 2 7C2 7.15 2.09375 7.28438 2.23438 7.3375L4 8L4.6625 9.76562C4.71562 9.90625 4.85 10 5 10C5.15 10 5.28438 9.90625 5.3375 9.76562L6 8L7.76562 7.3375C7.90625 7.28438 8 7.15 8 7C8 6.85 7.90625 6.71562 7.76562 6.6625L6 6L5.3375 4.23438C5.28438 4.09375 5.15 4 5 4C4.85 4 4.71562 4.09375 4.6625 4.23438L4 6L2.23438 6.6625ZM13.2344 14.6625C13.0938 14.7156 13 14.85 13 15C13 15.15 13.0938 15.2844 13.2344 15.3375L15 16L15.6625 17.7656C15.7156 17.9062 15.85 18 16 18C16.15 18 16.2844 17.9062 16.3375 17.7656L17 16L18.7656 15.3375C18.9062 15.2844 19 15.15 19 15C19 14.85 18.9062 14.7156 18.7656 14.6625L17 14L16.3375 12.2344C16.2844 12.0938 16.15 12 16 12C15.85 12 15.7156 12.0938 15.6625 12.2344L15 14L13.2344 14.6625Z" fill="currentColor"/></svg>',copy:'<svg xmlns="http://www.w3.org/2000/svg" width="1.5em" height="1.5em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-copy"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg>',user:'<svg xmlns="http://www.w3.org/2000/svg" width="1.5em" height="1.5em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-user"><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path><circle cx="12" cy="7" r="4"></circle></svg>',up_down_arrow:'<svg width="1.5em" height="1.5em" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4.53803 5.19018C4.50013 5.09883 4.49018 4.99829 4.50942 4.90128C4.52867 4.80427 4.57625 4.71514 4.64616 4.64518L7.64616 1.64518C7.69259 1.59869 7.74774 1.56181 7.80844 1.53665C7.86913 1.51149 7.9342 1.49854 7.99991 1.49854C8.06561 1.49854 8.13068 1.51149 8.19138 1.53665C8.25207 1.56181 8.30722 1.59869 8.35366 1.64518L11.3537 4.64518C11.4237 4.71511 11.4713 4.80423 11.4907 4.90128C11.51 4.99832 11.5001 5.09891 11.4622 5.19032C11.4243 5.28174 11.3602 5.35985 11.2779 5.41479C11.1956 5.46972 11.0989 5.49901 10.9999 5.49893H4.99991C4.90102 5.49891 4.80435 5.46956 4.72214 5.41461C4.63993 5.35965 4.57586 5.28155 4.53803 5.19018ZM10.9999 10.4989H4.99991C4.90096 10.4988 4.80421 10.5281 4.72191 10.5831C4.63962 10.638 4.57547 10.7161 4.53759 10.8075C4.49972 10.8989 4.48982 10.9995 4.50914 11.0966C4.52847 11.1936 4.57615 11.2828 4.64616 11.3527L7.64616 14.3527C7.69259 14.3992 7.74774 14.436 7.80844 14.4612C7.86913 14.4864 7.9342 14.4993 7.99991 14.4993C8.06561 14.4993 8.13068 14.4864 8.19138 14.4612C8.25207 14.436 8.30722 14.3992 8.35366 14.3527L11.3537 11.3527C11.4237 11.2828 11.4713 11.1936 11.4907 11.0966C11.51 10.9995 11.5001 10.8989 11.4622 10.8075C11.4243 10.7161 11.3602 10.638 11.2779 10.5831C11.1956 10.5281 11.0989 10.4988 10.9999 10.4989Z" fill="currentColor"/></svg>',rising_star:'<svg width="1.5em" height="1.5em" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M17.5509 6.91102L15.5716 8.59852L16.1643 11.1108C16.2061 11.2869 16.195 11.4714 16.1325 11.6412C16.0699 11.811 15.9587 11.9587 15.8127 12.0656C15.6651 12.174 15.4888 12.2365 15.3058 12.2453C15.1229 12.254 14.9414 12.2087 14.7841 12.1148L12.5341 10.7789L10.2841 12.1148C10.1268 12.2087 9.94528 12.254 9.76231 12.2453C9.57935 12.2365 9.40303 12.174 9.2554 12.0656C9.10948 11.9586 8.99833 11.811 8.9358 11.6412C8.87328 11.4713 8.86216 11.2869 8.90384 11.1108L9.49657 8.59852L7.51657 6.91102C7.37802 6.79275 7.27755 6.63613 7.22781 6.46088C7.17808 6.28563 7.1813 6.09959 7.23708 5.92617C7.29286 5.75275 7.39869 5.59971 7.54126 5.48631C7.68383 5.37291 7.85677 5.30423 8.03829 5.28891L10.656 5.06742L11.677 2.68734C11.749 2.52049 11.8683 2.37837 12.0202 2.27853C12.1721 2.17869 12.3499 2.12549 12.5316 2.12549C12.7134 2.12549 12.8911 2.17869 13.043 2.27853C13.1949 2.37837 13.3142 2.52049 13.3863 2.68734L14.4072 5.06883L17.0242 5.28891C17.2062 5.30319 17.3798 5.37111 17.5231 5.48409C17.6665 5.59707 17.7731 5.75002 17.8294 5.9236C17.8858 6.09718 17.8894 6.28358 17.8399 6.45922C17.7903 6.63486 17.6897 6.79185 17.5509 6.91031V6.91102ZM7.02298 9.03938C6.97074 8.98708 6.9087 8.94559 6.84041 8.91728C6.77213 8.88897 6.69893 8.8744 6.62501 8.8744C6.55109 8.8744 6.47789 8.88897 6.4096 8.91728C6.34132 8.94559 6.27928 8.98708 6.22704 9.03938L2.28954 12.9769C2.18399 13.0824 2.12469 13.2256 2.12469 13.3748C2.12469 13.5241 2.18399 13.6673 2.28954 13.7728C2.39509 13.8784 2.53824 13.9377 2.68751 13.9377C2.83677 13.9377 2.97993 13.8784 3.08548 13.7728L7.02298 9.83531C7.07528 9.78307 7.11677 9.72104 7.14507 9.65275C7.17338 9.58446 7.18795 9.51127 7.18795 9.43735C7.18795 9.36342 7.17338 9.29023 7.14507 9.22194C7.11677 9.15365 7.07528 9.09162 7.02298 9.03938ZM8.14798 12.9769C8.09574 12.9246 8.0337 12.8831 7.96541 12.8548C7.89713 12.8265 7.82393 12.8119 7.75001 12.8119C7.67609 12.8119 7.60289 12.8265 7.5346 12.8548C7.46632 12.8831 7.40428 12.9246 7.35204 12.9769L3.41454 16.9144C3.36228 16.9666 3.32082 17.0287 3.29254 17.097C3.26425 17.1652 3.24969 17.2384 3.24969 17.3123C3.24969 17.3863 3.26425 17.4594 3.29254 17.5277C3.32082 17.596 3.36228 17.6581 3.41454 17.7103C3.52009 17.8159 3.66324 17.8752 3.81251 17.8752C3.88642 17.8752 3.9596 17.8606 4.02789 17.8323C4.09617 17.804 4.15821 17.7626 4.21048 17.7103L8.14798 13.7728C8.20028 13.7206 8.24177 13.6585 8.27007 13.5902C8.29838 13.522 8.31295 13.4488 8.31295 13.3748C8.31295 13.3009 8.29838 13.2277 8.27007 13.1594C8.24177 13.0912 8.20028 13.0291 8.14798 12.9769ZM12.4152 12.9769L8.47774 16.9144C8.37219 17.0199 8.3129 17.1631 8.3129 17.3123C8.3129 17.4616 8.37219 17.6048 8.47774 17.7103C8.58329 17.8159 8.72644 17.8752 8.87571 17.8752C9.02498 17.8752 9.16813 17.8159 9.27368 17.7103L13.2112 13.7728C13.3167 13.6674 13.3761 13.5243 13.3761 13.3751C13.3762 13.2259 13.317 13.0828 13.2115 12.9772C13.1061 12.8717 12.963 12.8123 12.8138 12.8123C12.6646 12.8122 12.5215 12.8714 12.4159 12.9769H12.4152Z" fill="currentColor"/></svg>',settings:'<svg xmlns="http://www.w3.org/2000/svg" width="1.5em" height="1.5em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-settings"><circle cx="12" cy="12" r="3"></circle><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path></svg>',coins:'<svg width="1.5em" height="1.5em" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M15.8125 7.69742V7.21875C15.8125 5.06344 12.5615 3.4375 8.25 3.4375C3.93852 3.4375 0.6875 5.06344 0.6875 7.21875V10.6562C0.6875 12.4515 2.94336 13.878 6.1875 14.3052V14.7812C6.1875 16.9366 9.43852 18.5625 13.75 18.5625C18.0615 18.5625 21.3125 16.9366 21.3125 14.7812V11.3438C21.3125 9.56484 19.128 8.13656 15.8125 7.69742ZM4.8125 12.6216C3.12898 12.1516 2.0625 11.3773 2.0625 10.6562V9.44711C2.76375 9.94383 3.70305 10.3443 4.8125 10.6133V12.6216ZM11.6875 10.6133C12.797 10.3443 13.7362 9.94383 14.4375 9.44711V10.6562C14.4375 11.3773 13.371 12.1516 11.6875 12.6216V10.6133ZM10.3125 16.7466C8.62898 16.2766 7.5625 15.5023 7.5625 14.7812V14.4229C7.78852 14.4315 8.01711 14.4375 8.25 14.4375C8.58344 14.4375 8.90914 14.4263 9.22883 14.4074C9.58397 14.5346 9.94572 14.6424 10.3125 14.7305V16.7466ZM10.3125 12.9121C9.62964 13.013 8.94027 13.0633 8.25 13.0625C7.55973 13.0633 6.87036 13.013 6.1875 12.9121V10.8677C6.87137 10.9568 7.56035 11.001 8.25 11C8.93965 11.001 9.62863 10.9568 10.3125 10.8677V12.9121ZM15.8125 17.0371C14.4448 17.2376 13.0552 17.2376 11.6875 17.0371V14.9875C12.3712 15.0794 13.0602 15.1253 13.75 15.125C14.4397 15.126 15.1286 15.0818 15.8125 14.9927V17.0371ZM19.9375 14.7812C19.9375 15.5023 18.871 16.2766 17.1875 16.7466V14.7383C18.297 14.4693 19.2362 14.0688 19.9375 13.5721V14.7812Z" fill="currentColor"/></svg>',logout:'<svg style="transform: scaleX(-1);" xmlns="http://www.w3.org/2000/svg" width="1.5em" height="1.5em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-log-out"><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path><polyline points="16 17 21 12 16 7"></polyline><line x1="21" y1="12" x2="9" y2="12"></line></svg>',menu:'<svg xmlns="http://www.w3.org/2000/svg" width="1.5em" height="1.5em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg>',lock:'<svg xmlns="http://www.w3.org/2000/svg" width="1.5em" height="1.5em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-lock"><rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect><path d="M7 11V7a5 5 0 0 1 10 0v4"></path></svg>',unlock:'<svg xmlns="http://www.w3.org/2000/svg" width="1.5em" height="1.5em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-unlock"><rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect><path d="M7 11V7a5 5 0 0 1 9.9-1"></path></svg>',circle_question:'<svg xmlns="http://www.w3.org/2000/svg" height="1.5em" width="1.5em" viewBox="0 0 512 512"><!--!Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2023 Fonticons, Inc.--><path opacity="1" fill="currentColor" d="M464 256A208 208 0 1 0 48 256a208 208 0 1 0 416 0zM0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256zm169.8-90.7c7.9-22.3 29.1-37.3 52.8-37.3h58.3c34.9 0 63.1 28.3 63.1 63.1c0 22.6-12.1 43.5-31.7 54.8L280 264.4c-.2 13-10.9 23.6-24 23.6c-13.3 0-24-10.7-24-24V250.5c0-8.6 4.6-16.5 12.1-20.8l44.3-25.4c4.7-2.7 7.6-7.7 7.6-13.1c0-8.4-6.8-15.1-15.1-15.1H222.6c-3.4 0-6.4 2.1-7.5 5.3l-.4 1.2c-4.4 12.5-18.2 19-30.6 14.6s-19-18.2-14.6-30.6l.4-1.2zM224 352a32 32 0 1 1 64 0 32 32 0 1 1 -64 0z"/></svg>',brush:'<svg xmlns="http://www.w3.org/2000/svg" height="1.5em" width="1.5em" viewBox="0 0 384 512"><!--!Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2023 Fonticons, Inc.--><path d="M162.4 6c-1.5-3.6-5-6-8.9-6h-19c-3.9 0-7.5 2.4-8.9 6L104.9 57.7c-3.2 8-14.6 8-17.8 0L66.4 6c-1.5-3.6-5-6-8.9-6H48C21.5 0 0 21.5 0 48V224v22.4V256H9.6 374.4 384v-9.6V224 48c0-26.5-21.5-48-48-48H230.5c-3.9 0-7.5 2.4-8.9 6L200.9 57.7c-3.2 8-14.6 8-17.8 0L162.4 6zM0 288v32c0 35.3 28.7 64 64 64h64v64c0 35.3 28.7 64 64 64s64-28.7 64-64V384h64c35.3 0 64-28.7 64-64V288H0zM192 432a16 16 0 1 1 0 32 16 16 0 1 1 0-32z" fill="currentColor"/></svg>',upload:'<svg xmlns="http://www.w3.org/2000/svg" height="1.5em" width="1.5em" viewBox="0 0 384 512"><!--! Font Awesome Pro 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --><path opacity="1" fill="currentColor" d="M320 480H64c-17.7 0-32-14.3-32-32V64c0-17.7 14.3-32 32-32H192V144c0 26.5 21.5 48 48 48H352V448c0 17.7-14.3 32-32 32zM240 160c-8.8 0-16-7.2-16-16V32.5c2.8 .7 5.4 2.1 7.4 4.2L347.3 152.6c2.1 2.1 3.5 4.6 4.2 7.4H240zM64 0C28.7 0 0 28.7 0 64V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V163.9c0-12.7-5.1-24.9-14.1-33.9L254.1 14.1c-9-9-21.2-14.1-33.9-14.1H64zM208 278.6l52.7 52.7c6.2 6.2 16.4 6.2 22.6 0s6.2-16.4 0-22.6l-80-80c-6.2-6.2-16.4-6.2-22.6 0l-80 80c-6.2 6.2-6.2 16.4 0 22.6s16.4 6.2 22.6 0L176 278.6V400c0 8.8 7.2 16 16 16s16-7.2 16-16V278.6z"/></svg>',web:'<svg xmlns="http://www.w3.org/2000/svg" width="1.4em" height="1.4em" viewBox="0 0 24 24" fill="none">\n  <path d="M15.3222 10.383C15.3796 10.9457 15.4125 11.4903 15.4125 12C15.4125 12.9541 15.2972 14.0315 15.1208 15.1208C14.0315 15.2972 12.9541 15.4125 12 15.4125C11.0502 15.4125 9.97313 15.2975 8.87911 15.1205C8.70281 14.0312 8.5875 12.954 8.5875 12C8.5875 11.4905 8.62039 10.9458 8.67789 10.383C9.82608 10.5668 10.9715 10.6875 12 10.6875C13.0286 10.6875 14.174 10.5668 15.3222 10.383Z" fill="currentColor"/>\n  <path d="M16.8752 10.0994C16.9462 10.7579 16.9875 11.399 16.9875 12C16.9875 12.8769 16.8997 13.8389 16.7599 14.8153C18.7425 14.4016 20.575 13.8731 21.5567 13.5722C21.8739 13.475 21.9986 13.4363 22.1658 13.3694C22.2494 13.336 22.326 13.302 22.4259 13.2543C22.4748 12.843 22.5 12.4244 22.5 12C22.5 10.878 22.324 9.79714 21.9982 8.78346L21.9133 8.81017C20.8868 9.12245 18.9652 9.6745 16.8752 10.0994Z" fill="currentColor"/>\n  <path d="M21.4017 7.31948C20.3698 7.63221 18.579 8.14039 16.6599 8.53603C16.2178 5.84926 15.443 3.16951 15.0702 1.95598C17.8422 2.80227 20.1273 4.76467 21.4017 7.31948Z" fill="currentColor"/>\n  <path d="M15.1117 8.82229C14.0253 8.99781 12.9513 9.1125 12 9.1125C11.0487 9.1125 9.97477 8.99781 8.88843 8.8223C9.30471 6.28005 10.0478 3.68306 10.4278 2.44333C10.525 2.12606 10.5637 2.00144 10.6306 1.83418C10.664 1.75062 10.698 1.67398 10.7457 1.57414C11.157 1.52518 11.5756 1.5 12 1.5C12.4434 1.5 12.8803 1.52748 13.3093 1.58083C13.3184 1.61564 13.3268 1.64679 13.3351 1.67626C13.3597 1.76333 13.3982 1.8857 13.4628 2.09104L13.4696 2.11261C13.7935 3.14223 14.6519 6.01401 15.1117 8.82229Z" fill="currentColor"/>\n  <path d="M7.34004 8.536C7.7801 5.86107 8.54986 3.19576 8.92192 1.98181L8.92983 1.95597C6.15777 2.80225 3.8727 4.76465 2.59835 7.31946C3.63018 7.63219 5.42095 8.14036 7.34004 8.536Z" fill="currentColor"/>\n  <path d="M2.00184 8.78345C1.67598 9.79714 1.5 10.878 1.5 12C1.5 12.4389 1.52693 12.8715 1.57923 13.2963L1.74471 13.3515L1.74603 13.3519L1.74765 13.3525L1.74879 13.3528C1.80205 13.3705 3.36305 13.886 5.41878 14.3975C5.99886 14.5418 6.61307 14.6844 7.24006 14.8151C7.10025 13.8388 7.0125 12.8769 7.0125 12C7.0125 11.3988 7.05374 10.7577 7.12472 10.0994C5.03428 9.67436 3.11218 9.12212 2.08597 8.80989L2.07883 8.80771L2.00184 8.78345Z" fill="currentColor"/>\n  <path d="M12 16.9875C12.8769 16.9875 13.8389 16.8997 14.8153 16.7599C14.4016 18.7425 13.8731 20.575 13.5722 21.5566C13.475 21.8739 13.4363 21.9985 13.3694 22.1658C13.336 22.2494 13.302 22.326 13.2543 22.4259C12.843 22.4748 12.4244 22.5 12 22.5C11.5756 22.5 11.157 22.4748 10.7457 22.4259C10.698 22.326 10.664 22.2494 10.6306 22.1658C10.5637 21.9986 10.525 21.8739 10.4278 21.5567C10.1269 20.5751 9.59846 18.7427 9.18478 16.7603C10.1579 16.8996 11.1201 16.9875 12 16.9875Z" fill="currentColor"/>\n  <path d="M5.0385 15.9259C3.73853 15.6024 2.63135 15.2775 1.95597 15.0702C2.97258 18.4002 5.59982 21.0274 8.92983 22.044L8.92192 22.0182C8.59705 20.9582 7.96897 18.7917 7.52191 16.4784C6.6525 16.3103 5.80722 16.1171 5.0385 15.9259Z" fill="currentColor"/>\n  <path d="M22.0182 15.0781C20.9582 15.403 18.7915 16.0311 16.4781 16.4781C16.0311 18.7915 15.403 20.9581 15.0781 22.0182L15.0702 22.044C18.4002 21.0274 21.0274 18.4002 22.044 15.0702L22.0182 15.0781Z" fill="currentColor"/>\n  <path d="M1.6103 13.323C1.64665 13.3277 1.67628 13.3327 1.68611 13.3349C1.69472 13.337 1.70821 13.3406 1.7131 13.3419L1.72391 13.345L1.72973 13.3468L1.73585 13.3487L1.74098 13.3503C1.7381 13.3494 1.67976 13.3348 1.6103 13.323Z" fill="currentColor"/>\n  </svg>'};function Ii(){let a=i.useRef(null);return i.useEffect(()=>{if(a.current&&!a.current.querySelector("#castbutton")){let i=document.createElement("google-cast-launcher");i.setAttribute("id","castbutton"),a.current.appendChild(i)}},[]),S.jsx("div",{ref:a,className:"h-8 text-md"})}let Fi=i.memo(i=>{if("casting"===i.icon)return S.jsx(Ii,{});let a="arrowLeft"===i.icon||"arrowRight"===i.icon||"chevronLeft"===i.icon||"chevronRight"===i.icon?"rtl:-scale-x-100":"";return S.jsx("span",{dangerouslySetInnerHTML:{__html:Ri[i.icon]},className:Ai(i.className,a)})});function Di(i){return S.jsxs("div",{className:"bg-pill-background bg-opacity-50 px-4 py-2 rounded-full text-white flex justify-center items-center",children:[S.jsx(Fi,{icon:i.icon??Pi.WAND,className:"mr-3 text-xl text-type-link"}),i.children]})}function $i(i){return S.jsx("div",{className:i.className,children:S.jsxs("div",{className:"flex flex-col items-center justify-center",children:[S.jsxs("div",{className:"flex h-12 items-center justify-center",children:[S.jsx("div",{className:"mx-1 h-2 w-2 animate-loading-pin rounded-full bg-[#211D30]"}),S.jsx("div",{className:"mx-1 h-2 w-2 animate-loading-pin rounded-full bg-[#211D30] [animation-delay:150ms]"}),S.jsx("div",{className:"mx-1 h-2 w-2 animate-loading-pin rounded-full bg-[#211D30] [animation-delay:300ms]"}),S.jsx("div",{className:"mx-1 h-2 w-2 animate-loading-pin rounded-full bg-[#211D30] [animation-delay:450ms]"})]}),i.text&&i.text.length?S.jsx("p",{className:"mt-3 max-w-xs text-sm opacity-75",children:i.text}):null]})})}function zi(i){return S.jsx("p",{className:Ai("text-errors-type-secondary",i.marginClass??"mt-6"),children:i.children})}function Vi(i){return S.jsx("h2",{className:Ai("text-white text-3xl font-bold text-opacity-100 mt-6",i.className),children:i.children})}function Bi(i){return S.jsx("div",{className:Ai("w-full p-6 text-center flex flex-col items-center",i.maxWidth??"max-w-[28rem]"),children:i.children})}function Hi(i){return S.jsx("div",{className:"w-full h-full flex justify-center items-center flex-col",children:i.children})}let Ui="embed.su",Wi=null;function qi(){return Wi??[]}function Gi(i){let a=ve(),{error:l,value:s,loading:o}=Ei(async()=>{var l,s;let o=null;try{(o=await (null==window?void 0:window.getSauce({type:String(a.type),id:String(a.id),season:String(a.season),episode:String(a.episode)})))&&(Wi=s=o.servers)}catch(c){return console.log(c),null}if(!o)return null;"tv"===a.type&&a.season&&a.episode&&(o={...o,currentSeason:Number(o.currentSeason),currentEpisode:Number(o.currentEpisode),seasons:o.seasons.map(i=>({...i,seasonNumber:Number(i.seasonNumber),episodes:i.episodes.map(i=>({...i,episodeNumber:Number(i.episodeNumber)}))}))}),null==(l=i.onGetMeta)||l.call(i,{...o,id:a.id})},[]);return l?S.jsx(Hi,{children:S.jsxs(Bi,{children:[S.jsx(Di,{icon:Pi.WAND,children:"Failed"}),S.jsx(Vi,{children:"Failed to load metadata"}),S.jsx(zi,{children:"Could not load the media's metadata from TMDB. Please check whether TMDB is down or blocked on your internet connection."})]})}):s||o?S.jsx(Hi,{children:S.jsx("div",{className:"flex items-center justify-center",children:S.jsx($i,{})})}):S.jsx(Hi,{children:S.jsxs(Bi,{children:[S.jsx(Di,{icon:Pi.WAND,children:"Not found"}),S.jsx(Vi,{children:"Couldn't find that media."}),S.jsx(zi,{children:"We couldn't find the media you requested. Either it's been removed or you tampered with the URL (naughty, naughty)."})]})})}function Zi(){return S.jsx(Hi,{children:S.jsxs(Bi,{children:[S.jsx(Di,{icon:Pi.WAND,children:"Playback error"}),S.jsx(Vi,{children:"Failed to play video!"}),S.jsx(zi,{children:"There was an error trying to play the media \uD83D\uDE16. Please try again!"})]})})}let Qi=i.forwardRef((i,a)=>S.jsxs("button",{ref:a,type:"button",onClick(a){var l;return null==(l=i.onClick)?void 0:l.call(i,a.currentTarget)},className:Ai(["p-1 sm:p-2 rounded-full transition-all duration-200 origin-center ease-linear flex items-center gap-3",i.activeClass??" active:text-white",i.className??""]),children:[i.icon?i.icon===Pi.CASTING?S.jsx(Fi,{className:i.iconSizeClass||"text-2xl",icon:i.icon}):i.icon:"",i.children]}));function Ki(a){let[l,s]=i.useState(!1),o=i.useRef(!1);return i.useEffect(()=>{function i(){let i=window.innerWidth<1024;o.current!==i&&(o.current=i,s(i))}return i(),window.addEventListener("resize",i),()=>{window.removeEventListener("resize",i)}},[a]),{isMobile:l}}/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */ let Yi=(...i)=>i.filter((i,a,l)=>Boolean(i)&&l.indexOf(i)===a).join(" ") /**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */ ;var Xi={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */ let Ji=i.forwardRef(({color:a="currentColor",size:l=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:c="",children:u,iconNode:d,...h},e_)=>i.createElement("svg",{ref:e_,...Xi,width:l,height:l,stroke:a,strokeWidth:o?24*Number(s)/Number(l):s,className:Yi("lucide",c),...h},[...d.map(([a,l])=>i.createElement(a,l)),...Array.isArray(u)?u:[u]])),eo=(a,l)=>{let s=i.forwardRef(({className:s,...o},c)=>{var u;return i.createElement(Ji,{ref:c,iconNode:l,className:Yi(`lucide-${(u=a).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,s),...o})});return s.displayName=`${a}`,s},to=eo("Captions",[["rect",{width:"18",height:"14",x:"3",y:"5",rx:"2",ry:"2",key:"12ruh7"}],["path",{d:"M7 15h4M15 15h2M7 11h2M13 11h4",key:"1ueiar"}]]),no=eo("Cast",[["path",{d:"M2 8V6a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-6",key:"3zrzxg"}],["path",{d:"M2 12a9 9 0 0 1 8 8",key:"g6cvee"}],["path",{d:"M2 16a5 5 0 0 1 4 4",key:"1y1dii"}],["line",{x1:"2",x2:"2.01",y1:"20",y2:"20",key:"xu2jvo"}]]),ro=eo("GalleryVerticalEnd",[["path",{d:"M7 2h10",key:"nczekb"}],["path",{d:"M5 6h14",key:"u2x4p"}],["rect",{width:"18",height:"12",x:"3",y:"10",rx:"2",key:"l0tzu3"}]]),io=eo("Maximize",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]]),oo=eo("Minimize",[["path",{d:"M8 3v3a2 2 0 0 1-2 2H3",key:"hohbtr"}],["path",{d:"M21 8h-3a2 2 0 0 1-2-2V3",key:"5jw1f3"}],["path",{d:"M3 16h3a2 2 0 0 1 2 2v3",key:"198tvr"}],["path",{d:"M16 21v-3a2 2 0 0 1 2-2h3",key:"ph8mxp"}]]),so=eo("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]),ao=eo("PictureInPicture2",[["path",{d:"M21 9V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v10c0 1.1.9 2 2 2h4",key:"daa4of"}],["rect",{width:"10",height:"7",x:"12",y:"13",rx:"2",key:"1nb8gs"}]]),lo=eo("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]),co=eo("RedoDot",[["circle",{cx:"12",cy:"17",r:"1",key:"1ixnty"}],["path",{d:"M21 7v6h-6",key:"3ptur4"}],["path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7",key:"1kgawr"}]]),uo=eo("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),ho=eo("UndoDot",[["circle",{cx:"12",cy:"17",r:"1",key:"1ixnty"}],["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */ function fo(i){let a=On(i=>i.display),{isPaused:l}=On(i=>i.mediaPlaying),{isMobile:s}=Ki();return S.jsx(Qi,{className:i.className,iconSizeClass:i.iconSizeClass,onClick(){l?null==a||a.play():null==a||a.pause()},children:l?S.jsx(lo,{size:i.isleft?30:s?50:60}):S.jsx(so,{size:i.isleft?30:s?50:60})})}function po(){let{isFullscreen:i}=On(i=>i.interface),a=On(i=>i.display);return S.jsx(Qi,{onClick:()=>null==a?void 0:a.toggleFullscreen(),icon:i?S.jsx(oo,{size:30}):S.jsx(io,{size:30})})}var mo={fullscreenEnabled:0,fullscreenElement:1,requestFullscreen:2,exitFullscreen:3,fullscreenchange:4,fullscreenerror:5,fullscreen:6},go=["webkitFullscreenEnabled","webkitFullscreenElement","webkitRequestFullscreen","webkitExitFullscreen","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"],vo=["mozFullScreenEnabled","mozFullScreenElement","mozRequestFullScreen","mozCancelFullScreen","mozfullscreenchange","mozfullscreenerror","-moz-full-screen"],yo=["msFullscreenEnabled","msFullscreenElement","msRequestFullscreen","msExitFullscreen","MSFullscreenChange","MSFullscreenError","-ms-fullscreen"],bo="undefined"!=typeof window&&void 0!==window.document?window.document:{},xo="fullscreenEnabled"in bo&&Object.keys(mo)||go[0]in bo&&go||vo[0]in bo&&vo||yo[0]in bo&&yo||[],wo={requestFullscreen:function(i){return i[xo[mo.requestFullscreen]]()},requestFullscreenFunction:function(i){return i[xo[mo.requestFullscreen]]},get exitFullscreen(){return bo[xo[mo.exitFullscreen]].bind(bo)},get fullscreenPseudoClass(){return":"+xo[mo.fullscreen]},addEventListener:function(i,a,l){return bo.addEventListener(xo[mo[i]],a,l)},removeEventListener:function(i,a,l){return bo.removeEventListener(xo[mo[i]],a,l)},get fullscreenEnabled(){return Boolean(bo[xo[mo.fullscreenEnabled]])},set fullscreenEnabled(e){},get fullscreenElement(){return bo[xo[mo.fullscreenElement]]},set fullscreenElement(e){},get onfullscreenchange(){return bo[("on"+xo[mo.fullscreenchange]).toLowerCase()]},set onfullscreenchange(e){return bo[("on"+xo[mo.fullscreenchange]).toLowerCase()]=e},get onfullscreenerror(){return bo[("on"+xo[mo.fullscreenerror]).toLowerCase()]},set onfullscreenerror(e){return bo[("on"+xo[mo.fullscreenerror]).toLowerCase()]=e}};let Co=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),ko=null;async function So(){if(null===ko){let i=new Promise(i=>{setTimeout(()=>i(!1),1e3)}),a=new Promise(i=>{let a=document.createElement("video"),l=()=>{a.removeEventListener("volumechange",l),i(!0)};a.addEventListener("volumechange",l),a.volume=.5});ko=await Promise.race([a,i])}return ko}function Eo(){return wo.fullscreenEnabled}function jo(){return Eo()||Co}function _o(){return Eo()||jo()}function To(){return"pictureInPictureEnabled"in document}function No(){return"webkitSupportsPresentationMode"in document.createElement("video")}function Mo(i){return!h.isSupported()&&!!i.canPlayType("application/vnd.apple.mpegurl")}function Lo(){let i=On(i=>i.display);return To()||No()?S.jsx(Qi,{onClick:()=>null==i?void 0:i.togglePictureInPicture(),iconSizeClass:"text-xl",icon:S.jsx(ao,{size:30})}):null}function Oo(i){return Number(Math.max(0,Math.min(i,100)).toFixed(2))}function Ao(i){return"mousedown"===i.type||"mouseup"===i.type||"mousemove"===i.type}let Po=(i,a)=>"horizontal"===a?Ao(i)?i.pageX:i.changedTouches[0].pageX:Ao(i)?i.pageY:i.changedTouches[0].pageY;function Ro(a,l,s=!1,o="horizontal"){let[c,u]=i.useState(!1),[d,h]=i.useState(0);i.useEffect(()=>{function i(i){if(!c||!a.current)return;let u=a.current.getBoundingClientRect(),d="horizontal"===o?(Po(i,o)-u.left)/a.current.offsetWidth:(u.bottom-Po(i,o))/a.current.offsetHeight;h(100*d),s&&l(d)}function d(i){if(!c||(u(!1),document.body.removeAttribute("data-no-select"),!a.current))return;let s=a.current.getBoundingClientRect(),d="horizontal"===o?(Po(i,o)-s.left)/a.current.offsetWidth:(s.bottom-Po(i,o))/a.current.offsetHeight;l(d)}return document.addEventListener("mousemove",i),document.addEventListener("touchmove",i),document.addEventListener("mouseup",d),document.addEventListener("touchend",d),()=>{document.removeEventListener("mousemove",i),document.removeEventListener("touchmove",i),document.removeEventListener("mouseup",d),document.removeEventListener("touchend",d)}},[c,a,l,s,o]);let e_=i.useCallback(i=>{if(u(!0),document.body.setAttribute("data-no-select","true"),!a.current)return;let l=a.current.getBoundingClientRect(),s=100*("horizontal"===o?(Po(i,o)-l.left)/a.current.offsetWidth:(l.bottom-Po(i,o))/a.current.offsetHeight);h(s)},[h,a,o]);return{dragging:c,dragPercentage:d,dragMouseDown:e_}}function Io(i,a=!1){if(Number.isNaN(i))return a?"0:00:00":"0:00";let l=i,s=Math.floor(l%60);l/=60;let o=Math.floor(l%60);l/=60;let c=Math.floor(l),u=s.toString().padStart(2,"0"),d=o.toString().padStart(2,"0");return a?[c,d,u].join(":"):[d,u].join(":")}function Fo(i){return i>3600}function Do(a){let l=On(i=>i.thumbnails.images),s=i.useMemo(()=>{var i;return null==(i=function(i,a){if(0===i.length)return null;let l=i.findIndex(i=>i.at>a);if(-1===l)return{index:i.length-1,image:i[i.length-1]};let s=i[l];if(0===l)return{index:l,image:s};let o=i[l-1];return a-o.at<s.at-a?{index:l-1,image:o}:{index:l,image:s}}(l,a.at))?void 0:i.image},[l,a.at]),[o,c]=i.useState({offscreenLeft:0,offscreenRight:0}),u=i.useRef(null);return i.useEffect(()=>{if(!u.current)return;let i=u.current.getBoundingClientRect(),a=Math.max(0,-1*(i.left-32)),l=Math.max(0,i.right+32-window.innerWidth);c({offscreenLeft:a,offscreenRight:l})},[a.at]),a.show&&s?S.jsx("div",{className:"flex flex-col items-center -translate-x-1/2 pointer-events-none",children:S.jsx("div",{className:"w-screen relative flex justify-center",children:S.jsx("div",{ref:u,children:S.jsxs("div",{style:{transform:`translateX(${o.offscreenLeft>0?o.offscreenLeft:-o.offscreenRight}px)`},children:[S.jsx("img",{src:s.data,className:"h-24 !aspect-video border rounded-xl border-gray-800 object-cover object-center overflow-hidden"}),S.jsx("div",{className:"absolute bottom-1 inset-x-0 w-max mx-auto rounded-xl p-1 px-2 bg-background/50 backdrop-blur",children:S.jsx("p",{className:"text-center text-sm",children:Io(Math.max(a.at,0),Fo(a.at))})})]})})})}):null}function $o(){let{duration:a,time:l,buffered:s}=On(i=>i.progress),o=On(i=>i.display),c=On(i=>i.setDraggingTime),u=On(i=>i.setSeeking),{isSeeking:d}=On(i=>i.interface),h=i.useCallback(i=>{null==o||o.setTime(i*a)},[a,o]),e_=i.useRef(null),{mouseMove:e$,mouseLeave:e0,mousePos:eg}=function(a){let[l,s]=i.useState(-1);return{mousePos:l,mouseMove:i.useCallback(i=>{if(!a.current)return;let l=a.current.getBoundingClientRect(),o=(i.pageX-l.left)/a.current.offsetWidth;s(100*o)},[s,a]),mouseLeave:i.useCallback(()=>{s(-1)},[s])}}(e_),{dragging:e1,dragPercentage:ev,dragMouseDown:e3}=Ro(e_,h);return i.useEffect(()=>{u(e1)},[u,e1]),i.useEffect(()=>{c(ev/100*a)},[c,a,ev]),S.jsxs("div",{className:"w-full relative",dir:"ltr",children:[S.jsx("div",{className:"top-0 absolute inset-x-0",children:S.jsx("div",{className:"absolute bottom-0",style:{left:`${eg}%`},children:S.jsx(Do,{at:Math.floor(eg/100*a),show:eg>-1})})}),S.jsx("div",{className:"w-full",ref:e_,children:S.jsx("div",{className:"group w-full h-5 sm:h-8 flex items-center cursor-pointer",onMouseDown:e3,onTouchStart:e3,onMouseLeave:e0,onMouseMove:e$,children:S.jsxs("div",{className:["relative w-full h-1 bg-muted-foreground/25 rounded-full transition-[height] duration-100 group-hover:h-1.5",e1?"!h-1.5":""].join(" "),children:[S.jsx("div",{className:"absolute top-0 left-0 h-full rounded-full bg-muted-foreground/25 flex justify-end items-center",style:{width:s/a*100+"%"}}),S.jsx("div",{className:"absolute top-0 left-0 h-full rounded-full bg-primary flex justify-end items-center",style:{width:100*Math.max(0,Math.min(1,e1?ev/100:l/a))+"%"},children:S.jsx("div",{className:["w-[1rem] min-w-[1rem] h-[1rem] rounded-full transform translate-x-1/2 scale-0 group-hover:scale-100 bg-white transition-[transform] duration-100",d?"scale-100":""].join(" ")})})]})})})]})}function zo(a){let l=On(i=>i.display),s=On(i=>i.progress.time),{isMobile:o}=Ki(),c=i.useCallback(()=>{null==l||l.setTime(s+10)},[l,s]);return S.jsx(Qi,{iconSizeClass:a.iconSizeClass,onClick:c,icon:S.jsx(co,{size:a.isCenter?o?35:45:30})})}function Vo(a){let l=On(i=>i.display),s=On(i=>i.progress.time),{isMobile:o}=Ki(),c=i.useCallback(()=>{null==l||l.setTime(s-10)},[l,s]);return S.jsx(Qi,{iconSizeClass:a.iconSizeClass,onClick:c,icon:S.jsx(ho,{size:a.isCenter?o?35:45:30})})}function Bo(i){let a=On(i=>i.interface.timeFormat),l=On(i=>i.setTimeFormat),{duration:s,time:o,draggingTime:c}=On(i=>i.progress),{isSeeking:u}=On(i=>i.interface),d=Fo(s),h=Math.min(Math.max(u?c:o,0),s),e_=Io(h,d),e$=new Date(Date.now()+1e3*Math.abs(h-s)).toLocaleTimeString([],{hour:"numeric",minute:"numeric",hour12:!0}),e0=Io(s,d),eg=a===jn.REGULAR?"regular":"remaining";return i.short&&(eg=a===jn.REGULAR?"shortRegular":"shortRemaining"),S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsx("span",{className:"text-sm sm:text-base",children:e_}),S.jsx(Qi,{className:"!p-0 sm:!p-2",onClick(){l(a===jn.REGULAR?jn.REMAINING:jn.REGULAR)},children:S.jsxs("span",{className:"text-sm sm:text-base",children:["regular"===eg&&`${e0}`,"remaining"===eg&&`Finish at ${e$}`]})})]})}function Ho(i){return S.jsx("div",{className:["spinner",i.className??""].join(" ")})}function Uo(){return On(i=>i.mediaPlaying.isLoading)?S.jsx(Ho,{className:"text-4xl"}):null}function Wo(){let a=On(i=>i.display),l=On(i=>i.mediaPlaying.isPlaying),s=On(i=>i.mediaPlaying.isLoading),o=On(i=>i.mediaPlaying.hasPlayedOnce),c=On(i=>i.status),u=i.useCallback(()=>{null==a||a.play()},[a]);return o||l||s||c!==Cn?null:S.jsx("div",{onClick:u,className:"group pointer-events-auto flex h-16 w-16 cursor-pointer items-center justify-center bg-video-autoPlay-background hover:bg-video-autoPlay-hover rounded-full text-white transition-[background-color,transform] hover:scale-125 active:scale-100",children:S.jsx(Fi,{icon:Pi.PLAY,className:"text-2xl transition-transform group-hover:scale-125"})})}function qo(){let i=On(i=>i.mediaPlaying.volume),a=On(i=>i.interface.lastVolume),l=On(i=>i.setLastVolume),s=On(i=>i.display),o=An(i=>i.setVolume);return{toggleMute(){let c;c=0,i>0?(c=0,l(i)):c=a>0?a:1,null==s||s.setVolume(c),o(c)},setVolume(i){o(i),l(i),null==s||s.setVolume(i)}}}function Go(a){let l=i.useRef(null),s=On(i=>i.setHoveringLeftControls),o=On(i=>i.interface.leftControlHovering),c=On(i=>i.mediaPlaying.volume),u=On(i=>i.mediaPlaying.isLoading),d=On(i=>i.mediaPlaying.hasPlayedOnce),{setVolume:h,toggleMute:e_}=qo(),e$=i.useCallback(i=>{h(i)},[h]),{dragging:e0,dragPercentage:eg,dragMouseDown:e1}=Ro(l,e$,!0,a.vertical?"vertical":"horizontal"),ev=i.useCallback(()=>{(!u||d)&&e_()},[e_]),e3=i.useCallback(async i=>{await So()&&"mouse"===i.pointerType&&s(!0),document.body.classList.add("overflow-y-hidden")},[s]),e2=Oo(100*c);e0&&(e2=Oo(eg));let e4=`${e2.toFixed(2)}%`,ey=i.useCallback(i=>{i.preventDefault();let a=c-i.deltaY/1e3;h(a=Math.max(0,Math.min(a,1)))},[c,h]),e6=i=>0===i?Pi.VOLUME_X:i>0&&i<=.33?Pi.VOLUME_LOW:i>.33&&i<=.66?Pi.VOLUME_MED:Pi.VOLUME;return S.jsx("div",{className:a.className,onPointerMove:e3,onPointerLeave(){s(0),document.body.classList.remove("overflow-y-hidden")},onWheel:ey,children:a.vertical?S.jsxs("div",{className:"pointer-events-auto pt-6 flex flex-col gap-2 cursor-pointer items-center py-0 touch-none",children:[S.jsx("div",{className:"linear h-24 -mb-1 overflow-hidden",children:S.jsx("div",{ref:l,onMouseDown:e1,onTouchStart:e1,className:"relative h-20 w-4 flex flex-col items-center",children:S.jsx("div",{className:"relative w-1 flex-1 bg-muted-foreground/50 rounded-full",children:S.jsx("div",{className:"absolute inset-x-0 bottom-0 flex items-start justify-center  rounded-full bg-primary",style:{height:e4},children:S.jsx("div",{className:"absolute h-3 w-3 top-0 rounded-full bg-white"})})})})}),S.jsx("div",{className:" text-lg text-white",onClick:ev,children:S.jsx(Fi,{icon:e6(e2/100)})})]}):S.jsxs("div",{className:"pointer-events-auto flex cursor-pointer items-center py-0 touch-none",children:[S.jsx("div",{className:"px-2 text-white",onClick:ev,children:S.jsx(Fi,{icon:e6(e2/100)})}),S.jsx("div",{className:"linear -ml-2 overflow-hidden transition-[width,opacity] duration-300 "+(a.show?"w-24":o||e0?"!w-24 opacity-100":"w-4 opacity-0"),children:S.jsx("div",{ref:l,className:"flex h-10 w-20 items-center px-2",onMouseDown:e1,onTouchStart:e1,children:S.jsx("div",{className:"relative h-1 flex-1 rounded-full bg-accent bg-opacity-50",children:S.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center justify-end rounded-full bg-primary",style:{width:e4},children:S.jsx("div",{className:"absolute h-3 w-3 translate-x-1/2 rounded-full bg-white"})})})})})]})})}function Zo({className:i}){let a=On(i=>{var a;return null==(a=i.meta)?void 0:a.title});return S.jsx("p",{className:i,children:a})}function Qo({className:i}){let a=On(i=>i.meta);return a&&"tv"!==(null==a?void 0:a.type)?null:S.jsx("div",{className:Ai("flex gap-3 font-medium pr-24",i??"text-white"),children:S.jsx("span",{children:`S${null==a?void 0:a.currentSeason} - E${null==a?void 0:a.currentEpisode}`})})}function Ko(i){return S.jsxs("div",{className:Ai("relative",i.className),children:[S.jsx("div",{id:`__overlayRouter::${i.id}`,className:"absolute inset-0 -z-10"}),i.children]})}var Yo={exports:{}};function Xo(){}function Jo(){}Jo.resetWarningCache=Xo,Yo.exports=function(){function i(i,a,l,s,o,c){if("SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"!==c){var u=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}function a(){return i}i.isRequired=i;var l={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:a,element:i,elementType:i,instanceOf:a,node:i,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:Jo,resetWarningCache:Xo};return l.PropTypes=l,l}();var es=Yo.exports,ts=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],ns=ts.join(","),rs="undefined"==typeof Element,is=rs?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,os=!rs&&Element.prototype.getRootNode?function(i){var a;return null==i||null===(a=i.getRootNode)||void 0===a?void 0:a.call(i)}:function(i){return null==i?void 0:i.ownerDocument},ss=function i(a,l){void 0===l&&(l=!0);var s,o=null==a||null===(s=a.getAttribute)||void 0===s?void 0:s.call(a,"inert");return""===o||"true"===o||l&&a&&i(a.parentNode)},as=function(i,a,l){if(ss(i))return[];var s=Array.prototype.slice.apply(i.querySelectorAll(ns));return a&&is.call(i,ns)&&s.unshift(i),s=s.filter(l)},ls=function i(a,l,s){for(var o=[],c=Array.from(a);c.length;){var u=c.shift();if(!ss(u,!1)){if("SLOT"===u.tagName){var d=u.assignedElements(),h=i(d.length?d:u.children,!0,s);s.flatten?o.push.apply(o,h):o.push({scopeParent:u,candidates:h})}else{is.call(u,ns)&&s.filter(u)&&(l||!a.includes(u))&&o.push(u);var e_=u.shadowRoot||"function"==typeof s.getShadowRoot&&s.getShadowRoot(u),e$=!ss(e_,!1)&&(!s.shadowRootFilter||s.shadowRootFilter(u));if(e_&&e$){var e0=i(!0===e_?u.children:e_.children,!0,s);s.flatten?o.push.apply(o,e0):o.push({scopeParent:u,candidates:e0})}else c.unshift.apply(c,u.children)}}}return o},cs=function(i){return!isNaN(parseInt(i.getAttribute("tabindex"),10))},us=function(i){var a,l,s;if(!i)throw Error("No node provided");return i.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(i.tagName)||""===(s=null==(a=i)||null===(l=a.getAttribute)||void 0===l?void 0:l.call(a,"contenteditable"))||"true"===s)&&!cs(i)?0:i.tabIndex},ds=function(i,a){return i.tabIndex===a.tabIndex?i.documentOrder-a.documentOrder:i.tabIndex-a.tabIndex},hs=function(i){return"INPUT"===i.tagName},fs=function(i){var a;return hs(a=i)&&"radio"===a.type&&!function(i){if(!i.name)return!0;var a,l=i.form||os(i),s=function(i){return l.querySelectorAll('input[type="radio"][name="'+i+'"]')};if("undefined"!=typeof window&&void 0!==window.CSS&&"function"==typeof window.CSS.escape)a=s(window.CSS.escape(i.name));else try{a=s(i.name)}catch(o){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",o.message),!1}var c=function(i,a){for(var l=0;l<i.length;l++)if(i[l].checked&&i[l].form===a)return i[l]}(a,i.form);return!c||c===i}(i)},ps=function(i){var a=i.getBoundingClientRect(),l=a.width,s=a.height;return 0===l&&0===s},ms=function(i,a){var l=a.displayCheck,s=a.getShadowRoot;if("hidden"===getComputedStyle(i).visibility)return!0;var o=is.call(i,"details>summary:first-of-type")?i.parentElement:i;if(is.call(o,"details:not([open]) *"))return!0;if(l&&"full"!==l&&"legacy-full"!==l){if("non-zero-area"===l)return ps(i)}else{if("function"==typeof s){for(var c=i;i;){var u=i.parentElement,d=os(i);if(u&&!u.shadowRoot&&!0===s(u))return ps(i);i=i.assignedSlot?i.assignedSlot:u||d===i.ownerDocument?u:d.host}i=c}if(function(i){var a,l,s,o,c,u,d,h=i&&os(i),e_=null===(o=h)||void 0===o?void 0:o.host,e$=!1;if(h&&h!==i)for(e$=!!(null!==(c=e_)&&void 0!==c&&null!==(u=c.ownerDocument)&&void 0!==u&&u.contains(e_)||null!=i&&null!==(d=i.ownerDocument)&&void 0!==d&&d.contains(i));!e$&&e_;)e$=!(null===(l=e_=null===(a=h=os(e_))||void 0===a?void 0:a.host)||void 0===l||null===(s=l.ownerDocument)||void 0===s||!s.contains(e_));return e$}(i))return!i.getClientRects().length;if("legacy-full"!==l)return!0}return!1},gs=function(i,a){var l,s;return!(a.disabled||ss(a)||hs(l=a)&&"hidden"===l.type||ms(a,i)||"DETAILS"===(s=a).tagName&&Array.prototype.slice.apply(s.children).some(function(i){return"SUMMARY"===i.tagName})||function(i){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(i.tagName))for(var a=i.parentElement;a;){if("FIELDSET"===a.tagName&&a.disabled){for(var l=0;l<a.children.length;l++){var s=a.children.item(l);if("LEGEND"===s.tagName)return!!is.call(a,"fieldset[disabled] *")||!s.contains(i)}return!0}a=a.parentElement}return!1}(a))},vs=function(i,a){return!(fs(a)||0>us(a)||!gs(i,a))},ys=function(i){var a=parseInt(i.getAttribute("tabindex"),10);return!!(isNaN(a)||a>=0)},bs=function i(a){var l=[],s=[];return a.forEach(function(a,o){var c,u,d,h=!!a.scopeParent,e_=h?a.scopeParent:a,e$=(c=e_,u=h,(d=us(c))<0&&u&&!cs(c)?0:d),e0=h?i(a.candidates):e_;0===e$?h?l.push.apply(l,e0):l.push(e_):s.push({documentOrder:o,tabIndex:e$,item:a,isScope:h,content:e0})}),s.sort(ds).reduce(function(i,a){return a.isScope?i.push.apply(i,a.content):i.push(a.content),i},[]).concat(l)},xs=function(i,a){var l;return l=(a=a||{}).getShadowRoot?ls([i],a.includeContainer,{filter:vs.bind(null,a),flatten:!1,getShadowRoot:a.getShadowRoot,shadowRootFilter:ys}):as(i,a.includeContainer,vs.bind(null,a)),bs(l)},ws=function(i,a){return(a=a||{}).getShadowRoot?ls([i],a.includeContainer,{filter:gs.bind(null,a),flatten:!0,getShadowRoot:a.getShadowRoot}):as(i,a.includeContainer,gs.bind(null,a))},Cs=function(i,a){if(a=a||{},!i)throw Error("No node provided");return!1!==is.call(i,ns)&&vs(a,i)},ks=ts.concat("iframe").join(","),Ss=function(i,a){if(a=a||{},!i)throw Error("No node provided");return!1!==is.call(i,ks)&&gs(a,i)};/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/ let Es=Object.freeze(Object.defineProperty({__proto__:null,focusable:ws,getTabIndex:us,isFocusable:Ss,isTabbable:Cs,tabbable:xs},Symbol.toStringTag,{value:"Module"}));/*!
* focus-trap 7.5.4
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/ function js(i,a){var l=Object.keys(i);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(i);a&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(i,a).enumerable})),l.push.apply(l,s)}return l}function _s(i){for(var a=1;a<arguments.length;a++){var l=null!=arguments[a]?arguments[a]:{};a%2?js(Object(l),!0).forEach(function(a){Ts(i,a,l[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(l)):js(Object(l)).forEach(function(a){Object.defineProperty(i,a,Object.getOwnPropertyDescriptor(l,a))})}return i}function Ts(i,a,l){var s,o;return(a="symbol"==typeof(o=function(i,a){if("object"!=typeof i||null===i)return i;var l=i[Symbol.toPrimitive];if(void 0!==l){var s=l.call(i,a||"default");if("object"!=typeof s)return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(i)}(s=a,"string"))?o:String(o))in i?Object.defineProperty(i,a,{value:l,enumerable:!0,configurable:!0,writable:!0}):i[a]=l,i}var Ns=function(i,a){if(i.length>0){var l=i[i.length-1];l!==a&&l.pause()}var s=i.indexOf(a);-1===s||i.splice(s,1),i.push(a)},Ms=function(i,a){var l=i.indexOf(a);-1!==l&&i.splice(l,1),i.length>0&&i[i.length-1].unpause()},Ls=function(i){return"Tab"===(null==i?void 0:i.key)||9===(null==i?void 0:i.keyCode)},Os=function(i){return Ls(i)&&!i.shiftKey},As=function(i){return Ls(i)&&i.shiftKey},Ps=function(i){return setTimeout(i,0)},Rs=function(i,a){var l=-1;return i.every(function(i,s){return!a(i)||(l=s,!1)}),l},Is=function(i){for(var a=arguments.length,l=Array(a>1?a-1:0),s=1;s<a;s++)l[s-1]=arguments[s];return"function"==typeof i?i.apply(void 0,l):i},Fs=function(i){return i.target.shadowRoot&&"function"==typeof i.composedPath?i.composedPath()[0]:i.target},Ds=[];let $s=Object.freeze(Object.defineProperty({__proto__:null,createFocusTrap:function(i,a){var l,s=(null==a?void 0:a.document)||document,o=(null==a?void 0:a.trapStack)||Ds,c=_s({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:Os,isKeyBackward:As},a),u={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},d=function(i,a,l){return i&&void 0!==i[a]?i[a]:c[l||a]},h=function(i,a){var l="function"==typeof(null==a?void 0:a.composedPath)?a.composedPath():void 0;return u.containerGroups.findIndex(function(a){var s=a.container,o=a.tabbableNodes;return s.contains(i)||(null==l?void 0:l.includes(s))||o.find(function(a){return a===i})})},e_=function(i){var a=c[i];if("function"==typeof a){for(var l=arguments.length,o=Array(l>1?l-1:0),u=1;u<l;u++)o[u-1]=arguments[u];a=a.apply(void 0,o)}if(!0===a&&(a=void 0),!a){if(void 0===a||!1===a)return a;throw Error("`".concat(i,"` was specified but was not a node, or did not return a node"))}var d=a;if("string"==typeof a&&!(d=s.querySelector(a)))throw Error("`".concat(i,"` as selector refers to no known node"));return d},e$=function(){var i=e_("initialFocus");if(!1===i)return!1;if(void 0===i||!Ss(i,c.tabbableOptions)){if(h(s.activeElement)>=0)i=s.activeElement;else{var a=u.tabbableGroups[0];i=a&&a.firstTabbableNode||e_("fallbackFocus")}}if(!i)throw Error("Your focus-trap needs to have at least one focusable element");return i},e0=function(){if(u.containerGroups=u.containers.map(function(i){var a=xs(i,c.tabbableOptions),l=ws(i,c.tabbableOptions),s=a.length>0?a[0]:void 0,o=a.length>0?a[a.length-1]:void 0,u=l.find(function(i){return Cs(i)}),d=l.slice().reverse().find(function(i){return Cs(i)}),h=!!a.find(function(i){return us(i)>0});return{container:i,tabbableNodes:a,focusableNodes:l,posTabIndexesFound:h,firstTabbableNode:s,lastTabbableNode:o,firstDomTabbableNode:u,lastDomTabbableNode:d,nextTabbableNode:function(i){var s=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=a.indexOf(i);return o<0?s?l.slice(l.indexOf(i)+1).find(function(i){return Cs(i)}):l.slice(0,l.indexOf(i)).reverse().find(function(i){return Cs(i)}):a[o+(s?1:-1)]}}}),u.tabbableGroups=u.containerGroups.filter(function(i){return i.tabbableNodes.length>0}),u.tabbableGroups.length<=0&&!e_("fallbackFocus"))throw Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(u.containerGroups.find(function(i){return i.posTabIndexesFound})&&u.containerGroups.length>1)throw Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},eg=function i(a){var l=a.activeElement;if(l)return l.shadowRoot&&null!==l.shadowRoot.activeElement?i(l.shadowRoot):l},e1=function i(a){var l;!1!==a&&a!==eg(document)&&(a&&a.focus?(a.focus({preventScroll:!!c.preventScroll}),u.mostRecentlyFocusedNode=a,(l=a).tagName&&"input"===l.tagName.toLowerCase()&&"function"==typeof l.select&&a.select()):i(e$()))},ev=function(i){var a=e_("setReturnFocus",i);return a||!1!==a&&i},e3=function(i){var a=i.target,l=i.event,s=i.isBackward,o=void 0!==s&&s;a=a||Fs(l),e0();var d=null;if(u.tabbableGroups.length>0){var e$=h(a,l),eg=e$>=0?u.containerGroups[e$]:void 0;if(e$<0)d=o?u.tabbableGroups[u.tabbableGroups.length-1].lastTabbableNode:u.tabbableGroups[0].firstTabbableNode;else if(o){var e1=Rs(u.tabbableGroups,function(i){return a===i.firstTabbableNode});if(e1<0&&(eg.container===a||Ss(a,c.tabbableOptions)&&!Cs(a,c.tabbableOptions)&&!eg.nextTabbableNode(a,!1))&&(e1=e$),e1>=0){var ev=0===e1?u.tabbableGroups.length-1:e1-1,e3=u.tabbableGroups[ev];d=us(a)>=0?e3.lastTabbableNode:e3.lastDomTabbableNode}else Ls(l)||(d=eg.nextTabbableNode(a,!1))}else{var e2=Rs(u.tabbableGroups,function(i){return a===i.lastTabbableNode});if(e2<0&&(eg.container===a||Ss(a,c.tabbableOptions)&&!Cs(a,c.tabbableOptions)&&!eg.nextTabbableNode(a))&&(e2=e$),e2>=0){var e4=e2===u.tabbableGroups.length-1?0:e2+1,ey=u.tabbableGroups[e4];d=us(a)>=0?ey.firstTabbableNode:ey.firstDomTabbableNode}else Ls(l)||(d=eg.nextTabbableNode(a))}}else d=e_("fallbackFocus");return d},e2=function(i){var a=Fs(i);h(a,i)>=0||(Is(c.clickOutsideDeactivates,i)?l.deactivate({returnFocus:c.returnFocusOnDeactivate}):Is(c.allowOutsideClick,i)||i.preventDefault())},e4=function(i){var a=Fs(i),l=h(a,i)>=0;if(l||a instanceof Document)l&&(u.mostRecentlyFocusedNode=a);else{i.stopImmediatePropagation();var s,o=!0;if(u.mostRecentlyFocusedNode){if(us(u.mostRecentlyFocusedNode)>0){var d=h(u.mostRecentlyFocusedNode),e_=u.containerGroups[d].tabbableNodes;if(e_.length>0){var e0=e_.findIndex(function(i){return i===u.mostRecentlyFocusedNode});e0>=0&&(c.isKeyForward(u.recentNavEvent)?e0+1<e_.length&&(s=e_[e0+1],o=!1):e0-1>=0&&(s=e_[e0-1],o=!1))}}else u.containerGroups.some(function(i){return i.tabbableNodes.some(function(i){return us(i)>0})})||(o=!1)}else o=!1;o&&(s=e3({target:u.mostRecentlyFocusedNode,isBackward:c.isKeyBackward(u.recentNavEvent)})),e1(s||u.mostRecentlyFocusedNode||e$())}u.recentNavEvent=void 0},ey=function(i){var a;if(("Escape"===(null==(a=i)?void 0:a.key)||"Esc"===(null==a?void 0:a.key)||27===(null==a?void 0:a.keyCode))&&!1!==Is(c.escapeDeactivates,i))return i.preventDefault(),void l.deactivate();(c.isKeyForward(i)||c.isKeyBackward(i))&&function(i){var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];u.recentNavEvent=i;var l=e3({event:i,isBackward:a});l&&(Ls(i)&&i.preventDefault(),e1(l))}(i,c.isKeyBackward(i))},e6=function(i){var a=Fs(i);h(a,i)>=0||Is(c.clickOutsideDeactivates,i)||Is(c.allowOutsideClick,i)||(i.preventDefault(),i.stopImmediatePropagation())},e5=function(){if(u.active)return Ns(o,l),u.delayInitialFocusTimer=c.delayInitialFocus?Ps(function(){e1(e$())}):e1(e$()),s.addEventListener("focusin",e4,!0),s.addEventListener("mousedown",e2,{capture:!0,passive:!1}),s.addEventListener("touchstart",e2,{capture:!0,passive:!1}),s.addEventListener("click",e6,{capture:!0,passive:!1}),s.addEventListener("keydown",ey,{capture:!0,passive:!1}),l},e7=function(){if(u.active)return s.removeEventListener("focusin",e4,!0),s.removeEventListener("mousedown",e2,!0),s.removeEventListener("touchstart",e2,!0),s.removeEventListener("click",e6,!0),s.removeEventListener("keydown",ey,!0),l},ex="undefined"!=typeof window&&"MutationObserver"in window?new MutationObserver(function(i){i.some(function(i){return Array.from(i.removedNodes).some(function(i){return i===u.mostRecentlyFocusedNode})})&&e1(e$())}):void 0,eb=function(){ex&&(ex.disconnect(),u.active&&!u.paused&&u.containers.map(function(i){ex.observe(i,{subtree:!0,childList:!0})}))};return(l={get active(){return u.active},get paused(){return u.paused},activate:function(i){if(u.active)return this;var a=d(i,"onActivate"),l=d(i,"onPostActivate"),o=d(i,"checkCanFocusTrap");o||e0(),u.active=!0,u.paused=!1,u.nodeFocusedBeforeActivation=s.activeElement,null==a||a();var c=function(){o&&e0(),e5(),eb(),null==l||l()};return o?(o(u.containers.concat()).then(c,c),this):(c(),this)},deactivate:function(i){if(!u.active)return this;var a=_s({onDeactivate:c.onDeactivate,onPostDeactivate:c.onPostDeactivate,checkCanReturnFocus:c.checkCanReturnFocus},i);clearTimeout(u.delayInitialFocusTimer),u.delayInitialFocusTimer=void 0,e7(),u.active=!1,u.paused=!1,eb(),Ms(o,l);var s=d(a,"onDeactivate"),h=d(a,"onPostDeactivate"),e_=d(a,"checkCanReturnFocus"),e$=d(a,"returnFocus","returnFocusOnDeactivate");null==s||s();var e0=function(){Ps(function(){e$&&e1(ev(u.nodeFocusedBeforeActivation)),null==h||h()})};return e$&&e_?(e_(ev(u.nodeFocusedBeforeActivation)).then(e0,e0),this):(e0(),this)},pause:function(i){if(u.paused||!u.active)return this;var a=d(i,"onPause"),l=d(i,"onPostPause");return u.paused=!0,null==a||a(),e7(),eb(),null==l||l(),this},unpause:function(i){if(!u.paused||!u.active)return this;var a=d(i,"onUnpause"),l=d(i,"onPostUnpause");return u.paused=!1,null==a||a(),e0(),e5(),eb(),null==l||l(),this},updateContainerElements:function(i){var a=[].concat(i).filter(Boolean);return u.containers=a.map(function(i){return"string"==typeof i?s.querySelector(i):i}),u.active&&e0(),eb(),this}}).updateContainerElements(i),l}},Symbol.toStringTag,{value:"Module"})),zs=c($s),Vs=c(Es);function Bs(i){return(Bs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(i){return typeof i}:function(i){return i&&"function"==typeof Symbol&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(i)}function Hs(i,a,l){return a&&function(i,a){for(var l=0;l<a.length;l++){var s=a[l];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(i,Zs(s.key),s)}}(i.prototype,a),Object.defineProperty(i,"prototype",{writable:!1}),i}function Us(i,a){return(Us=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,a){return i.__proto__=a,i})(i,a)}function Ws(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(i){return!1}}();return function(){var l,s=Gs(i);if(a){var o=Gs(this).constructor;l=Reflect.construct(s,arguments,o)}else l=s.apply(this,arguments);return function(i,a){if(a&&("object"===Bs(a)||"function"==typeof a))return a;if(void 0!==a)throw TypeError("Derived constructors may only return object or undefined");return qs(i)}(this,l)}}function qs(i){if(void 0===i)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function Gs(i){return(Gs=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)})(i)}function Zs(i){var a=function(i,a){if("object"!==Bs(i)||null===i)return i;var l=i[Symbol.toPrimitive];if(void 0!==l){var s=l.call(i,a||"default");if("object"!==Bs(s))return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(i)}(i,"string");return"symbol"===Bs(a)?a:String(a)}var Qs=i,Ks=es,Ys=zs.createFocusTrap,Xs=Vs.isFocusable,Js=function(){!function(i,a){if("function"!=typeof a&&null!==a)throw TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),a&&Us(i,a)}(a,Qs.Component);var i=Ws(a);function a(l){!function(i,a){if(!(i instanceof a))throw TypeError("Cannot call a class as a function")}(this,a),o=qs(s=i.call(this,l)),u=function(i){var a,l=null!==(a=this.internalOptions[i])&&void 0!==a?a:this.originalOptions[i];if("function"==typeof l){for(var s=arguments.length,o=Array(s>1?s-1:0),c=1;c<s;c++)o[c-1]=arguments[c];l=l.apply(void 0,o)}if(!0===l&&(l=void 0),!l){if(void 0===l||!1===l)return l;throw Error("`".concat(i,"` was specified but was not a node, or did not return a node"))}var u,d=l;if("string"==typeof l&&!(d=null===(u=this.getDocument())||void 0===u?void 0:u.querySelector(l)))throw Error("`".concat(i,"` as selector refers to no known node"));return d},(c=Zs(c="getNodeForOption"))in o?Object.defineProperty(o,c,{value:u,enumerable:!0,configurable:!0,writable:!0}):o[c]=u,s.handleDeactivate=s.handleDeactivate.bind(qs(s)),s.handlePostDeactivate=s.handlePostDeactivate.bind(qs(s)),s.handleClickOutsideDeactivates=s.handleClickOutsideDeactivates.bind(qs(s)),s.internalOptions={returnFocusOnDeactivate:!1,checkCanReturnFocus:null,onDeactivate:s.handleDeactivate,onPostDeactivate:s.handlePostDeactivate,clickOutsideDeactivates:s.handleClickOutsideDeactivates},s.originalOptions={returnFocusOnDeactivate:!0,onDeactivate:null,onPostDeactivate:null,checkCanReturnFocus:null,clickOutsideDeactivates:!1};var s,o,c,u,d=l.focusTrapOptions;for(var h in d)Object.prototype.hasOwnProperty.call(d,h)&&("returnFocusOnDeactivate"!==h&&"onDeactivate"!==h&&"onPostDeactivate"!==h&&"checkCanReturnFocus"!==h&&"clickOutsideDeactivates"!==h?s.internalOptions[h]=d[h]:s.originalOptions[h]=d[h]);return s.outsideClick=null,s.focusTrapElements=l.containerElements||[],s.updatePreviousElement(),s}return Hs(a,[{key:"getDocument",value:function(){return this.props.focusTrapOptions.document||("undefined"!=typeof document?document:void 0)}},{key:"getReturnFocusNode",value:function(){var i=this.getNodeForOption("setReturnFocus",this.previouslyFocusedElement);return i||!1!==i&&this.previouslyFocusedElement}},{key:"updatePreviousElement",value:function(){var i=this.getDocument();i&&(this.previouslyFocusedElement=i.activeElement)}},{key:"deactivateTrap",value:function(){this.focusTrap&&this.focusTrap.active&&this.focusTrap.deactivate({returnFocus:!1,checkCanReturnFocus:null,onDeactivate:this.originalOptions.onDeactivate})}},{key:"handleClickOutsideDeactivates",value:function(i){var a="function"==typeof this.originalOptions.clickOutsideDeactivates?this.originalOptions.clickOutsideDeactivates.call(null,i):this.originalOptions.clickOutsideDeactivates;return a&&(this.outsideClick={target:i.target,allowDeactivation:a}),a}},{key:"handleDeactivate",value:function(){this.originalOptions.onDeactivate&&this.originalOptions.onDeactivate.call(null),this.deactivateTrap()}},{key:"handlePostDeactivate",value:function(){var i=this,a=function(){var a=i.getReturnFocusNode(),l=!(!i.originalOptions.returnFocusOnDeactivate||null==a||!a.focus||i.outsideClick&&(!i.outsideClick.allowDeactivation||Xs(i.outsideClick.target,i.internalOptions.tabbableOptions))),s=i.internalOptions.preventScroll;l&&a.focus({preventScroll:void 0!==s&&s}),i.originalOptions.onPostDeactivate&&i.originalOptions.onPostDeactivate.call(null),i.outsideClick=null};this.originalOptions.checkCanReturnFocus?this.originalOptions.checkCanReturnFocus.call(null,this.getReturnFocusNode()).then(a,a):a()}},{key:"setupFocusTrap",value:function(){this.focusTrap?this.props.active&&!this.focusTrap.active&&(this.focusTrap.activate(),this.props.paused&&this.focusTrap.pause()):this.focusTrapElements.some(Boolean)&&(this.focusTrap=this.props._createFocusTrap(this.focusTrapElements,this.internalOptions),this.props.active&&this.focusTrap.activate(),this.props.paused&&this.focusTrap.pause())}},{key:"componentDidMount",value:function(){this.props.active&&this.setupFocusTrap()}},{key:"componentDidUpdate",value:function(i){if(this.focusTrap){i.containerElements!==this.props.containerElements&&this.focusTrap.updateContainerElements(this.props.containerElements);var a=!i.active&&this.props.active,l=i.active&&!this.props.active,s=!i.paused&&this.props.paused,o=i.paused&&!this.props.paused;if(a&&(this.updatePreviousElement(),this.focusTrap.activate()),l)return void this.deactivateTrap();s&&this.focusTrap.pause(),o&&this.focusTrap.unpause()}else i.containerElements!==this.props.containerElements&&(this.focusTrapElements=this.props.containerElements),this.props.active&&(this.updatePreviousElement(),this.setupFocusTrap())}},{key:"componentWillUnmount",value:function(){this.deactivateTrap()}},{key:"render",value:function(){var i=this,a=this.props.children?Qs.Children.only(this.props.children):void 0;if(a){if(a.type&&a.type===Qs.Fragment)throw Error("A focus-trap cannot use a Fragment as its child container. Try replacing it with a <div> element.");return Qs.cloneElement(a,{ref:function(l){var s=i.props.containerElements;a&&("function"==typeof a.ref?a.ref(l):a.ref&&(a.ref.current=l)),i.focusTrapElements=s||[l]}})}return null}}]),a}(),ea="undefined"==typeof Element?Function:Element;Js.propTypes={active:Ks.bool,paused:Ks.bool,focusTrapOptions:Ks.shape({document:Ks.object,onActivate:Ks.func,onPostActivate:Ks.func,checkCanFocusTrap:Ks.func,onPause:Ks.func,onPostPause:Ks.func,onUnpause:Ks.func,onPostUnpause:Ks.func,onDeactivate:Ks.func,onPostDeactivate:Ks.func,checkCanReturnFocus:Ks.func,initialFocus:Ks.oneOfType([Ks.instanceOf(ea),Ks.string,Ks.bool,Ks.func]),fallbackFocus:Ks.oneOfType([Ks.instanceOf(ea),Ks.string,Ks.func]),escapeDeactivates:Ks.oneOfType([Ks.bool,Ks.func]),clickOutsideDeactivates:Ks.oneOfType([Ks.bool,Ks.func]),returnFocusOnDeactivate:Ks.bool,setReturnFocus:Ks.oneOfType([Ks.instanceOf(ea),Ks.string,Ks.bool,Ks.func]),allowOutsideClick:Ks.oneOfType([Ks.bool,Ks.func]),preventScroll:Ks.bool,tabbableOptions:Ks.shape({displayCheck:Ks.oneOf(["full","legacy-full","non-zero-area","none"]),getShadowRoot:Ks.oneOfType([Ks.bool,Ks.func])}),trapStack:Ks.array,isKeyForward:Ks.func,isKeyBackward:Ks.func}),containerElements:Ks.arrayOf(Ks.instanceOf(ea)),children:Ks.oneOfType([Ks.element,Ks.instanceOf(ea)])},Js.defaultProps={active:!0,paused:!1,focusTrapOptions:{},_createFocusTrap:Ys};let ta=l(Js);var na=Object.defineProperty,ra=(i,a,l)=>(((i,a,l)=>{a in i?na(i,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):i[a]=l})(i,"symbol"!=typeof a?a+"":a,l),l);let ia=new class{constructor(){ra(this,"current",this.detect()),ra(this,"handoffState","pending"),ra(this,"currentId",0)}set(i){this.current!==i&&(this.handoffState="pending",this.currentId=0,this.current=i)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return"server"===this.current}get isClient(){return"client"===this.current}detect(){return"undefined"==typeof window||"undefined"==typeof document?"server":"client"}handoff(){"pending"===this.handoffState&&(this.handoffState="complete")}get isHandoffComplete(){return"complete"===this.handoffState}};function oa(){let i=[],a={addEventListener:(i,l,s,o)=>(i.addEventListener(l,s,o),a.add(()=>i.removeEventListener(l,s,o))),requestAnimationFrame(...i){let l=requestAnimationFrame(...i);return a.add(()=>cancelAnimationFrame(l))},nextFrame:(...i)=>a.requestAnimationFrame(()=>a.requestAnimationFrame(...i)),setTimeout(...i){let l=setTimeout(...i);return a.add(()=>clearTimeout(l))},microTask(...i){var l;let s={current:!0};return l=()=>{s.current&&i[0]()},"function"==typeof queueMicrotask?queueMicrotask(l):Promise.resolve().then(l).catch(i=>setTimeout(()=>{throw i})),a.add(()=>{s.current=!1})},style(i,a,l){let s=i.style.getPropertyValue(a);return Object.assign(i.style,{[a]:l}),this.add(()=>{Object.assign(i.style,{[a]:s})})},group(i){let a=oa();return i(a),this.add(()=>a.dispose())},add:a=>(i.includes(a)||i.push(a),()=>{let l=i.indexOf(a);if(l>=0)for(let s of i.splice(l,1))s()}),dispose(){for(let a of i.splice(0))a()}};return a}function sa(){let[a]=i.useState(oa);return i.useEffect(()=>()=>a.dispose(),[a]),a}let aa=(a,l)=>{ia.isServer?i.useEffect(a,l):i.useLayoutEffect(a,l)};function la(a){let l=i.useRef(a);return aa(()=>{l.current=a},[a]),l}let ca=function(i){let a=la(i);return s.useCallback((...i)=>a.current(...i),[a])};function ua(...i){return Array.from(new Set(i.flatMap(i=>"string"==typeof i?i.split(" "):[]))).filter(Boolean).join(" ")}function da(i,a,...l){if(i in a){let s=a[i];return"function"==typeof s?s(...l):s}let o=Error(`Tried to handle "${i}" but there is no handler defined. Only defined handlers are: ${Object.keys(a).map(i=>`"${i}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(o,da),o}var e,ha,fa,pa=((fa=pa||{})[fa.None=0]="None",fa[fa.RenderStrategy=1]="RenderStrategy",fa[fa.Static=2]="Static",fa),ma=((ha=ma||{})[ha.Unmount=0]="Unmount",ha[ha.Hidden=1]="Hidden",ha);function ga({ourProps:i,theirProps:a,slot:l,defaultTag:s,features:o,visible:c=!0,name:u,mergeRefs:d}){d=null!=d?d:ya;let h=ba(a,i);if(c)return va(h,l,s,u,d);let e_=null!=o?o:0;if(2&e_){let{static:e$=!1,...e0}=h;if(e$)return va(e0,l,s,u,d)}if(1&e_){let{unmount:eg=!0,...e1}=h;return da(eg?0:1,{0:()=>null,1:()=>va({...e1,hidden:!0,style:{display:"none"}},l,s,u,d)})}return va(h,l,s,u,d)}function va(a,l={},s,o,c){let{as:u=s,children:d,refName:h="ref",...e_}=Ca(a,["unmount","static"]),e$=void 0!==a.ref?{[h]:a.ref}:{},e0="function"==typeof d?d(l):d;"className"in e_&&e_.className&&"function"==typeof e_.className&&(e_.className=e_.className(l)),e_["aria-labelledby"]&&e_["aria-labelledby"]===e_.id&&(e_["aria-labelledby"]=void 0);let eg={};if(l){let e1=!1,ev=[];for(let[e3,e2]of Object.entries(l))"boolean"==typeof e2&&(e1=!0),!0===e2&&ev.push(e3.replace(/([A-Z])/g,i=>`-${i.toLowerCase()}`));if(e1)for(let e4 of(eg["data-headlessui-state"]=ev.join(" "),ev))eg[`data-${e4}`]=""}if(u===i.Fragment&&(Object.keys(wa(e_)).length>0||Object.keys(wa(eg)).length>0)){if(i.isValidElement(e0)&&!(Array.isArray(e0)&&e0.length>1)){let ey=e0.props,e6=null==ey?void 0:ey.className,e5="function"==typeof e6?(...i)=>ua(e6(...i),e_.className):ua(e6,e_.className),e7=ba(e0.props,wa(Ca(e_,["ref"])));for(let ex in eg)ex in e7&&delete eg[ex];return i.cloneElement(e0,Object.assign({},e7,eg,e$,{ref:c(e0.ref,e$.ref)},e5?{className:e5}:{}))}if(Object.keys(wa(e_)).length>0)throw Error(['Passing props on "Fragment"!',"",`The current component <${o} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(wa(e_)).concat(Object.keys(wa(eg))).map(i=>`  - ${i}`).join("\n"),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(i=>`  - ${i}`).join("\n")].join("\n"))}return i.createElement(u,Object.assign({},Ca(e_,["ref"]),u!==i.Fragment&&e$,u!==i.Fragment&&eg),e0)}function ya(...i){return i.every(i=>null==i)?void 0:a=>{for(let l of i)null!=l&&("function"==typeof l?l(a):l.current=a)}}function ba(...i){if(0===i.length)return{};if(1===i.length)return i[0];let a={},l={};for(let s of i)for(let o in s)o.startsWith("on")&&"function"==typeof s[o]?(null!=l[o]||(l[o]=[]),l[o].push(s[o])):a[o]=s[o];if(a.disabled||a["aria-disabled"])for(let c in l)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(c)&&(l[c]=[i=>{var a;return null==(a=null==i?void 0:i.preventDefault)?void 0:a.call(i)}]);for(let u in l)Object.assign(a,{[u](i,...a){let s=l[u];for(let o of s){if((i instanceof Event||(null==i?void 0:i.nativeEvent)instanceof Event)&&i.defaultPrevented)return;o(i,...a)}}});return a}function xa(a){var l;return Object.assign(i.forwardRef(a),{displayName:null!=(l=a.displayName)?l:a.name})}function wa(i){let a=Object.assign({},i);for(let l in a)void 0===a[l]&&delete a[l];return a}function Ca(i,a=[]){let l=Object.assign({},i);for(let s of a)s in l&&delete l[s];return l}let ka=Symbol();function Sa(...a){let l=i.useRef(a);i.useEffect(()=>{l.current=a},[a]);let s=ca(i=>{for(let a of l.current)null!=a&&("function"==typeof a?a(i):a.current=i)});return a.every(i=>null==i||(null==i?void 0:i[ka]))?void 0:s}var Ea=((e=Ea||{})[e.None=0]="None",e[e.Closed=1]="Closed",e[e.Enter=2]="Enter",e[e.Leave=4]="Leave",e);function ja(i){let a={};for(let l in i)!0===i[l]&&(a[`data-${l}`]="");return a}function _a(a,l,s,o){let[c,u]=i.useState(s),{hasFlag:d,addFlag:h,removeFlag:e_}=function(a=0){let[l,s]=i.useState(a),o=i.useCallback(i=>s(i),[l]),c=i.useCallback(i=>s(a=>a|i),[l]),u=i.useCallback(i=>(l&i)===i,[l]),d=i.useCallback(i=>s(a=>a&~i),[s]),h=i.useCallback(i=>s(a=>a^i),[s]);return{flags:l,setFlag:o,addFlag:c,hasFlag:u,removeFlag:d,toggleFlag:h}}(a&&c?3:0),e$=i.useRef(!1),e0=i.useRef(!1),eg=sa();return aa(()=>{var i;if(a)return s&&u(!0),l?(null==(i=null==o?void 0:o.start)||i.call(o,s),function(i,{prepare:a,run:l,done:s,inFlight:o}){let c=oa();return function(i,{inFlight:a,prepare:l}){if(null!=a&&a.current)return void l();let s=i.style.transition;i.style.transition="none",l(),i.offsetHeight,i.style.transition=s}(i,{prepare:a,inFlight:o}),c.nextFrame(()=>{c.add(function(i,a){var l;let s,o=(l=a,s={called:!1},(...i)=>{if(!s.called)return s.called=!0,l(...i)}),c=oa();if(!i)return c.dispose;let{transitionDuration:u,transitionDelay:d}=getComputedStyle(i),[h,e_]=[u,d].map(i=>{let[a=0]=i.split(",").filter(Boolean).map(i=>i.includes("ms")?parseFloat(i):1e3*parseFloat(i)).sort((i,a)=>a-i);return a}),e$=h+e_;if(0!==e$){let e0=c.group(a=>{let l=a.setTimeout(()=>{o(),a.dispose()},e$);a.addEventListener(i,"transitionrun",s=>{s.target===s.currentTarget&&(l(),a.addEventListener(i,"transitioncancel",i=>{i.target===i.currentTarget&&(o(),e0())}))})});c.addEventListener(i,"transitionend",i=>{i.target===i.currentTarget&&(o(),c.dispose())})}else o();return c.dispose}(i,s)),l()}),c.dispose}(l,{inFlight:e$,prepare(){e0.current?e0.current=!1:e0.current=e$.current,e$.current=!0,e0.current||(s?(h(3),e_(4)):(h(4),e_(2)))},run(){e0.current?s?(e_(3),h(4)):(e_(4),h(3)):s?e_(1):h(1)},done(){var i;e0.current&&"function"==typeof l.getAnimations&&l.getAnimations().length>0||(e$.current=!1,e_(7),s||u(!1),null==(i=null==o?void 0:o.end)||i.call(o,s))}})):void(s&&h(3))},[a,s,l,eg]),a?[c,{closed:d(1),enter:d(2),leave:d(4),transition:d(2)||d(4)}]:[s,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}let Ta=i.createContext(null);Ta.displayName="OpenClosedContext";var Na=((e=Na||{})[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e);function Ma(){return i.useContext(Ta)}function La({value:i,children:a}){return s.createElement(Ta.Provider,{value:i},a)}function Oa(){let l,s=(l="undefined"==typeof document,"useSyncExternalStore"in a&&a.useSyncExternalStore(()=>()=>{},()=>!1,()=>!l)),[o,c]=i.useState(ia.isHandoffComplete);return o&&!1===ia.isHandoffComplete&&c(!1),i.useEffect(()=>{!0!==o&&c(!0)},[o]),i.useEffect(()=>ia.handoff(),[]),!s&&o}function Aa(a){var l;return!!(a.enter||a.enterFrom||a.enterTo||a.leave||a.leaveFrom||a.leaveTo)||(null!=(l=a.as)?l:za)!==i.Fragment||1===s.Children.count(a.children)}let Pa=i.createContext(null);Pa.displayName="TransitionContext";var e,e,Ra,Ia=((Ra=Ia||{}).Visible="visible",Ra.Hidden="hidden",Ra);let Fa=i.createContext(null);function Da(i){return"children"in i?Da(i.children):i.current.filter(({el:i})=>null!==i.current).filter(({state:i})=>"visible"===i).length>0}function $a(a,l){let s,o=la(a),c=i.useRef([]),u=(s=i.useRef(!1),aa(()=>(s.current=!0,()=>{s.current=!1}),[]),s),d=sa(),h=ca((i,a=ma.Hidden)=>{let l=c.current.findIndex(({el:a})=>a===i);-1!==l&&(da(a,{[ma.Unmount](){c.current.splice(l,1)},[ma.Hidden](){c.current[l].state="hidden"}}),d.microTask(()=>{var i;!Da(c)&&u.current&&(null==(i=o.current)||i.call(o))}))}),e_=ca(i=>{let a=c.current.find(({el:a})=>a===i);return a?"visible"!==a.state&&(a.state="visible"):c.current.push({el:i,state:"visible"}),()=>h(i,ma.Unmount)}),e$=i.useRef([]),e0=i.useRef(Promise.resolve()),eg=i.useRef({enter:[],leave:[]}),e1=ca((i,a,s)=>{e$.current.splice(0),l&&(l.chains.current[a]=l.chains.current[a].filter(([a])=>a!==i)),null==l||l.chains.current[a].push([i,new Promise(i=>{e$.current.push(i)})]),null==l||l.chains.current[a].push([i,new Promise(i=>{Promise.all(eg.current[a].map(([i,a])=>a)).then(()=>i())})]),"enter"===a?e0.current=e0.current.then(()=>null==l?void 0:l.wait.current).then(()=>s(a)):s(a)}),ev=ca((i,a,l)=>{Promise.all(eg.current[a].splice(0).map(([i,a])=>a)).then(()=>{var i;null==(i=e$.current.shift())||i()}).then(()=>l(a))});return i.useMemo(()=>({children:c,register:e_,unregister:h,onStart:e1,onStop:ev,wait:e0,chains:eg}),[e_,h,c,e1,ev,eg,e0])}Fa.displayName="NestingContext";let za=i.Fragment,Va=pa.RenderStrategy,Ba=xa(function(a,l){let{show:o,appear:c=!1,unmount:u=!0,...d}=a,h=i.useRef(null),e_=Sa(...Aa(a)?[h,l]:null===l?[]:[l]);Oa();let e$=Ma();if(void 0===o&&null!==e$&&(o=(e$&Na.Open)===Na.Open),void 0===o)throw Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[e0,eg]=i.useState(o?"visible":"hidden"),e1=$a(()=>{o||eg("hidden")}),[ev,e3]=i.useState(!0),e2=i.useRef([o]);aa(()=>{!1!==ev&&e2.current[e2.current.length-1]!==o&&(e2.current.push(o),e3(!1))},[e2,o]);let e4=i.useMemo(()=>({show:o,appear:c,initial:ev}),[o,c,ev]);aa(()=>{o?eg("visible"):Da(e1)||null===h.current||eg("hidden")},[o,e1]);let ey={unmount:u},e6=ca(()=>{var i;ev&&e3(!1),null==(i=a.beforeEnter)||i.call(a)}),e5=ca(()=>{var i;ev&&e3(!1),null==(i=a.beforeLeave)||i.call(a)});return s.createElement(Fa.Provider,{value:e1},s.createElement(Pa.Provider,{value:e4},ga({ourProps:{...ey,as:i.Fragment,children:s.createElement(Ha,{ref:e_,...ey,...d,beforeEnter:e6,beforeLeave:e5})},theirProps:{},defaultTag:i.Fragment,features:Va,visible:"visible"===e0,name:"Transition"})))}),Ha=xa(function(a,l){var o,c;let{transition:u=!0,beforeEnter:d,afterEnter:h,beforeLeave:e_,afterLeave:e$,enter:e0,enterFrom:eg,enterTo:e1,entered:ev,leave:e3,leaveFrom:e2,leaveTo:e4,...ey}=a,[e6,e5]=i.useState(null),e7=i.useRef(null),ex=Aa(a),eb=Sa(...ex?[e7,l,e5]:null===l?[]:[l]),ew=null==(o=ey.unmount)||o?ma.Unmount:ma.Hidden,{show:eS,appear:eC,initial:ek}=function(){let a=i.useContext(Pa);if(null===a)throw Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return a}(),[eE,e8]=i.useState(eS?"visible":"hidden"),ej=function(){let a=i.useContext(Fa);if(null===a)throw Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return a}(),{register:eT,unregister:eL}=ej;aa(()=>eT(e7),[eT,e7]),aa(()=>{if(ew===ma.Hidden&&e7.current)return eS&&"visible"!==eE?void e8("visible"):da(eE,{hidden:()=>eL(e7),visible:()=>eT(e7)})},[eE,e7,eT,eL,eS,ew]);let eN=Oa();aa(()=>{if(ex&&eN&&"visible"===eE&&null===e7.current)throw Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[e7,eE,eN,ex]);let eA=eC&&eS&&ek,eO=i.useRef(!1),eP=$a(()=>{eO.current||(e8("hidden"),eL(e7))},ej),eM=ca(i=>{eO.current=!0,eP.onStart(e7,i?"enter":"leave",i=>{"enter"===i?null==d||d():"leave"===i&&(null==e_||e_())})}),eR=ca(i=>{let a=i?"enter":"leave";eO.current=!1,eP.onStop(e7,a,i=>{"enter"===i?null==h||h():"leave"===i&&(null==e$||e$())}),"leave"!==a||Da(eP)||(e8("hidden"),eL(e7))});i.useEffect(()=>{ex&&u||(eM(eS),eR(eS))},[eS,ex,u]);let[,eI]=_a(!(!u||!ex||!eN||ek&&!eC),e6,eS,{start:eM,end:eR}),eF=wa({ref:eb,className:(null==(c=ua(ey.className,eA&&e0,eA&&eg,eI.enter&&e0,eI.enter&&eI.closed&&eg,eI.enter&&!eI.closed&&e1,eI.leave&&e3,eI.leave&&!eI.closed&&e2,eI.leave&&eI.closed&&e4,!eI.transition&&eS&&ev))?void 0:c.trim())||void 0,...ja(eI)}),eD=0;return"visible"===eE&&(eD|=Na.Open),"hidden"===eE&&(eD|=Na.Closed),eI.enter&&(eD|=Na.Opening),eI.leave&&(eD|=Na.Closing),s.createElement(Fa.Provider,{value:eP},s.createElement(La,{value:eD},ga({ourProps:eF,theirProps:ey,defaultTag:za,features:Va,visible:"visible"===eE,name:"Transition.Child"})))}),Ua=xa(function(a,l){let o=null!==i.useContext(Pa),c=null!==Ma();return s.createElement(s.Fragment,null,!o&&c?s.createElement(Ba,{ref:l,...a}):s.createElement(Ha,{ref:l,...a}))}),Wa=Object.assign(Ba,{Child:Ua,Root:Ba});function qa(a){var l,s;let o=a.durationClass??"duration-200",c=(l=a.animation,s=o,"slide-down"===l?{leave:`transition-[transform,opacity] ${s}`,leaveFrom:"opacity-100 translate-y-0",leaveTo:"-translate-y-4 opacity-0",enter:`transition-[transform,opacity] ${s}`,enterFrom:"opacity-0 -translate-y-4",enterTo:"translate-y-0 opacity-100"}:"slide-up"===l?{leave:`transition-[transform,opacity] ${s}`,leaveFrom:"opacity-100 translate-y-0",leaveTo:"translate-y-0 opacity-0",enter:`transition-[transform,opacity] ${s}`,enterFrom:"opacity-0 translate-y-8",enterTo:"translate-y-0 opacity-100"}:"slide-full-left"===l?{leave:`transition-[transform] ${s}`,leaveFrom:"translate-x-0",leaveTo:"-translate-x-full",enter:`transition-[transform] ${s}`,enterFrom:"-translate-x-full",enterTo:"translate-x-0"}:"slide-full-right"===l?{leave:`transition-[transform] ${s}`,leaveFrom:"translate-x-0",leaveTo:"translate-x-full",enter:`transition-[transform] ${s}`,enterFrom:"translate-x-full",enterTo:"translate-x-0"}:"fade"===l?{leave:`transition-[transform,opacity] ${s}`,leaveFrom:"opacity-100",leaveTo:"opacity-0",enter:`transition-[transform,opacity] ${s}`,enterFrom:"opacity-0",enterTo:"opacity-100"}:{});return a.isChild?S.jsx(Wa.Child,{as:i.Fragment,...c,children:S.jsx("div",{className:a.className,style:a.style,children:a.children})}):S.jsx(Wa,{show:a.show,as:i.Fragment,...c,children:S.jsx("div",{className:a.className,style:a.style,children:a.children})})}function Ga(a){let l=function(){let a=pe();return i.useMemo(()=>Object.fromEntries(new URLSearchParams(a.search).entries()),[a.search])}(),s=pe(),o=ge();return[l[a]??null,i.useCallback(i=>{let l=new URLSearchParams(s.search);i?l.set(a,i):l.delete(a),o({search:l.toString()})},[a,s.search,o])]}let Za=mt(sn(i=>({transition:null,routes:{},anchorPoint:null,setTransition(a){i(i=>{i.transition=a})},registerRoute(a){i(i=>{i.routes[a.id]=a})},setAnchorPoint(a){i(i=>{i.anchorPoint=a})}})));function Qa(i,a){return[a??"",...i.split("/")].filter(i=>i.length>0)}function Ka(i){return`/${i.join("/")}`}function Ya(a){let[l,s]=Ga("r"),o=Za(i=>i.transition),c=Za(i=>i.setTransition),u=!!l&&l.startsWith(`/${a}`),d=i.useCallback(i=>{l&&!i&&s(null),c(null)},[s,l,c]),h=i.useCallback((i="/")=>{c(null),s(Ka(Qa(i,a)))},[a,s,c]);return{activeRoute:u?Ka(Qa(l.slice(`/${a}`.length))):"/",showBackwardsTransition:function(i){if(!o)return"none";let l=Ka(Qa(i,a));return l===o.to&&o.from.startsWith(o.to)||l===o.from&&o.to.startsWith(o.from)?"yes":"no"},isCurrentPage:function(i){return u&&l===Ka(Qa(i,a))},isOverlayActive:function(){return u},navigate:function(i){let o=Ka(Qa(i,a));c({from:l??"/",to:o}),s(o)},close:d,open:h,makePath:function(i){return Ka(Qa(i,a))},currentRoute:l}}function Xa(i){let a=Ya(i);return{id:i,route:a.activeRoute,isRouterActive:a.isOverlayActive(),open:a.open,close:a.close,navigate:a.navigate}}function Ja(a){let l=Ya("hello world :)"),s=i.useRef(l);return i.useEffect(()=>{let i=s.current;return i.close(),()=>{i.close()}},[]),S.jsx("div",{className:"popout-location",children:a.children})}function el(a){let[l,s]=i.useState(null),o=i.useRef(null),c=a.close;return i.useEffect(()=>{var i;let a=null==(i=o.current)?void 0:i.closest(".popout-location");s(a??document.body)},[]),S.jsx("div",{ref:o,children:l?u.createPortal(S.jsx(qa,{show:a.show,animation:"none",children:S.jsx(ta,{children:S.jsxs("div",{className:"popout-wrapper fixed overflow-hidden pointer-events-auto inset-0 z-[999] select-none",children:[S.jsx(qa,{animation:"fade",isChild:!0,children:S.jsx("div",{onClick:c,className:Ai({"absolute inset-0":!0,"bg-black opacity-90":a.darken})})}),S.jsxs(qa,{animation:"slide-up",className:"absolute inset-0 pointer-events-none",isChild:!0,children:[S.jsx("div",{tabIndex:1,className:"focus:ring-0 focus:outline-none opacity-0"}),a.children]})]})})}),l):null})}function tl(a){let l=Ya(a.id),s=l.close;!function(a){let[l]=Ga("r"),s=Za(i=>i.setAnchorPoint),o=i.useMemo(()=>!!l&&l.startsWith(`/${a}`),[l,a]),c=i.useCallback(()=>{if(!o)return;let i=document.getElementById(`__overlayRouter::${a}`);if(i){let l=i.getBoundingClientRect();s({h:l.height,w:l.width,x:l.x,y:l.y})}},[o,s,a]);i.useEffect(()=>{c()},[o,c]),i.useEffect(()=>{function i(){c()}return window.addEventListener("resize",i),()=>{window.removeEventListener("resize",i)}},[c])}(a.id);let o=i.useCallback(()=>{s()},[s]);return S.jsx(el,{close:o,show:l.isOverlayActive(),darken:a.darken,children:a.children})}function nl(a){let l=Ya(a.id),s=l.showBackwardsTransition(a.path),o=l.isCurrentPage(a.path),c=Za(i=>i.registerRoute),u=i.useMemo(()=>l.makePath(a.path),[a.path,l]),{isMobile:d}=Ki();i.useEffect(()=>{c({id:u,width:a.width,height:a.height})},[a.height,a.width,u,c]);let h=d?"100%":`${a.width}px`,e_="none";return"yes"!==s&&"no"!==s||(e_="yes"===s?"slide-full-left":"slide-full-right"),S.jsx(qa,{animation:e_,className:"absolute inset-0",durationClass:"duration-[400ms]",show:o,children:S.jsx("div",{className:Ai(["grid grid-rows-1 max-h-full",a.className]),style:{height:a.height?`${a.height}px`:void 0,width:a.width?h:void 0},children:a.children})})}var rl=bl(),il=i=>ml(i,rl),ol=bl();il.write=i=>ml(i,ol);var sl=bl();il.onStart=i=>ml(i,sl);var al=bl();il.onFrame=i=>ml(i,al);var ll=bl();il.onFinish=i=>ml(i,ll);var cl=[];il.setTimeout=(i,a)=>{let l=il.now()+a,s=()=>{let i=cl.findIndex(i=>i.cancel==s);~i&&cl.splice(i,1),fl-=~i?1:0},o={time:l,handler:i,cancel:s};return cl.splice(ul(l),0,o),fl+=1,gl(),o};var ul=i=>~(~cl.findIndex(a=>a.time>i)||~cl.length);il.cancel=i=>{sl.delete(i),al.delete(i),ll.delete(i),rl.delete(i),ol.delete(i)},il.sync=i=>{pl=!0,il.batchedUpdates(i),pl=!1},il.throttle=i=>{let a;function l(){try{i(...a)}finally{a=null}}function s(...i){a=i,il.onStart(l)}return s.handler=i,s.cancel=()=>{sl.delete(l),a=null},s};var dl="undefined"!=typeof window?window.requestAnimationFrame:()=>{};il.use=i=>dl=i,il.now="undefined"!=typeof performance?()=>performance.now():Date.now,il.batchedUpdates=i=>i(),il.catch=console.error,il.frameLoop="always",il.advance=()=>{"demand"!==il.frameLoop?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):yl()};var hl=-1,fl=0,pl=!1;function ml(i,a){pl?(a.delete(i),i(0)):(a.add(i),gl())}function gl(){hl<0&&(hl=0,"demand"!==il.frameLoop&&dl(vl))}function vl(){~hl&&(dl(vl),il.batchedUpdates(yl))}function yl(){let i=hl;hl=il.now();let a=ul(hl);a&&(xl(cl.splice(0,a),i=>i.handler()),fl-=a),fl?(sl.flush(),rl.flush(i?Math.min(64,hl-i):16.667),al.flush(),ol.flush(),ll.flush()):hl=-1}function bl(){let i=new Set,a=i;return{add(l){fl+=a!=i||i.has(l)?0:1,i.add(l)},delete:l=>(fl-=a==i&&i.has(l)?1:0,i.delete(l)),flush(l){a.size&&(i=new Set,fl-=a.size,xl(a,a=>a(l)&&i.add(a)),fl+=i.size,a=i)}}}function xl(i,a){i.forEach(i=>{try{a(i)}catch(l){il.catch(l)}})}var wl=Object.defineProperty,Cl={};function kl(){}((i,a)=>{for(var l in a)wl(i,l,{get:a[l],enumerable:!0})})(Cl,{assign:()=>Fl,colors:()=>Pl,createStringInterpolator:()=>Ml,skipAnimation:()=>Rl,to:()=>Ll,willAdvance:()=>Il});var Sl={arr:Array.isArray,obj:i=>!!i&&"Object"===i.constructor.name,fun:i=>"function"==typeof i,str:i=>"string"==typeof i,num:i=>"number"==typeof i,und:i=>void 0===i};function El(i,a){if(Sl.arr(i)){if(!Sl.arr(a)||i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l]!==a[l])return!1;return!0}return i===a}var jl=(i,a)=>i.forEach(a);function _l(i,a,l){if(Sl.arr(i))for(let s=0;s<i.length;s++)a.call(l,i[s],`${s}`);else for(let o in i)i.hasOwnProperty(o)&&a.call(l,i[o],o)}var Tl=i=>Sl.und(i)?[]:Sl.arr(i)?i:[i];function Nl(i,a){if(i.size){let l=Array.from(i);i.clear(),jl(l,a)}}var Ml,Ll,Ol=(i,...a)=>Nl(i,i=>i(...a)),Al=()=>"undefined"==typeof window||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),Pl=null,Rl=!1,Il=kl,Fl=i=>{i.to&&(Ll=i.to),i.now&&(il.now=i.now),void 0!==i.colors&&(Pl=i.colors),null!=i.skipAnimation&&(Rl=i.skipAnimation),i.createStringInterpolator&&(Ml=i.createStringInterpolator),i.requestAnimationFrame&&il.use(i.requestAnimationFrame),i.batchedUpdates&&(il.batchedUpdates=i.batchedUpdates),i.willAdvance&&(Il=i.willAdvance),i.frameLoop&&(il.frameLoop=i.frameLoop)},Dl=new Set,$l=[],zl=[],Vl=0,Bl={get idle(){return!Dl.size&&!$l.length},start(i){Vl>i.priority?(Dl.add(i),il.onStart(Hl)):(Ul(i),il(ql))},advance:ql,sort(i){if(Vl)il.onFrame(()=>Bl.sort(i));else{let a=$l.indexOf(i);~a&&($l.splice(a,1),Wl(i))}},clear(){$l=[],Dl.clear()}};function Hl(){Dl.forEach(Ul),Dl.clear(),il(ql)}function Ul(i){$l.includes(i)||Wl(i)}function Wl(i){$l.splice(function(i,a){let l=i.findIndex(a);return l<0?i.length:l}($l,a=>a.priority>i.priority),0,i)}function ql(i){let a=zl;for(let l=0;l<$l.length;l++){let s=$l[l];Vl=s.priority,s.idle||(Il(s),s.advance(i),s.idle||a.push(s))}return Vl=0,(zl=$l).length=0,($l=a).length>0}var Gl="[-+]?\\d*\\.?\\d+",Zl=Gl+"%";function Ql(...i){return"\\(\\s*("+i.join(")\\s*,\\s*(")+")\\s*\\)"}var Kl=RegExp("rgb"+Ql(Gl,Gl,Gl)),Yl=RegExp("rgba"+Ql(Gl,Gl,Gl,Gl)),Xl=RegExp("hsl"+Ql(Gl,Zl,Zl)),Jl=RegExp("hsla"+Ql(Gl,Zl,Zl,Gl)),ec=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,tc=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,nc=/^#([0-9a-fA-F]{6})$/,rc=/^#([0-9a-fA-F]{8})$/;function ic(i,a,l){return l<0&&(l+=1),l>1&&(l-=1),l<1/6?i+6*(a-i)*l:l<.5?a:l<2/3?i+(a-i)*(2/3-l)*6:i}function oc(i,a,l){let s=l<.5?l*(1+a):l+a-l*a,o=2*l-s,c=ic(o,s,i+1/3),u=ic(o,s,i),d=ic(o,s,i-1/3);return Math.round(255*c)<<24|Math.round(255*u)<<16|Math.round(255*d)<<8}function sc(i){let a=parseInt(i,10);return a<0?0:a>255?255:a}function ac(i){return(parseFloat(i)%360+360)%360/360}function lc(i){let a=parseFloat(i);return a<0?0:a>1?255:Math.round(255*a)}function cc(i){let a=parseFloat(i);return a<0?0:a>100?1:a/100}function uc(i){var a;let l,s="number"==typeof(a=i)?a>>>0===a&&a>=0&&a<=4294967295?a:null:(l=nc.exec(a))?parseInt(l[1]+"ff",16)>>>0:Pl&&void 0!==Pl[a]?Pl[a]:(l=Kl.exec(a))?(sc(l[1])<<24|sc(l[2])<<16|sc(l[3])<<8|255)>>>0:(l=Yl.exec(a))?(sc(l[1])<<24|sc(l[2])<<16|sc(l[3])<<8|lc(l[4]))>>>0:(l=ec.exec(a))?parseInt(l[1]+l[1]+l[2]+l[2]+l[3]+l[3]+"ff",16)>>>0:(l=rc.exec(a))?parseInt(l[1],16)>>>0:(l=tc.exec(a))?parseInt(l[1]+l[1]+l[2]+l[2]+l[3]+l[3]+l[4]+l[4],16)>>>0:(l=Xl.exec(a))?(255|oc(ac(l[1]),cc(l[2]),cc(l[3])))>>>0:(l=Jl.exec(a))?(oc(ac(l[1]),cc(l[2]),cc(l[3]))|lc(l[4]))>>>0:null;return null===s?i:(s=s||0,`rgba(${(4278190080&s)>>>24}, ${(16711680&s)>>>16}, ${(65280&s)>>>8}, ${(255&s)/255})`)}var dc=(i,a,l)=>{if(Sl.fun(i))return i;if(Sl.arr(i))return dc({range:i,output:a,extrapolate:l});if(Sl.str(i.output[0]))return Ml(i);let s=i,o=s.output,c=s.range||[0,1],u=s.extrapolateLeft||s.extrapolate||"extend",d=s.extrapolateRight||s.extrapolate||"extend",h=s.easing||(i=>i);return i=>{let a=function(i,a){for(var l=1;l<a.length-1&&!(a[l]>=i);++l);return l-1}(i,c);return function(i,a,l,s,o,c,u,d,h){let e_=h?h(i):i;if(e_<a){if("identity"===u)return e_;"clamp"===u&&(e_=a)}if(e_>l){if("identity"===d)return e_;"clamp"===d&&(e_=l)}return s===o?s:a===l?i<=a?s:o:(a===-1/0?e_=-e_:l===1/0?e_-=a:e_=(e_-a)/(l-a),e_=c(e_),s===-1/0?e_=-e_:o===1/0?e_+=s:e_=e_*(o-s)+s,e_)}(i,c[a],c[a+1],o[a],o[a+1],h,u,d,s.map)}},hc=1.70158,fc=1.525*hc,pc=hc+1,mc=2*Math.PI/3,gc=2*Math.PI/4.5,vc=i=>i<.36363636363636365?7.5625*i*i:i<.7272727272727273?7.5625*(i-=.5454545454545454)*i+.75:i<.9090909090909091?7.5625*(i-=.8181818181818182)*i+.9375:7.5625*(i-=.9545454545454546)*i+.984375,yc={linear:i=>i,easeInQuad:i=>i*i,easeOutQuad:i=>1-(1-i)*(1-i),easeInOutQuad:i=>i<.5?2*i*i:1-Math.pow(-2*i+2,2)/2,easeInCubic:i=>i*i*i,easeOutCubic:i=>1-Math.pow(1-i,3),easeInOutCubic:i=>i<.5?4*i*i*i:1-Math.pow(-2*i+2,3)/2,easeInQuart:i=>i*i*i*i,easeOutQuart:i=>1-Math.pow(1-i,4),easeInOutQuart:i=>i<.5?8*i*i*i*i:1-Math.pow(-2*i+2,4)/2,easeInQuint:i=>i*i*i*i*i,easeOutQuint:i=>1-Math.pow(1-i,5),easeInOutQuint:i=>i<.5?16*i*i*i*i*i:1-Math.pow(-2*i+2,5)/2,easeInSine:i=>1-Math.cos(i*Math.PI/2),easeOutSine:i=>Math.sin(i*Math.PI/2),easeInOutSine:i=>-(Math.cos(Math.PI*i)-1)/2,easeInExpo:i=>0===i?0:Math.pow(2,10*i-10),easeOutExpo:i=>1===i?1:1-Math.pow(2,-10*i),easeInOutExpo:i=>0===i?0:1===i?1:i<.5?Math.pow(2,20*i-10)/2:(2-Math.pow(2,-20*i+10))/2,easeInCirc:i=>1-Math.sqrt(1-Math.pow(i,2)),easeOutCirc:i=>Math.sqrt(1-Math.pow(i-1,2)),easeInOutCirc:i=>i<.5?(1-Math.sqrt(1-Math.pow(2*i,2)))/2:(Math.sqrt(1-Math.pow(-2*i+2,2))+1)/2,easeInBack:i=>pc*i*i*i-hc*i*i,easeOutBack:i=>1+pc*Math.pow(i-1,3)+hc*Math.pow(i-1,2),easeInOutBack:i=>i<.5?Math.pow(2*i,2)*(7.189819*i-fc)/2:(Math.pow(2*i-2,2)*((fc+1)*(2*i-2)+fc)+2)/2,easeInElastic:i=>0===i?0:1===i?1:-Math.pow(2,10*i-10)*Math.sin((10*i-10.75)*mc),easeOutElastic:i=>0===i?0:1===i?1:Math.pow(2,-10*i)*Math.sin((10*i-.75)*mc)+1,easeInOutElastic:i=>0===i?0:1===i?1:i<.5?-Math.pow(2,20*i-10)*Math.sin((20*i-11.125)*gc)/2:Math.pow(2,-20*i+10)*Math.sin((20*i-11.125)*gc)/2+1,easeInBounce:i=>1-vc(1-i),easeOutBounce:vc,easeInOutBounce:i=>i<.5?(1-vc(1-2*i))/2:(1+vc(2*i-1))/2,steps:(i,a="end")=>l=>{var s,o,c;let u=(l="end"===a?Math.min(l,.999):Math.max(l,.001))*i,d="end"===a?Math.floor(u):Math.ceil(u);return s=0,o=1,Math.min(Math.max(c=d/i,s),o)}},bc=Symbol.for("FluidValue.get"),xc=Symbol.for("FluidValue.observers"),wc=i=>Boolean(i&&i[bc]),Cc=i=>i&&i[bc]?i[bc]():i,kc=i=>i[xc]||null;function Sc(i,a){let l=i[xc];l&&l.forEach(i=>{var l,s;l=i,s=a,l.eventObserved?l.eventObserved(s):l(s)})}var Ec=class{constructor(i){if(!i&&!(i=this.get))throw Error("Unknown getter");jc(this,i)}},jc=(i,a)=>Mc(i,bc,a);function _c(i,a){if(i[bc]){let l=i[xc];l||Mc(i,xc,l=new Set),l.has(a)||(l.add(a),i.observerAdded&&i.observerAdded(l.size,a))}return a}function Tc(i,a){let l=i[xc];if(l&&l.has(a)){let s=l.size-1;s?l.delete(a):i[xc]=null,i.observerRemoved&&i.observerRemoved(s,a)}}var Nc,Mc=(i,a,l)=>Object.defineProperty(i,a,{value:l,writable:!0,configurable:!0}),Lc=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,Oc=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,Ac=RegExp(`(${Lc.source})(%|[a-z]+)`,"i"),Pc=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,Rc=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,Ic=i=>{let[a,l]=Fc(i);if(!a||Al())return i;let s=window.getComputedStyle(document.documentElement).getPropertyValue(a);if(s)return s.trim();if(l&&l.startsWith("--")){let o=window.getComputedStyle(document.documentElement).getPropertyValue(l);return o||i}return l&&Rc.test(l)?Ic(l):l||i},Fc=i=>{let a=Rc.exec(i);if(!a)return[,];let[,l,s]=a;return[l,s]},Dc=(i,a,l,s,o)=>`rgba(${Math.round(a)}, ${Math.round(l)}, ${Math.round(s)}, ${o})`,$c=i=>{Nc||(Nc=Pl?RegExp(`(${Object.keys(Pl).join("|")})(?!\\w)`,"g"):/^\b$/);let a=i.output.map(i=>Cc(i).replace(Rc,Ic).replace(Oc,uc).replace(Nc,uc)),l=a.map(i=>i.match(Lc).map(Number)),s=l[0].map((i,a)=>l.map(i=>{if(!(a in i))throw Error('The arity of each "output" value must be equal');return i[a]})).map(a=>dc({...i,output:a}));return i=>{var l;let o=!Ac.test(a[0])&&(null==(l=a.find(i=>Ac.test(i)))?void 0:l.replace(Lc,"")),c=0;return a[0].replace(Lc,()=>`${s[c++](i)}${o||""}`).replace(Pc,Dc)}},zc="react-spring: ",Vc=i=>{let a=i,l=!1;if("function"!=typeof a)throw TypeError(`${zc}once requires a function parameter`);return(...i)=>{l||(a(...i),l=!0)}},Bc=Vc(console.warn),Hc=Vc(console.warn);function Uc(i){return Sl.str(i)&&("#"==i[0]||/\d/.test(i)||!Al()&&Rc.test(i)||i in(Pl||{}))}var Wc=Al()?i.useEffect:i.useLayoutEffect;function qc(){let a=i.useState()[1],l=(()=>{let a=i.useRef(!1);return Wc(()=>(a.current=!0,()=>{a.current=!1}),[]),a})();return()=>{l.current&&a(Math.random())}}var Gc=a=>i.useEffect(a,Zc),Zc=[];function Qc(a){let l=i.useRef();return i.useEffect(()=>{l.current=a}),l.current}var Kc=Symbol.for("Animated:node"),Yc=i=>i&&i[Kc],Xc=(i,a)=>{var l,s,o;return l=i,s=Kc,Object.defineProperty(l,s,{value:o=a,writable:!0,configurable:!0})},Jc=i=>i&&i[Kc]&&i[Kc].getPayload(),eu=class{constructor(){Xc(this,this)}getPayload(){return this.payload||[]}},tu=class extends eu{constructor(i){super(),this._value=i,this.done=!0,this.durationProgress=0,Sl.num(this._value)&&(this.lastPosition=this._value)}static create(i){return new tu(i)}getPayload(){return[this]}getValue(){return this._value}setValue(i,a){return Sl.num(i)&&(this.lastPosition=i,a&&(i=Math.round(i/a)*a,this.done&&(this.lastPosition=i))),this._value!==i&&(this._value=i,!0)}reset(){let{done:i}=this;this.done=!1,Sl.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,i&&(this.lastVelocity=null),this.v0=null)}},nu=class extends tu{constructor(i){super(0),this._string=null,this._toString=dc({output:[i,i]})}static create(i){return new nu(i)}getValue(){let i=this._string;return null==i?this._string=this._toString(this._value):i}setValue(i){if(Sl.str(i)){if(i==this._string)return!1;this._string=i,this._value=1}else{if(!super.setValue(i))return!1;this._string=null}return!0}reset(i){i&&(this._toString=dc({output:[this.getValue(),i]})),this._value=0,super.reset()}},ru={dependencies:null},iu=class extends eu{constructor(i){super(),this.source=i,this.setValue(i)}getValue(i){let a={};return _l(this.source,(l,s)=>{var o;(o=l)&&o[Kc]===o?a[s]=l.getValue(i):wc(l)?a[s]=Cc(l):i||(a[s]=l)}),a}setValue(i){this.source=i,this.payload=this._makePayload(i)}reset(){this.payload&&jl(this.payload,i=>i.reset())}_makePayload(i){if(i){let a=new Set;return _l(i,this._addToPayload,a),Array.from(a)}}_addToPayload(i){ru.dependencies&&wc(i)&&ru.dependencies.add(i);let a=Jc(i);a&&jl(a,i=>this.add(i))}},ou=class extends iu{constructor(i){super(i)}static create(i){return new ou(i)}getValue(){return this.source.map(i=>i.getValue())}setValue(i){let a=this.getPayload();return i.length==a.length?a.map((a,l)=>a.setValue(i[l])).some(Boolean):(super.setValue(i.map(su)),!0)}};function su(i){return(Uc(i)?nu:tu).create(i)}function au(i){let a=Yc(i);return a?a.constructor:Sl.arr(i)?ou:Uc(i)?nu:tu}var lu=(a,l)=>{let s=!Sl.fun(a)||a.prototype&&a.prototype.isReactComponent;return i.forwardRef((o,c)=>{let u=i.useRef(null),d=s&&i.useCallback(i=>{u.current=function(i,a){return i&&(Sl.fun(i)?i(a):i.current=a),a}(c,i)},[c]),[h,e_]=function(i,a){let l=new Set;return ru.dependencies=l,i.style&&(i={...i,style:a.createAnimatedStyle(i.style)}),i=new iu(i),ru.dependencies=null,[i,l]}(o,l),e$=qc(),e0=()=>{let i=u.current;(!s||i)&&!1===(!!i&&l.applyAnimatedValues(i,h.getValue(!0)))&&e$()},eg=new cu(e0,e_),e1=i.useRef();Wc(()=>(e1.current=eg,jl(e_,i=>_c(i,eg)),()=>{e1.current&&(jl(e1.current.deps,i=>Tc(i,e1.current)),il.cancel(e1.current.update))})),i.useEffect(e0,[]),Gc(()=>()=>{let i=e1.current;jl(i.deps,a=>Tc(a,i))});let ev=l.getComponentProps(h.getValue());return i.createElement(a,{...ev,ref:d})})},cu=class{constructor(i,a){this.update=i,this.deps=a}eventObserved(i){"change"==i.type&&il.write(this.update)}},uu=Symbol.for("AnimatedComponent"),du=i=>Sl.str(i)?i:i&&Sl.str(i.displayName)?i.displayName:Sl.fun(i)&&i.name||null;function hu(i,...a){return Sl.fun(i)?i(...a):i}var fu=(i,a)=>!0===i||!!(a&&i&&(Sl.fun(i)?i(a):Tl(i).includes(a))),pu=(i,a)=>Sl.obj(i)?a&&i[a]:i,mu=(i,a)=>!0===i.default?i[a]:i.default?i.default[a]:void 0,gu=i=>i,vu=(i,a=gu)=>{let l=yu;i.default&&!0!==i.default&&(l=Object.keys(i=i.default));let s={};for(let o of l){let c=a(i[o],o);Sl.und(c)||(s[o]=c)}return s},yu=["config","onProps","onStart","onChange","onPause","onResume","onRest"],bu={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function xu(i){let a=function(i){let a={},l=0;if(_l(i,(i,s)=>{bu[s]||(a[s]=i,l++)}),l)return a}(i);if(a){let l={to:a};return _l(i,(i,s)=>s in a||(l[s]=i)),l}return{...i}}function wu(i){return i=Cc(i),Sl.arr(i)?i.map(wu):Uc(i)?Cl.createStringInterpolator({range:[0,1],output:[i,i]})(1):i}function Cu(i){return Sl.fun(i)||Sl.arr(i)&&Sl.obj(i[0])}var ku={tension:170,friction:26,mass:1,damping:1,easing:yc.linear,clamp:!1},Su=class{constructor(){this.velocity=0,Object.assign(this,ku)}};function Eu(i,a){if(Sl.und(a.decay)){let l=!Sl.und(a.tension)||!Sl.und(a.friction);!l&&Sl.und(a.frequency)&&Sl.und(a.damping)&&Sl.und(a.mass)||(i.duration=void 0,i.decay=void 0),l&&(i.frequency=void 0)}else i.duration=void 0}var ju=[],_u=class{constructor(){this.changed=!1,this.values=ju,this.toValues=null,this.fromValues=ju,this.config=new Su,this.immediate=!1}};function Tu(i,{key:a,props:l,defaultProps:s,state:o,actions:c}){return new Promise((u,d)=>{let h,e_,e$=fu(l.cancel??(null==s?void 0:s.cancel),a);if(e$)ev();else{Sl.und(l.pause)||(o.paused=fu(l.pause,a));let e0=null==s?void 0:s.pause;!0!==e0&&(e0=o.paused||fu(e0,a)),h=hu(l.delay||0,a),e0?(o.resumeQueue.add(e1),c.pause()):(c.resume(),e1())}function eg(){o.resumeQueue.add(e1),o.timeouts.delete(e_),e_.cancel(),h=e_.time-il.now()}function e1(){h>0&&!Cl.skipAnimation?(o.delayed=!0,e_=il.setTimeout(ev,h),o.pauseQueue.add(eg),o.timeouts.add(e_)):ev()}function ev(){o.delayed&&(o.delayed=!1),o.pauseQueue.delete(eg),o.timeouts.delete(e_),i<=(o.cancelId||0)&&(e$=!0);try{c.start({...l,callId:i,cancel:e$},u)}catch(a){d(a)}}})}var Nu=(i,a)=>1==a.length?a[0]:a.some(i=>i.cancelled)?Ou(i.get()):a.every(i=>i.noop)?Mu(i.get()):Lu(i.get(),a.every(i=>i.finished)),Mu=i=>({value:i,noop:!0,finished:!0,cancelled:!1}),Lu=(i,a,l=!1)=>({value:i,finished:a,cancelled:l}),Ou=i=>({value:i,cancelled:!0,finished:!1});function Au(i,a,l,s){let{callId:o,parentId:c,onRest:u}=a,{asyncTo:d,promise:h}=l;return c||i!==d||a.reset?l.promise=(async()=>{l.asyncId=o,l.asyncTo=i;let e_=vu(a,(i,a)=>"onRest"===a?void 0:i),e$,e0,eg=new Promise((i,a)=>(e$=i,e0=a)),e1=i=>{let a=o<=(l.cancelId||0)&&Ou(s)||o!==l.asyncId&&Lu(s,!1);if(a)throw i.result=a,e0(i),i},ev=(i,a)=>{let c=new Ru,u=new Iu;return(async()=>{if(Cl.skipAnimation)throw Pu(l),u.result=Lu(s,!1),e0(u),u;e1(c);let d=Sl.obj(i)?{...i}:{...a,to:i};d.parentId=o,_l(e_,(i,a)=>{Sl.und(d[a])&&(d[a]=i)});let h=await s.start(d);return e1(c),l.paused&&await new Promise(i=>{l.resumeQueue.add(i)}),h})()},e3;if(Cl.skipAnimation)return Pu(l),Lu(s,!1);try{let e2;await Promise.all([(e2=Sl.arr(i)?(async i=>{for(let a of i)await ev(a)})(i):Promise.resolve(i(ev,s.stop.bind(s)))).then(e$),eg]),e3=Lu(s.get(),!0,!1)}catch(e4){if(e4 instanceof Ru)e3=e4.result;else{if(!(e4 instanceof Iu))throw e4;e3=e4.result}}finally{o==l.asyncId&&(l.asyncId=c,l.asyncTo=c?d:void 0,l.promise=c?h:void 0)}return Sl.fun(u)&&il.batchedUpdates(()=>{u(e3,s,s.item)}),e3})():h}function Pu(i,a){Nl(i.timeouts,i=>i.cancel()),i.pauseQueue.clear(),i.resumeQueue.clear(),i.asyncId=i.asyncTo=i.promise=void 0,a&&(i.cancelId=a)}var Ru=class extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.")}},Iu=class extends Error{constructor(){super("SkipAnimationSignal")}},Fu=i=>i instanceof $u,Du=1,$u=class extends Ec{constructor(){super(...arguments),this.id=Du++,this._priority=0}get priority(){return this._priority}set priority(i){this._priority!=i&&(this._priority=i,this._onPriorityChange(i))}get(){let i=Yc(this);return i&&i.getValue()}to(...i){return Cl.to(this,i)}interpolate(...i){return Bc(`${zc}The "interpolate" function is deprecated in v9 (use "to" instead)`),Cl.to(this,i)}toJSON(){return this.get()}observerAdded(i){1==i&&this._attach()}observerRemoved(i){0==i&&this._detach()}_attach(){}_detach(){}_onChange(i,a=!1){Sc(this,{type:"change",parent:this,value:i,idle:a})}_onPriorityChange(i){this.idle||Bl.sort(this),Sc(this,{type:"priority",parent:this,priority:i})}},zu=Symbol.for("SpringPhase"),Vu=i=>(1&i[zu])>0,Bu=i=>(2&i[zu])>0,Hu=i=>(4&i[zu])>0,Uu=(i,a)=>a?i[zu]|=3:i[zu]&=-3,Wu=(i,a)=>a?i[zu]|=4:i[zu]&=-5,qu=class extends $u{constructor(i,a){if(super(),this.animation=new _u,this.defaultProps={},this._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._pendingCalls=new Set,this._lastCallId=0,this._lastToId=0,this._memoizedDuration=0,!Sl.und(i)||!Sl.und(a)){let l=Sl.obj(i)?{...i}:{...a,from:i};Sl.und(l.default)&&(l.default=!0),this.start(l)}}get idle(){return!(Bu(this)||this._state.asyncTo)||Hu(this)}get goal(){return Cc(this.animation.to)}get velocity(){let i=Yc(this);return i instanceof tu?i.lastVelocity||0:i.getPayload().map(i=>i.lastVelocity||0)}get hasAnimated(){return Vu(this)}get isAnimating(){return Bu(this)}get isPaused(){return Hu(this)}get isDelayed(){return this._state.delayed}advance(i){let a=!0,l=!1,s=this.animation,{toValues:o}=s,{config:c}=s,u=Jc(s.to);!u&&wc(s.to)&&(o=Tl(Cc(s.to))),s.values.forEach((d,h)=>{if(d.done)return;let e_=d.constructor==nu?1:u?u[h].lastPosition:o[h],e$=s.immediate,e0=e_;if(!e$){if(e0=d.lastPosition,c.tension<=0)return void(d.done=!0);let eg=d.elapsedTime+=i,e1=s.fromValues[h],ev=null!=d.v0?d.v0:d.v0=Sl.arr(c.velocity)?c.velocity[h]:c.velocity,e3,e2=c.precision||(e1==e_?.005:Math.min(1,.001*Math.abs(e_-e1)));if(Sl.und(c.duration)){if(c.decay){let e4=!0===c.decay?.998:c.decay,ey=Math.exp(-(1-e4)*eg);e0=e1+ev/(1-e4)*(1-ey),e$=Math.abs(d.lastPosition-e0)<=e2,e3=ev*ey}else{e3=null==d.lastVelocity?ev:d.lastVelocity;let e6=c.restVelocity||e2/10,e5=c.clamp?0:c.bounce,e7=!Sl.und(e5),ex=e1==e_?d.v0>0:e1<e_,eb,ew=!1,eS=Math.ceil(i/1);for(let eC=0;eC<eS&&((eb=Math.abs(e3)>e6)||!(e$=Math.abs(e_-e0)<=e2));++eC)e7&&(ew=e0==e_||e0>e_==ex)&&(e3=-e3*e5,e0=e_),e3+=(-(1e-6*c.tension)*(e0-e_)+-(.001*c.friction)*e3)/c.mass*1,e0+=1*e3}}else{let ek=1;c.duration>0&&(this._memoizedDuration!==c.duration&&(this._memoizedDuration=c.duration,d.durationProgress>0&&(d.elapsedTime=c.duration*d.durationProgress,eg=d.elapsedTime+=i)),ek=(ek=(c.progress||0)+eg/this._memoizedDuration)>1?1:ek<0?0:ek,d.durationProgress=ek),e3=((e0=e1+c.easing(ek)*(e_-e1))-d.lastPosition)/i,e$=1==ek}d.lastVelocity=e3,Number.isNaN(e0)&&(console.warn("Got NaN while animating:",this),e$=!0)}u&&!u[h].done&&(e$=!1),e$?d.done=!0:a=!1,d.setValue(e0,c.round)&&(l=!0)});let d=Yc(this),h=d.getValue();if(a){let e_=Cc(s.to);h===e_&&!l||c.decay?l&&c.decay&&this._onChange(h):(d.setValue(e_),this._onChange(e_)),this._stop()}else l&&this._onChange(h)}set(i){return il.batchedUpdates(()=>{this._stop(),this._focus(i),this._set(i)}),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(Bu(this)){let{to:i,config:a}=this.animation;il.batchedUpdates(()=>{this._onStart(),a.decay||this._set(i,!1),this._stop()})}return this}update(i){return(this.queue||(this.queue=[])).push(i),this}start(i,a){let l;return Sl.und(i)?(l=this.queue||[],this.queue=[]):l=[Sl.obj(i)?i:{...a,to:i}],Promise.all(l.map(i=>this._update(i))).then(i=>Nu(this,i))}stop(i){let{to:a}=this.animation;return this._focus(this.get()),Pu(this._state,i&&this._lastCallId),il.batchedUpdates(()=>this._stop(a,i)),this}reset(){this._update({reset:!0})}eventObserved(i){"change"==i.type?this._start():"priority"==i.type&&(this.priority=i.priority+1)}_prepareNode(i){let a=this.key||"",{to:l,from:s}=i;(null==(l=Sl.obj(l)?l[a]:l)||Cu(l))&&(l=void 0),null==(s=Sl.obj(s)?s[a]:s)&&(s=void 0);let o={to:l,from:s};return Vu(this)||(i.reverse&&([l,s]=[s,l]),s=Cc(s),Sl.und(s)?Yc(this)||this._set(l):this._set(s)),o}_update({...i},a){let{key:l,defaultProps:s}=this;i.default&&Object.assign(s,vu(i,(i,a)=>/^on/.test(a)?pu(i,l):i)),Ju(this,i,"onProps"),ed(this,"onProps",i,this);let o=this._prepareNode(i);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");let c=this._state;return Tu(++this._lastCallId,{key:l,props:i,defaultProps:s,state:c,actions:{pause:()=>{Hu(this)||(Wu(this,!0),Ol(c.pauseQueue),ed(this,"onPause",Lu(this,Gu(this,this.animation.to)),this))},resume:()=>{Hu(this)&&(Wu(this,!1),Bu(this)&&this._resume(),Ol(c.resumeQueue),ed(this,"onResume",Lu(this,Gu(this,this.animation.to)),this))},start:this._merge.bind(this,o)}}).then(l=>{if(i.loop&&l.finished&&(!a||!l.noop)){let s=Zu(i);if(s)return this._update(s,!0)}return l})}_merge(i,a,l){if(a.cancel)return this.stop(!0),l(Ou(this));let s=!Sl.und(i.to),o=!Sl.und(i.from);if(s||o){if(!(a.callId>this._lastToId))return l(Ou(this));this._lastToId=a.callId}let{key:c,defaultProps:u,animation:d}=this,{to:h,from:e_}=d,{to:e$=h,from:e0=e_}=i;!o||s||a.default&&!Sl.und(e$)||(e$=e0),a.reverse&&([e$,e0]=[e0,e$]);let eg=!El(e0,e_);eg&&(d.from=e0),e0=Cc(e0);let e1=!El(e$,h);e1&&this._focus(e$);let ev=Cu(a.to),{config:e3}=d,{decay:e2,velocity:e4}=e3;(s||o)&&(e3.velocity=0),a.config&&!ev&&function(i,a,l){for(let s in l&&(Eu(l={...l},a),a={...l,...a}),Eu(i,a),Object.assign(i,a),ku)null==i[s]&&(i[s]=ku[s]);let{frequency:o,damping:c}=i,{mass:u}=i;Sl.und(o)||(o<.01&&(o=.01),c<0&&(c=0),i.tension=Math.pow(2*Math.PI/o,2)*u,i.friction=4*Math.PI*c*u/o)}(e3,hu(a.config,c),a.config!==u.config?hu(u.config,c):void 0);let ey=Yc(this);if(!ey||Sl.und(e$))return l(Lu(this,!0));let e6=Sl.und(a.reset)?o&&!a.default:!Sl.und(e0)&&fu(a.reset,c),e5=e6?e0:this.get(),e7=wu(e$),ex=Sl.num(e7)||Sl.arr(e7)||Uc(e7),eb=!ev&&(!ex||fu(u.immediate||a.immediate,c));if(e1){let ew=au(e$);if(ew!==ey.constructor){if(!eb)throw Error(`Cannot animate between ${ey.constructor.name} and ${ew.name}, as the "to" prop suggests`);ey=this._set(e7)}}let eS=ey.constructor,eC=wc(e$),ek=!1;if(!eC){let eE=e6||!Vu(this)&&eg;(e1||eE)&&(eC=!(ek=El(wu(e5),e7))),(El(d.immediate,eb)||eb)&&El(e3.decay,e2)&&El(e3.velocity,e4)||(eC=!0)}if(ek&&Bu(this)&&(d.changed&&!e6?eC=!0:eC||this._stop(h)),!ev&&((eC||wc(h))&&(d.values=ey.getPayload(),d.toValues=wc(e$)?null:eS==nu?[1]:Tl(e7)),d.immediate!=eb&&(d.immediate=eb,eb||e6||this._set(h)),eC)){let{onRest:e8}=d;jl(Xu,i=>Ju(this,a,i));let ej=Lu(this,Gu(this,h));Ol(this._pendingCalls,ej),this._pendingCalls.add(l),d.changed&&il.batchedUpdates(()=>{var i;d.changed=!e6,null==e8||e8(ej,this),e6?hu(u.onRest,ej):null==(i=d.onStart)||i.call(d,ej,this)})}e6&&this._set(e5),ev?l(Au(a.to,a,this._state,this)):eC?this._start():Bu(this)&&!e1?this._pendingCalls.add(l):l(Mu(e5))}_focus(i){let a=this.animation;i!==a.to&&(kc(this)&&this._detach(),a.to=i,kc(this)&&this._attach())}_attach(){let i=0,{to:a}=this.animation;wc(a)&&(_c(a,this),Fu(a)&&(i=a.priority+1)),this.priority=i}_detach(){let{to:i}=this.animation;wc(i)&&Tc(i,this)}_set(i,a=!0){let l=Cc(i);if(!Sl.und(l)){let s=Yc(this);if(!s||!El(l,s.getValue())){let o=au(l);s&&s.constructor==o?s.setValue(l):Xc(this,o.create(l)),s&&il.batchedUpdates(()=>{this._onChange(l,a)})}}return Yc(this)}_onStart(){let i=this.animation;i.changed||(i.changed=!0,ed(this,"onStart",Lu(this,Gu(this,i.to)),this))}_onChange(i,a){a||(this._onStart(),hu(this.animation.onChange,i,this)),hu(this.defaultProps.onChange,i,this),super._onChange(i,a)}_start(){let i=this.animation;Yc(this).reset(Cc(i.to)),i.immediate||(i.fromValues=i.values.map(i=>i.lastPosition)),Bu(this)||(Uu(this,!0),Hu(this)||this._resume())}_resume(){Cl.skipAnimation?this.finish():Bl.start(this)}_stop(i,a){if(Bu(this)){Uu(this,!1);let l=this.animation;jl(l.values,i=>{i.done=!0}),l.toValues&&(l.onChange=l.onPause=l.onResume=void 0),Sc(this,{type:"idle",parent:this});let s=a?Ou(this.get()):Lu(this.get(),Gu(this,i??l.to));Ol(this._pendingCalls,s),l.changed&&(l.changed=!1,ed(this,"onRest",s,this))}}};function Gu(i,a){let l=wu(a);return El(wu(i.get()),l)}function Zu(i,a=i.loop,l=i.to){let s=hu(a);if(s){let o=!0!==s&&xu(s),c=(o||i).reverse,u=!o||o.reset;return Qu({...i,loop:a,default:!1,pause:void 0,to:!c||Cu(l)?l:void 0,from:u?i.from:void 0,reset:u,...o})}}function Qu(i){let{to:a,from:l}=i=xu(i),s=new Set;return Sl.obj(a)&&Yu(a,s),Sl.obj(l)&&Yu(l,s),i.keys=s.size?Array.from(s):null,i}function Ku(i){let a=Qu(i);return Sl.und(a.default)&&(a.default=vu(a)),a}function Yu(i,a){_l(i,(i,l)=>null!=i&&a.add(l))}var Xu=["onStart","onRest","onChange","onPause","onResume"];function Ju(i,a,l){i.animation[l]=a[l]!==mu(a,l)?pu(a[l],i.key):void 0}function ed(i,a,...l){var s,o,c,u;null==(o=(s=i.animation)[a])||o.call(s,...l),null==(u=(c=i.defaultProps)[a])||u.call(c,...l)}var td=["onStart","onChange","onRest"],nd=1,rd=class{constructor(i,a){this.id=nd++,this.springs={},this.queue=[],this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),a&&(this._flush=a),i&&this.start({default:!0,...i})}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every(i=>i.idle&&!i.isDelayed&&!i.isPaused)}get item(){return this._item}set item(i){this._item=i}get(){let i={};return this.each((a,l)=>i[l]=a.get()),i}set(i){for(let a in i){let l=i[a];Sl.und(l)||this.springs[a].set(l)}}update(i){return i&&this.queue.push(Qu(i)),this}start(i){let{queue:a}=this;return i?a=Tl(i).map(Qu):this.queue=[],this._flush?this._flush(this,a):(ud(this,a),id(this,a))}stop(i,a){if(!!i!==i&&(a=i),a){let l=this.springs;jl(Tl(a),a=>l[a].stop(!!i))}else Pu(this._state,this._lastAsyncId),this.each(a=>a.stop(!!i));return this}pause(i){if(Sl.und(i))this.start({pause:!0});else{let a=this.springs;jl(Tl(i),i=>a[i].pause())}return this}resume(i){if(Sl.und(i))this.start({pause:!1});else{let a=this.springs;jl(Tl(i),i=>a[i].resume())}return this}each(i){_l(this.springs,i)}_onFrame(){let{onStart:i,onChange:a,onRest:l}=this._events,s=this._active.size>0,o=this._changed.size>0;(s&&!this._started||o&&!this._started)&&(this._started=!0,Nl(i,([i,a])=>{a.value=this.get(),i(a,this,this._item)}));let c=!s&&this._started,u=o||c&&l.size?this.get():null;o&&a.size&&Nl(a,([i,a])=>{a.value=u,i(a,this,this._item)}),c&&(this._started=!1,Nl(l,([i,a])=>{a.value=u,i(a,this,this._item)}))}eventObserved(i){if("change"==i.type)this._changed.add(i.parent),i.idle||this._active.add(i.parent);else{if("idle"!=i.type)return;this._active.delete(i.parent)}il.onFrame(this._onFrame)}};function id(i,a){return Promise.all(a.map(a=>od(i,a))).then(a=>Nu(i,a))}async function od(i,a,l){let{keys:s,to:o,from:c,loop:u,onRest:d,onResolve:h}=a,e_=Sl.obj(a.default)&&a.default;u&&(a.loop=!1),!1===o&&(a.to=null),!1===c&&(a.from=null);let e$=Sl.arr(o)||Sl.fun(o)?o:void 0;e$?(a.to=void 0,a.onRest=void 0,e_&&(e_.onRest=void 0)):jl(td,l=>{let s=a[l];if(Sl.fun(s)){let o=i._events[l];a[l]=({finished:i,cancelled:a})=>{let l=o.get(s);l?(i||(l.finished=!1),a&&(l.cancelled=!0)):o.set(s,{value:null,finished:i||!1,cancelled:a||!1})},e_&&(e_[l]=a[l])}});let e0=i._state;!e0.paused===a.pause?(e0.paused=a.pause,Ol(a.pause?e0.pauseQueue:e0.resumeQueue)):e0.paused&&(a.pause=!0);let eg=(s||Object.keys(i.springs)).map(l=>i.springs[l].start(a)),e1=!0===a.cancel||!0===mu(a,"cancel");(e$||e1&&e0.asyncId)&&eg.push(Tu(++i._lastAsyncId,{props:a,state:e0,actions:{pause:kl,resume:kl,start(a,l){e1?(Pu(e0,i._lastAsyncId),l(Ou(i))):(a.onRest=d,l(Au(e$,a,e0,i)))}}})),e0.paused&&await new Promise(i=>{e0.resumeQueue.add(i)});let ev=Nu(i,await Promise.all(eg));if(u&&ev.finished&&(!l||!ev.noop)){let e3=Zu(a,u,o);if(e3)return ud(i,[e3]),od(i,e3,!0)}return h&&il.batchedUpdates(()=>h(ev,i,i.item)),ev}function sd(i,a){let l={...i.springs};return a&&jl(Tl(a),i=>{Sl.und(i.keys)&&(i=Qu(i)),Sl.obj(i.to)||(i={...i,to:void 0}),cd(l,i,i=>ld(i))}),ad(i,l),l}function ad(i,a){_l(a,(a,l)=>{i.springs[l]||(i.springs[l]=a,_c(a,i))})}function ld(i,a){let l=new qu;return l.key=i,a&&_c(l,a),l}function cd(i,a,l){a.keys&&jl(a.keys,s=>{(i[s]||(i[s]=l(s)))._prepareNode(a)})}function ud(i,a){jl(a,a=>{cd(i.springs,a,a=>ld(a,i))})}var dd,hd,fd=({children:a,...l})=>{let s=i.useContext(pd),o=l.pause||!!s.pause,c=l.immediate||!!s.immediate;l=function(a,l){let[s]=i.useState(()=>({inputs:l,result:a()})),o=i.useRef(),c=o.current,u=c;return u?Boolean(l&&u.inputs&&function(i,a){if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l]!==a[l])return!1;return!0}(l,u.inputs))||(u={inputs:l,result:a()}):u=s,i.useEffect(()=>{o.current=u,c==s&&(s.inputs=s.result=void 0)},[u]),u.result}(()=>({pause:o,immediate:c}),[o,c]);let{Provider:u}=pd;return i.createElement(u,{value:l},a)},pd=(dd=fd,hd={},Object.assign(dd,i.createContext(hd)),dd.Provider._context=dd,dd.Consumer._context=dd,dd);fd.Provider=pd.Provider,fd.Consumer=pd.Consumer;var md=()=>{let i=[],a=function(a){Hc(`${zc}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`);let s=[];return jl(i,(i,o)=>{if(Sl.und(a))s.push(i.start());else{let c=l(a,i,o);c&&s.push(i.start(c))}}),s};a.current=i,a.add=function(a){i.includes(a)||i.push(a)},a.delete=function(a){let l=i.indexOf(a);~l&&i.splice(l,1)},a.pause=function(){return jl(i,i=>i.pause(...arguments)),this},a.resume=function(){return jl(i,i=>i.resume(...arguments)),this},a.set=function(a){jl(i,(i,l)=>{let s=Sl.fun(a)?a(l,i):a;s&&i.set(s)})},a.start=function(a){let l=[];return jl(i,(i,s)=>{if(Sl.und(a))l.push(i.start());else{let o=this._getProps(a,i,s);o&&l.push(i.start(o))}}),l},a.stop=function(){return jl(i,i=>i.stop(...arguments)),this},a.update=function(a){return jl(i,(i,l)=>i.update(this._getProps(a,i,l))),this};let l=function(i,a,l){return Sl.fun(i)?i(l,a):i};return a._getProps=l,a};function gd(a,l){let s=Sl.fun(a),[[o],c]=function(a,l,s){let o=Sl.fun(l)&&l;o&&!s&&(s=[]);let c=i.useMemo(()=>o||3==arguments.length?md():void 0,[]),u=i.useRef(0),d=qc(),h=i.useMemo(()=>({ctrls:[],queue:[],flush(i,a){let l=sd(i,a);return!(u.current>0)||h.queue.length||Object.keys(l).some(a=>!i.springs[a])?new Promise(s=>{ad(i,l),h.queue.push(()=>{s(id(i,a))}),d()}):id(i,a)}}),[]),e_=i.useRef([...h.ctrls]),e$=[],e0=Qc(a)||0;function eg(i,a){for(let s=i;s<a;s++){let c=e_.current[s]||(e_.current[s]=new rd(null,h.flush)),u=o?o(s,c):l[s];u&&(e$[s]=Ku(u))}}i.useMemo(()=>{jl(e_.current.slice(a,e0),i=>{var a,l,s;a=i,l=c,null==(s=a.ref)||s.delete(a),null==l||l.delete(a),i.stop(!0)}),e_.current.length=a,eg(e0,a)},[a]),i.useMemo(()=>{eg(0,Math.min(e0,a))},s);let e1=e_.current.map((i,a)=>sd(i,e$[a])),ev=i.useContext(fd),e3=Qc(ev),e2=ev!==e3&&function(i){for(let a in i)return!0;return!1}(ev);Wc(()=>{u.current++,h.ctrls=e_.current;let{queue:i}=h;i.length&&(h.queue=[],jl(i,i=>i())),jl(e_.current,(i,a)=>{var l,s,o;null==c||c.add(i),e2&&i.start({default:ev});let u=e$[a];u&&(l=i,(s=u.ref)&&l.ref!==s&&(null==(o=l.ref)||o.delete(l),s.add(l),l.ref=s),i.ref?i.queue.push(u):i.start(u))})}),Gc(()=>()=>{jl(h.ctrls,i=>i.stop(!0))});let e4=e1.map(i=>({...i}));return c?[e4,c]:e4}(1,s?a:[a],s?l||[]:l);return s||2==arguments.length?[o,c]:o}var vd=class extends $u{constructor(i,a){super(),this.source=i,this.idle=!0,this._active=new Set,this.calc=dc(...a);let l=this._get(),s=au(l);Xc(this,s.create(l))}advance(i){let a=this._get();El(a,this.get())||(Yc(this).setValue(a),this._onChange(a,this.idle)),!this.idle&&bd(this._active)&&xd(this)}_get(){let i=Sl.arr(this.source)?this.source.map(Cc):Tl(Cc(this.source));return this.calc(...i)}_start(){this.idle&&!bd(this._active)&&(this.idle=!1,jl(Jc(this),i=>{i.done=!1}),Cl.skipAnimation?(il.batchedUpdates(()=>this.advance()),xd(this)):Bl.start(this))}_attach(){let i=1;jl(Tl(this.source),a=>{wc(a)&&_c(a,this),Fu(a)&&(a.idle||this._active.add(a),i=Math.max(i,a.priority+1))}),this.priority=i,this._start()}_detach(){jl(Tl(this.source),i=>{wc(i)&&Tc(i,this)}),this._active.clear(),xd(this)}eventObserved(i){"change"==i.type?i.idle?this.advance():(this._active.add(i.parent),this._start()):"idle"==i.type?this._active.delete(i.parent):"priority"==i.type&&(this.priority=Tl(this.source).reduce((i,a)=>Math.max(i,(Fu(a)?a.priority:0)+1),0))}};function yd(i){return!1!==i.idle}function bd(i){return!i.size||Array.from(i).every(yd)}function xd(i){i.idle||(i.idle=!0,jl(Jc(i),i=>{i.done=!0}),Sc(i,{type:"idle",parent:i}))}Cl.assign({createStringInterpolator:$c,to:(i,a)=>new vd(i,a)});var wd=/^--/;function Cd(i,a){return null==a||"boolean"==typeof a||""===a?"":"number"!=typeof a||0===a||wd.test(i)||Sd.hasOwnProperty(i)&&Sd[i]?(""+a).trim():a+"px"}var kd={},Sd={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ed=["Webkit","Ms","Moz","O"];Sd=Object.keys(Sd).reduce((i,a)=>(Ed.forEach(l=>{var s,o;return i[(s=l)+(o=a).charAt(0).toUpperCase()+o.substring(1)]=i[a]}),i),Sd);var jd=/^(matrix|translate|scale|rotate|skew)/,_d=/^(translate)/,Td=/^(rotate|skew)/,Nd=(i,a)=>Sl.num(i)&&0!==i?i+a:i,Md=(i,a)=>Sl.arr(i)?i.every(i=>Md(i,a)):Sl.num(i)?i===a:parseFloat(i)===a,Ld=class extends iu{constructor({x:i,y:a,z:l,...s}){let o=[],c=[];(i||a||l)&&(o.push([i||0,a||0,l||0]),c.push(i=>[`translate3d(${i.map(i=>Nd(i,"px")).join(",")})`,Md(i,0)])),_l(s,(i,a)=>{if("transform"===a)o.push([i||""]),c.push(i=>[i,""===i]);else if(jd.test(a)){if(delete s[a],Sl.und(i))return;let l=_d.test(a)?"px":Td.test(a)?"deg":"";o.push(Tl(i)),c.push("rotate3d"===a?([i,a,s,o])=>[`rotate3d(${i},${a},${s},${Nd(o,l)})`,Md(o,0)]:i=>[`${a}(${i.map(i=>Nd(i,l)).join(",")})`,Md(i,a.startsWith("scale")?1:0)])}}),o.length&&(s.transform=new Od(o,c)),super(s)}},Od=class extends Ec{constructor(i,a){super(),this.inputs=i,this.transforms=a,this._value=null}get(){return this._value||(this._value=this._get())}_get(){let i="",a=!0;return jl(this.inputs,(l,s)=>{let o=Cc(l[0]),[c,u]=this.transforms[s](Sl.arr(o)?o:l.map(Cc));i+=" "+c,a=a&&u}),a?"none":i}observerAdded(i){1==i&&jl(this.inputs,i=>jl(i,i=>wc(i)&&_c(i,this)))}observerRemoved(i){0==i&&jl(this.inputs,i=>jl(i,i=>wc(i)&&Tc(i,this)))}eventObserved(i){"change"==i.type&&(this._value=null),Sc(this,i)}};Cl.assign({batchedUpdates:u.unstable_batchedUpdates,createStringInterpolator:$c,colors:{transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199}});var Ad=((i,{applyAnimatedValues:a=()=>!1,createAnimatedStyle:l=i=>new iu(i),getComponentProps:s=i=>i}={})=>{let o={applyAnimatedValues:a,createAnimatedStyle:l,getComponentProps:s},c=i=>{let a=du(i)||"Anonymous";return(i=Sl.str(i)?c[i]||(c[i]=lu(i,o)):i[uu]||(i[uu]=lu(i,o))).displayName=`Animated(${a})`,i};return _l(i,(a,l)=>{Sl.arr(i)&&(l=du(a)),c[l]=c(a)}),{animated:c}})(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],{applyAnimatedValues:function(i,a){if(!i.nodeType||!i.setAttribute)return!1;let l="filter"===i.nodeName||i.parentNode&&"filter"===i.parentNode.nodeName,{style:s,children:o,scrollTop:c,scrollLeft:u,viewBox:d,...h}=a,e_=Object.values(h),e$=Object.keys(h).map(a=>l||i.hasAttribute(a)?a:kd[a]||(kd[a]=a.replace(/([A-Z])/g,i=>"-"+i.toLowerCase())));for(let e0 in void 0!==o&&(i.textContent=o),s)if(s.hasOwnProperty(e0)){let eg=Cd(e0,s[e0]);wd.test(e0)?i.style.setProperty(e0,eg):i.style[e0]=eg}e$.forEach((a,l)=>{i.setAttribute(a,e_[l])}),void 0!==c&&(i.scrollTop=c),void 0!==u&&(i.scrollLeft=u),void 0!==d&&i.setAttribute("viewBox",d)},createAnimatedStyle:i=>new Ld(i),getComponentProps:({scrollTop:i,scrollLeft:a,...l})=>l}),Pd=Ad.animated;function Rd(a){let[l,s,o]=function(){let a=Za(i=>i.anchorPoint),l=i.useRef(null),[s,o]=i.useState(0),[c,u]=i.useState(0),[d,h]=i.useState(null),e_=i.useCallback((i,a)=>{if(!i)return;let l=i.x+i.w/2,s=window.innerHeight-(i.y+i.h);u(window.innerHeight-s-i.h-a.height-30),o(Math.min(l-a.width/2,window.innerWidth-a.width-30))},[]);return i.useEffect(()=>{a&&d&&e_(a,d)},[a,e_,d]),i.useEffect(()=>{if(!l.current)return;function i(){var i;let a=null==(i=l.current)?void 0:i.getBoundingClientRect();h(a??null)}i();let a=new ResizeObserver(i);return a.observe(l.current),()=>{a.disconnect()}},[]),[l,s,c]}();return S.jsx("div",{ref:l,style:{transform:`translateX(${s}px) translateY(${o}px)`},className:Ai(["[&>*]:pointer-events-auto z-10 flex items-start justify-end origin-top-left touch-none",a.className]),children:a.children})}function Id(i){let a=Ya("hello world :)");return S.jsxs("div",{className:Ai(["pointer-events-auto px-4 pb-6 z-10 ml-[env(safe-area-inset-left)] mr-[env(safe-area-inset-right)] bottom-0 origin-top-left inset-x-0 absolute overflow-hidden max-h-[calc(100vh-1.5rem)] grid grid-rows-[minmax(0,1fr),auto]",i.className]),children:[i.children,S.jsx("button",{className:"w-full text-foreground bg-muted z-10 relative hover:bg-accent active:scale-95 rounded-2xl pointer-events-auto transition-all duration-100 flex justify-center items-center py-3 mt-3 font-bold border border-muted hover:text-white",type:"button",onClick:()=>a.close(),children:"Close"}),S.jsx("div",{className:"pointer-events-none absolute z-0 bottom-0 left-0 w-full h-32 bg-gradient-to-t from-black to-transparent"})]})}let Fd=function(i){return S.jsx("div",{tabIndex:i.tabIndex,className:Ai(i.className,"relative"),onKeyUp:i.onKeyUp,children:i.children})},Dd=function(a){let l=i.useRef(null),s=a.flareSize??200,o=a.cssColorVar??"--colors-global-accentA";return i.useEffect(()=>{function i(i){if(!l.current)return;let a=l.current.getBoundingClientRect(),o=s/2;l.current.style.setProperty("--bg-x",`${(i.clientX-a.left-o).toFixed(0)}px`),l.current.style.setProperty("--bg-y",`${(i.clientY-a.top-o).toFixed(0)}px`)}return document.addEventListener("mousemove",i),()=>document.removeEventListener("mousemove",i)},[s]),S.jsx("div",{ref:l,className:Ai("flare-light pointer-events-none absolute inset-0 overflow-hidden opacity-0 transition-opacity duration-[400ms]",a.className,{"!opacity-100":a.enabled??!1}),style:{backgroundImage:`radial-gradient(circle at center, rgba(var(${o}) / 0.3), rgba(var(${o}) / 0) 60%)`,backgroundPosition:"var(--bg-x) var(--bg-y)",backgroundRepeat:"no-repeat",backgroundSize:`${s.toFixed(0)}px ${s.toFixed(0)}px`},children:S.jsx("div",{className:Ai("absolute inset-[1px] overflow-hidden",a.className,a.backgroundClass),children:S.jsx("div",{className:"absolute inset-0 opacity-10",style:{background:`radial-gradient(circle at center, rgba(var(${o}) / 1), rgba(var(${o}) / 0) 70%)`,backgroundPosition:"var(--bg-x) var(--bg-y)",backgroundRepeat:"no-repeat",backgroundSize:`${s.toFixed(0)}px ${s.toFixed(0)}px`}})})})},$d=function(i){return S.jsx("div",{className:Ai(i.className,"relative"),children:i.children})};function zd(a){let l=i.useRef(null),{isMobile:s}=Ki(),o=Za(i=>i.routes),c=Ya(a.id),u=i.useMemo(()=>o[c.currentRoute??""],[o,c]),[d,h]=gd(()=>({from:{height:`${(null==u?void 0:u.height)??0}px`,width:s?"100%":`${(null==u?void 0:u.width)??0}px`},config:{easing:yc.linear}}),[]),e_=i.useRef(null);return i.useEffect(()=>{let i={height:null==u?void 0:u.height,width:null==u?void 0:u.width,isMobile:s},a=JSON.stringify(i);if(a!==e_.current){let l=e_.current?JSON.parse(e_.current):null;e_.current=a,i.isMobile?(h.set({width:"100%"}),h.start({height:`${(null==u?void 0:u.height)??0}px`})):void 0===(null==l?void 0:l.height)&&void 0!==i.height?h.set({height:`${(null==u?void 0:u.height)??0}px`,width:`${(null==u?void 0:u.width)??0}px`}):h.start({height:`${(null==u?void 0:u.height)??0}px`,width:`${(null==u?void 0:u.width)??0}px`})}},[null==u?void 0:u.height,null==u?void 0:u.width,s,h]),S.jsx(Pd.div,{ref:l,style:d,className:"overflow-hidden relative z-10 max-h-full",children:S.jsxs(Fd,{className:"group w-full bg-transparent h-full rounded-2xl transition-colors duration-100 text-video-context-type-main",children:[S.jsx(Dd,{flareSize:400,cssColorVar:"--colors-video-context-light",backgroundClass:"bg-background/80 backdrop-blur duration-100",className:"rounded-2xl opacity-100"}),S.jsx($d,{className:"pointer-events-auto relative transition-transform duration-100 h-full",children:a.children})]})})}function Vd(i){let{isMobile:a}=Ki(),l=S.jsx(zd,{id:i.id,children:i.children});return a?S.jsx(Id,{children:l}):S.jsx(Rd,{children:l})}let Bd=Object.freeze(Object.defineProperty({__proto__:null,Card:function(i){return S.jsx("div",{className:"h-full grid grid-rows-[1fr]",children:S.jsx("div",{className:"px-6 py-2 scrollbar-none h-full flex flex-col justify-start overflow-y-auto overflow-x-hidden",children:i.children})})},CardWithScrollable:function(i){return S.jsx("div",{className:"[&>*]:px-6 h-full grid grid-rows-[auto,1fr] [&>*:nth-child(2)]:overflow-y-auto [&>*:nth-child(2)]:overflow-x-hidden",children:i.children})}},Symbol.toStringTag,{value:"Module"}));function Hd(i){return S.jsx("div",{children:S.jsxs("h3",{className:"font-semibold pb-3 pt-5 border-b border-muted-foreground/50 flex justify-between items-center",children:[S.jsx("div",{className:"flex items-center space-x-3",children:i.children}),S.jsx("div",{children:i.rightSide})]})})}let Ud=Object.freeze(Object.defineProperty({__proto__:null,Anchor:function(i){return S.jsx("a",{type:"button",className:"text-video-context-type-accent cursor-pointer",onClick:i.onClick,children:i.children})},Divider:function(){return S.jsx("hr",{className:"!my-4 w-full h-px border-muted-foreground/50"})},FieldTitle:function(i){return S.jsx("p",{className:"font-normal text-sm",children:i.children})},Highlight:function(i){return S.jsx("span",{className:"text-white",children:i.children})},IconButton:function(i){return S.jsx("button",{type:"button",onClick:i.onClick,children:S.jsx(Fi,{className:"text-xl",icon:i.icon})})},Paragraph:function(i){return S.jsx("p",{className:i.marginClass??"my-3",children:i.children})},SmallText:function(i){return S.jsx("p",{className:"text-sm mt-8 text-muted-foreground",children:i.children})},TextDisplay:function(i){return S.jsx("div",{className:"w-full h-full flex justify-center items-center text-center",children:S.jsxs("div",{className:"flex items-center gap-4 flex-col",children:[i.noIcon?null:S.jsx("div",{className:"w-16 h-10 border border-video-context-border rounded-lg flex justify-center items-center",children:S.jsx(Fi,{className:"text-xl",icon:Pi.EYE_SLASH})}),i.title?S.jsx("h2",{className:"text-white text-lg font-bold",children:i.title}):null,S.jsx("div",{children:i.children})]})})},Title:Hd},Symbol.toStringTag,{value:"Module"}));function Wd(i){return S.jsxs("div",{className:"text-muted-foreground flex items-center font-medium",children:[S.jsx("span",{className:"max-w-28 truncate text-sm",children:i.children}),S.jsx(Fi,{className:"text-xl ml-1 -mr-1.5",icon:Pi.CHEVRON_RIGHT})]})}function qd(i){return S.jsx("span",{className:Ai(["text-left",i.textClass||"text-foreground"]),children:i.children})}function Gd(i){let a=Ai("flex py-2 text-sm px-3 rounded-xl w-full -ml-3",{"cursor-default":!i.clickable,"hover:bg-neutral-700 hover:bg-opacity-30 cursor-pointer tabbable":i.clickable,"bg-neutral-700 bg-opacity-50":i.active}),l={width:"calc(100% + 1.5rem)"},s=S.jsxs("div",{className:Ai("flex gap-2 items-center flex-1",i.className),children:[S.jsx("div",{className:"flex-1 text-left",children:i.children}),S.jsx("div",{className:"flex",children:i.rightSide})]});return i.onClick?S.jsx("button",{type:"button",className:a,style:l,onClick:i.onClick,"data-active-link":!!i.active||void 0,children:s}):S.jsx("div",{className:a,style:l,"data-active-link":!!i.active||void 0,children:s})}function Zd(i){let a;return i.selected&&(a=S.jsx(Fi,{icon:Pi.CIRCLE_CHECK,className:"text-xl text-primary"})),i.error&&(a=S.jsx("span",{className:"flex items-center text-yellow-500",children:S.jsx(Fi,{className:"ml-2",icon:Pi.WARNING})})),i.loading&&(a=S.jsx(Ho,{className:"text-lg"})),S.jsx(Gd,{onClick:i.onClick,clickable:!i.disabled,rightSide:a,children:S.jsx(qd,{textClass:Ai({"text-white":i.selected,"text-muted-foreground":i.disabled}),children:i.children})})}let Qd=Object.freeze(Object.defineProperty({__proto__:null,BackLink:function(i){return S.jsxs(Hd,{rightSide:i.rightSide,children:[S.jsx("button",{type:"button",className:"-ml-2 p-2 rounded-xl tabbable hover:bg-neutral-700 hover:bg-opacity-30",onClick:i.onClick,children:S.jsx(Fi,{className:"text-xl",icon:Pi.ARROW_LEFT})}),S.jsx("span",{className:"line-clamp-1 break-all",children:i.children})]})},Chevron:Wd,ChevronLink:function(i){let a=S.jsx(Wd,{children:i.rightText});return S.jsx(Gd,{onClick:i.onClick,active:i.active,clickable:!0,rightSide:a,children:S.jsx(qd,{children:i.children})})},Link:Gd,LinkTitle:qd,SelectableLink:Zd},Symbol.toStringTag,{value:"Module"})),Kd=Object.freeze(Object.defineProperty({__proto__:null,ScrollToActiveSection:function(a){let l=i.useRef(null);return i.useEffect(()=>{var i,a,s;let o=null==(i=l.current)?void 0:i.querySelector("[data-active-link]"),c=null==(a=l.current)?void 0:a.getBoundingClientRect(),u=null==o?void 0:o.getBoundingClientRect();if(!u||!c)return;let d=u.top-c.top;null==(s=l.current)||s.scrollTo(0,d-c.height/2+u.height/2)},[a.loaded]),S.jsx("div",{ref:l,className:Ai("pt-4 space-y-1",a.className),children:a.children})},Section:function(i){return S.jsx("div",{className:Ai("pt-4 space-y-1",i.className),children:i.children})},SectionTitle:function(i){return S.jsx("h3",{className:Ai(" font-bold text-muted-foreground text-xs pt-8 pl-1 pb-2.5 border-b border-muted-foreground/50",i.className),children:i.children})}},Symbol.toStringTag,{value:"Module"})),Yd=s.forwardRef(({children:i,hint:a,isDisabled:l,className:s,...o},c)=>S.jsxs("div",{ref:c,className:Ai("w-full h-20 cursor-pointer hover:bg-muted-foreground/30 transition-colors ease-in-out rounded-xl bg-muted-foreground/10 flex flex-col items-center justify-center gap-1",l&&"opacity-30 pointer-events-none",s),...o,children:[S.jsx("div",{className:"text-sm",children:i}),a&&S.jsx("p",{className:"text-sm max-w-24 truncate text-muted-foreground",children:a})]}));Yd.displayName="Box";let Xd={...Bd,...Qd,...Kd,...Ud,...Object.freeze(Object.defineProperty({__proto__:null,Box:Yd},Symbol.toStringTag,{value:"Module"}))};function Jd(i){return S.jsx(Zd,{selected:i.selected,onClick:i.onClick,children:S.jsx("span",{className:"flex items-center",children:S.jsx("span",{children:i.children})})})}function eh({id:a}){let l=Xa(a),s=On(i=>i.audioTracks),o=On(i=>i.currentAudioTrack),c=On(i=>{var a;return null==(a=i.display)?void 0:a.changeAudioTrack}),u=i.useCallback(i=>{null==c||c(i),l.close()},[l,c]);return S.jsxs(S.Fragment,{children:[S.jsx(Xd.BackLink,{onClick:()=>l.navigate("/"),children:"Audio"}),S.jsx(Xd.Section,{className:"flex flex-col pb-4",children:s.map(i=>S.jsx(Jd,{selected:i.id===(null==o?void 0:o.id),langCode:i.language,onClick:s.includes(i)?()=>u(i):void 0,children:i.label||i.language||"Unknown"},i.id))})]})}function th(i){return S.jsx("button",{type:"button",onClick:i.onClick,className:Ai("w-11 h-6 p-1 rounded-full grid transition-colors duration-100 group/toggle tabbable",i.enabled?"bg-primary":"bg-neutral-700"),children:S.jsx("div",{className:"relative w-full h-full",children:S.jsx("div",{className:Ai("scale-90 group-hover/toggle:scale-100 h-full aspect-square rounded-full absolute transition-all duration-100",i.enabled?"left-full bg-neutral-700 transform -translate-x-full":"left-0 bg-white")})})})}function nh(i){return S.jsx("button",{type:"button",className:Ai("tabbable p-1.5 bg-accent rounded-xl transition-colors duration-100",i.active?"bg-opacity-100":"bg-opacity-0 cursor-pointer"),onClick:i.onClick,children:S.jsx("div",{className:"w-6 h-6 rounded-full flex justify-center items-center",style:{backgroundColor:i.color},children:i.active?S.jsx(Fi,{className:"text-sm text-black",icon:Pi.CHECKMARK}):null})})}function rh(a){let l=i.useRef(null),s=i.useRef(null),o=(a.value-a.min)/(a.max-a.min),c=i.useCallback(i=>{var l;let s=a.max-a.min;null==(l=a.onChange)||l.call(a,a.min+s*Math.min(Math.max(i,0),1))},[a]),{dragging:u,dragPercentage:d,dragMouseDown:h}=Ro(s,c,!0),[e_,e$]=i.useState(!1),[e0,eg]=i.useState("");i.useEffect(()=>{function i(i){var a;"Enter"===i.key&&e_&&(null==(a=l.current)||a.blur())}return window.addEventListener("keydown",i),()=>{window.removeEventListener("keydown",i)}},[e_]);let e1="tabbable py-1 bg-transparent text-muted-foreground rounded-xl focus:text-white text-sm cursor-text "+(a.controlButtons?"text-center px-4 w-24":"px-3 text-left w-20"),ev="tabbable hover:text-white transition-colors duration-100 w-full h-full flex justify-center items-center hover:text-primary rounded-xl",e3=a.textTransformer??(i=>i);return S.jsxs("div",{children:[S.jsx(Xd.FieldTitle,{children:a.label}),S.jsxs("div",{className:"grid items-center grid-cols-[1fr,auto] gap-4",children:[S.jsx("div",{ref:s,children:S.jsx("div",{className:"group/progress w-full h-8 flex items-center cursor-pointer",onMouseDown:h,onTouchStart:h,children:S.jsx("div",{dir:"ltr",className:["relative w-full h-1 bg-muted-foreground bg-opacity-25 rounded-full transition-[height] duration-100 group-hover/progress:h-1.5",u?"!h-1.5":""].join(" "),children:S.jsx("div",{className:"absolute top-0 left-0 h-full rounded-full bg-primary flex justify-end items-center",style:{width:100*Math.max(0,Math.min(1,u?d/100:o))+"%"},children:S.jsx("div",{className:"w-[1rem] min-w-[1rem] h-[1rem] border-[4px] border-video-context-sliderFilled rounded-full transform translate-x-1/2 bg-white transition-[transform] duration-100"})})})})}),S.jsx("div",{children:e_?S.jsx("input",{className:e1,value:e0,autoFocus:!0,onFocus(i){i.target.select()},onBlur(i){var l;e$(!1);let s=Number(i.target.value);Number.isNaN(s)||null==(l=a.onChange)||l.call(a,0===(a.decimalsAllowed??0)?Math.round(s):s)},ref:l,onChange:i=>eg(i.target.value)}):S.jsxs("div",{className:"relative",onClick(i){i.target.closest(".actions")||(eg(a.value.toFixed(a.decimalsAllowed??0)),e$(!0))},children:[S.jsx("button",{className:Ai(e1,a.controlButtons?"relative":void 0),type:"button",tabIndex:0,children:e3(a.value.toFixed(a.decimalsAllowed??0))}),a.controlButtons?S.jsxs(S.Fragment,{children:[S.jsx("div",{className:"actions w-6 h-full absolute left-0 top-0 grid grid-cols-1 items-center justify-center",children:S.jsx("button",{type:"button",onClick(){var i;return null==(i=a.onChange)?void 0:i.call(a,a.value-1/10**(a.decimalsAllowed??0))},className:ev,children:S.jsx(Fi,{icon:Pi.CHEVRON_LEFT})})}),S.jsx("div",{className:"actions w-6 h-full absolute right-0 top-0 grid grid-cols-1 items-center justify-center",children:S.jsx("button",{type:"button",onClick(){var i;return null==(i=a.onChange)?void 0:i.call(a,a.value+1/10**(a.decimalsAllowed??0))},className:ev,children:S.jsx(Fi,{icon:Pi.CHEVRON_RIGHT})})})]}):null]})})]})]})}let ih=["#ffffff","#b0b0b0","#80b1fa","#e2e535"];function oh({id:i,overlayBackLink:a}){let l=Xa(i),s=bi(i=>i.styling),o=bi(i=>i.overrideCasing),c=bi(i=>i.delay),u=bi(i=>i.setOverrideCasing),d=bi(i=>i.setDelay),h=bi(i=>i.updateStyling);return S.jsxs(S.Fragment,{children:[S.jsx(Xd.BackLink,{onClick:()=>l.navigate(a?"/captionsOverlay":"/captions"),children:"Custom subtitles"}),S.jsxs(Xd.Section,{className:"space-y-6 pb-5",children:[S.jsx(rh,{label:"Subtitle delay",max:10,min:-10,onChange:i=>d(i),value:c,textTransformer:i=>`${i}s`,decimalsAllowed:1,controlButtons:!0}),S.jsxs("div",{className:"flex justify-between items-center",children:[S.jsx(Xd.FieldTitle,{children:"Fix capitalization"}),S.jsx("div",{className:"flex justify-center items-center",children:S.jsx(th,{enabled:o,onClick:()=>u(!o)})})]}),S.jsxs("div",{className:"flex justify-between items-center",children:[S.jsx(Xd.FieldTitle,{children:"Bold text"}),S.jsx("div",{className:"flex justify-center items-center",children:S.jsx(th,{enabled:s.bold,onClick:()=>h({bold:!s.bold})})})]}),S.jsx(Xd.Divider,{}),S.jsx(rh,{label:"Background opacity",max:100,min:0,onChange:i=>h({backgroundOpacity:i/100}),value:100*s.backgroundOpacity,textTransformer:i=>`${i}%`}),S.jsx(rh,{label:"Background blur",max:100,min:0,onChange:i=>h({backgroundBlur:i/100}),value:100*s.backgroundBlur,textTransformer:i=>`${i}%`}),S.jsx(rh,{label:"Text size",max:200,min:1,textTransformer:i=>`${i}%`,onChange:i=>h({size:i/100}),value:100*s.size}),S.jsxs("div",{className:"flex justify-between items-center",children:[S.jsx(Xd.FieldTitle,{children:"Color"}),S.jsx("div",{className:"flex justify-center items-center",children:ih.map(i=>S.jsx(nh,{onClick:()=>h({color:i}),color:i,active:s.color===i},i))})]})]})]})}function sh(a){let[l,s]=i.useState(!1);return i.useEffect(()=>{a.onDraggingChange(l)},[l,a]),S.jsx("div",{onDragEnter(i){i.preventDefault(),s(!0)},onDragLeave(i){i.currentTarget.contains(i.relatedTarget)||s(!1)},onDragOver(i){i.preventDefault()},onDrop(i){i.preventDefault(),s(!1),a.onDrop(i)},className:a.className,children:a.children})}function ah(i){return S.jsx(Zd,{selected:i.selected,loading:i.loading,error:i.error,onClick:i.onClick,children:S.jsx("span",{"data-active-link":!!i.selected||void 0,className:"flex items-center",children:S.jsx("span",{children:i.children})})})}function lh(){let a=On(i=>{var a;return null==(a=i.caption.selected)?void 0:a.language}),l=On(i=>i.setCaption),s=bi(i=>i.setCustomSubs),o=i.useRef(null);return S.jsxs(ah,{selected:"custom"===a,onClick(){var i;return null==(i=o.current)?void 0:i.click()},children:["Drop or upload file",S.jsx("input",{className:"hidden",ref:o,accept:gi.join(","),type:"file",onChange(i){if(!i.target.files)return;let a=new FileReader;a.addEventListener("load",i=>{if(!i.target||"string"!=typeof i.target.result)return;let a=lr(i.target.result,"srt");l({language:"custom",srtData:a,id:"custom-caption"}),s()}),a.readAsText(i.target.files[0],"utf-8")}})]})}function ch({id:a,backLink:l}){let s=Xa(a),o=On(i=>{var a;return null==(a=i.caption.selected)?void 0:a.id}),{disable:c}=xi(),[u,d]=i.useState(!1),h=On(i=>i.setCaption),e_=On(i=>{var a;return null==(a=i.caption.selected)?void 0:a.language}),e$=e_?e_??"Unknown":void 0;return S.jsxs(S.Fragment,{children:[S.jsxs("div",{children:[S.jsx("div",{className:Ai("absolute inset-0 flex items-center justify-center text-white z-10 pointer-events-none transition-opacity duration-300",u?"opacity-100":"opacity-0"),children:S.jsxs("div",{className:"flex flex-col items-center",children:[S.jsx(Fi,{className:"text-5xl mb-4",icon:Pi.UPLOAD}),S.jsx("span",{className:"text-xl weight font-medium",children:"Drop subtitle file here! >_<"})]})}),l?S.jsx(Xd.BackLink,{onClick:()=>s.navigate("/"),rightSide:S.jsx("button",{type:"button",onClick:()=>s.navigate("/captions/settings"),className:"-mr-2 -my-1 px-2 p-[0.4em] text-foreground rounded-xl tabbable hover:bg-neutral-700 hover:bg-opacity-30",children:"Customize"}),children:"Subtitles"}):S.jsx(Xd.Title,{rightSide:S.jsx("button",{type:"button",onClick:()=>s.navigate("/captions/settingsOverlay"),className:"-mr-2 -my-1 text-foreground px-2 p-[0.4em] rounded-xl tabbable hover:bg-neutral-700 hover:bg-opacity-30",children:"Customize"}),children:"Subtitles"})]}),S.jsx(sh,{className:"transition duration-300 "+(u?"opacity-20":""),onDraggingChange(i){d(i)},onDrop:i=>(function(i){let a=i.dataTransfer.files,l=a[0];if(!a||!l)return;let s=`.${l.name.split(".").pop()}`;if(!s||!gi.includes(s))return;let o=new FileReader;o.addEventListener("load",i=>{if(!i.target||"string"!=typeof i.target.result)return;let a=lr(i.target.result,"srt");h({language:"custom",srtData:a,id:"custom-caption"})}),o.readAsText(l)})(i),children:S.jsxs(Xd.ScrollToActiveSection,{className:"!pt-1 mt-2 pb-3",children:[S.jsxs("div",{className:"grid grid-cols-2 gap-3 py-3",children:[S.jsx(Xd.Box,{onClick:()=>s.navigate(l?"/captions/source":"/captions/sourceOverlay"),hint:bi(i=>i.isOpenSubtitles)?"":e$??"Off",children:"Select Sub"}),S.jsx(Xd.Box,{onClick:()=>s.navigate(l?"/captions/opensubtitles":"/captions/opensubtitlesOverlay"),hint:bi(i=>i.isOpenSubtitles)?e$??"Off":"Off",children:"Online Sub"})]}),S.jsx(ah,{onClick:()=>c(),selected:!o,children:"Off"}),S.jsx(lh,{})]})})]})}function uh(i){return S.jsxs("div",{className:"w-full relative",children:[S.jsx(Fi,{className:"pointer-events-none absolute top-1/2 left-3 transform -translate-y-1/2 text-muted-foreground",icon:Pi.SEARCH}),S.jsx("input",{placeholder:"Search",className:"w-full py-2 px-3 pl-[calc(0.75rem+24px)] tabbable bg-muted/50 rounded-xl placeholder:text-muted-foreground",value:i.value,onInput:a=>i.onInput(a.currentTarget.value)})]})}function dh({id:a,overlayBackLink:l}){let{type:o,id:c,season:u,episode:d}=ve(),h=Xa(a),{subCodes:e_,selectCaptionById:e$}=xi(),e0=On(i=>{var a;return null==(a=i.caption.selected)?void 0:a.id}),[eg,e1]=i.useState(null),[ev,e3]=i.useState(""),[e2,e4]=i.useState(e_),[ey,e6]=i.useState(""),e5=i.useMemo(()=>{let i=null;return"movie"===o?i=`get-subs/${"movie"===o?"m":"t"}:${c}/${ey}${u?"&ss="+u:""}${d?"&ep="+d:""}`:"tv"===o&&(i=`get-subs/t:${c}:${u}:${d}/${ey}${u?"&ss="+u:""}${d?"&ep="+d:""}`),(null==ey?void 0:ey.length)>0?i:null},[c,o,u,d,ey]),e7=Ei(async()=>{if(!e5)return null;let i=await fetch(`/api/${e5}`);return await i.json()},[e5]),[ex,eb]=Si(async i=>{e1(i.src);let a={id:i.src,url:i.src,language:i.label,opensubtitles:!0,needsProxy:!1};return e$(i.src,a)},[e$,e1]),ew=e2.map(i=>S.jsxs(s.Fragment,{children:[S.jsx(Zd,{loading:eg===i.value&&ex.loading,onClick(){ey!==i.label?e6(i.value):e6("")},children:S.jsxs("span",{className:"flex items-center",children:[S.jsx("span",{className:ey===i.value?"opacity-50":"",children:i.label}),S.jsx(Fi,{icon:Pi.CHEVRON_RIGHT,className:"text-xl text-muted-foreground ml-auto transition-transform ease-in-out "+(ey===i.label?"rotate-90":"rotate-0")})]})},i.value),ey===i.value&&S.jsx("div",{className:"p-2 bg-muted/20 rounded-xl text-left",children:e7.loading?S.jsx("div",{className:"text-center text-sm text-muted-foreground animate-pulse",children:S.jsx("p",{children:"Loading"})}):e7.value&&e7.value.length>0?e7.value.map((i,a)=>{var l;let s={label:((null==(l=null==e_?void 0:e_.find(i=>(null==i?void 0:i.value)===ey))?void 0:l.label)||ey)+" "+(a+1),src:""+i};return S.jsx(ah,{countryCode:s.label,selected:s.src===e0,loading:s.src===eg&&ex.loading,error:s.src===eg&&ex.error?ex.error.toString():void 0,onClick:()=>eb(s),children:S.jsx("span",{"data-active-link":s.src===e0||void 0,className:"flex items-center",children:S.jsx("span",{children:s.label})})},s.src)}):S.jsx("div",{className:"text-sm text-muted-foreground text-center",children:S.jsx("p",{children:"Not Found"})})})]},i.value));return S.jsxs(S.Fragment,{children:[S.jsx("div",{children:S.jsx(Xd.BackLink,{onClick:()=>h.navigate(l?"/captionsOverlay":"/captions"),children:"Online Subs"})}),S.jsx("div",{className:"mt-3",children:S.jsx(uh,{value:ev,onInput(i){e3(i),e4(e_.filter(a=>a.label.toLowerCase().includes(i.toLowerCase())))}})}),S.jsx(Xd.ScrollToActiveSection,{className:"!pt-1 mt-2 pb-3",children:S.jsx("div",{className:"text-center",children:ew})})]})}let hh=mt(bn(sn(i=>({enableThumbnails:!1,enableAutoplay:!1,sourceOrder:[],setEnableThumbnails(a){i(i=>{i.enableThumbnails=a})},setEnableAutoplay(a){i(i=>{i.enableAutoplay=a})},setSourceOrder(a){i(i=>{i.sourceOrder=a})}})),{name:"embed::preferences"})),fh=mt(i=>({displayGain:1,setDisplayGain:a=>i({displayGain:a})}));function ph(){let{displayGain:a,setDisplayGain:l}=fh(),s=i.useMemo(()=>a<=1?a:1+3*(a-1),[a]);return S.jsxs("div",{className:"space-y-4 mt-3",children:[S.jsx(Xd.FieldTitle,{children:"Audio Gain"}),S.jsxs("div",{className:"flex items-center space-x-2",children:[S.jsx("input",{type:"range",min:"0",max:"2",step:"0.25",value:a,onChange(i){l(parseFloat(i.target.value))},className:"w-full h-1 bg-gray-400 rounded-full cursor-pointer"}),S.jsx("div",{className:"text-sm text-white",children:s})]})]})}function mh(i){return S.jsx("div",{className:"flex items-center bg-white/5 p-1 rounded-lg",children:i.options.map(a=>S.jsxs("button",{type:"button",className:Ai("w-full px-2 py-1 text-sm rounded-md ",i.selected===a?"bg-white/5 text-white":"hover:bg-white/5"),onClick:()=>i.onClick(a),children:[a,"x"]},a))})}function gh({id:a}){let l=Xa(a),s=On(i=>i.mediaPlaying.playbackRate),o=On(i=>i.display),{enableThumbnails:c,setEnableThumbnails:u}=hh(),d=i.useCallback(i=>{null==o||o.setPlaybackRate(i)},[o]);return S.jsxs(S.Fragment,{children:[S.jsx(Xd.BackLink,{onClick:()=>l.navigate("/"),children:"Playback settings"}),S.jsxs(Xd.Section,{className:"space-y-8",children:[S.jsxs("div",{className:"space-y-4 mt-3",children:[S.jsx(Xd.FieldTitle,{children:"Playback speed"}),S.jsx(mh,{options:[.25,.5,1,1.5,2],selected:s,onClick:d})]}),S.jsx(ph,{}),S.jsx("div",{className:"space-y-1",children:S.jsx(Xd.Link,{className:"mb-2",rightSide:S.jsx(th,{enabled:c,onClick:()=>u(!c)}),children:"Enable Thumbnails"})})]})]})}let vh={unknown:!1,360:!0,480:!0,720:!0,1080:!0,"4k":!0};function yh({id:a}){let l=Xa(a),s=function(){let a=On(i=>{var a;return null==(a=i.source)?void 0:a.type});return i.useMemo(()=>{let i=document.createElement("video");return"hls"===a&&!h.isSupported()&&!!Mo(i)},[a])}(),o=On(i=>i.qualities),c=On(i=>i.currentQuality),u=On(i=>i.switchQuality),d=On(i=>i.enableAutomaticQuality),e_=xn(i=>i.setAutomaticQuality),e$=xn(i=>i.setLastChosenQuality),e0=xn(i=>i.quality.automaticQuality),eg=i.useCallback(i=>{e$(i),e_(!1),u(i),l.close()},[l,u,e$,e_]),e1=i.useCallback(()=>{let i=!e0;e_(i),i&&d()},[e_,e0,d]),ev=hn.filter(i=>!!vh[i]||!!o.includes(i));return S.jsxs(S.Fragment,{children:[S.jsx(Xd.BackLink,{onClick:()=>l.navigate("/"),children:"Quality"}),S.jsxs(Xd.Section,{className:"flex flex-col pb-4",children:[ev.map(i=>S.jsx(Zd,{selected:i===c,onClick:o.includes(i)?()=>eg(i):void 0,disabled:!o.includes(i),children:fn(i)},i)),S.jsx(Xd.Divider,{}),S.jsx(Xd.Link,{rightSide:S.jsx(th,{onClick:e1,enabled:e0}),children:"Automatic quality"}),S.jsx(Xd.SmallText,{children:S.jsx(Xd.Anchor,{onClick:()=>l.navigate("/servers"),children:S.jsx("span",{className:"hover:text-white transition-colors ease-in-out",children:s?"Due to Apple-defined (common IOS L) limitations, quality selection is not available on iOS for this server. You can try switching to another server to get different quality options.":"You can try switching server to get different quality options."})})})]})]})}function bh({id:a}){let l=Xa(a),s=On(i=>i.currentQuality),o=On(i=>i.currentAudioTrack),c=On(i=>{var a;return null==(a=i.caption.selected)?void 0:a.language}),u=bi(i=>i.enabled),{toggleLastUsed:d}=xi(),h=On(i=>i.sourceId),e_=i.useMemo(()=>h?h??"Unknown":"Unknown",[h]),e$=o?o.label||o.language||"Unknown":void 0,e0=hh(i=>i.enableAutoplay),eg=hh(i=>i.setEnableAutoplay);return S.jsxs(Xd.Card,{children:[S.jsx(Xd.Section,{children:S.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[S.jsx(Xd.Box,{onClick:()=>l.navigate("/quality"),hint:s?fn(s):"Auto",children:S.jsx("p",{children:"Quality"})}),S.jsx(Xd.Box,{onClick:()=>l.navigate("/servers"),hint:e_.toUpperCase(),children:S.jsx("p",{children:"Servers"})}),S.jsx(Xd.Box,{onClick:()=>l.navigate("/captions"),hint:(c?c??"Unknown":void 0)??"Off",children:S.jsx("p",{children:"Subtitles"})}),S.jsx(Xd.Box,{isDisabled:!o,onClick:()=>l.navigate("/audio"),hint:e$??"Default",children:S.jsx("p",{children:"Audio"})})]})}),S.jsx("div",{className:"w-full h-0.5 mt-5 shrink-0 bg-muted-foreground/20 rounded-full"}),S.jsxs(Xd.Section,{children:[S.jsx(Xd.Link,{rightSide:S.jsx(th,{enabled:e0,onClick:()=>eg(!e0)}),children:"Auto Play"}),S.jsx(Xd.Link,{rightSide:S.jsx(th,{enabled:u,onClick:()=>d().catch(()=>{})}),children:"Enable Subtitles"}),S.jsx(Xd.ChevronLink,{onClick:()=>l.navigate("/playback"),children:"Playback settings"})]})]})}function xh(i){return Array.isArray?Array.isArray(i):"[object Array]"===_h(i)}function wh(i){return"string"==typeof i}function Ch(i){return"number"==typeof i}function kh(i){var a;return!0===i||!1===i||Sh(a=i)&&null!==a&&"[object Boolean]"==_h(i)}function Sh(i){return"object"==typeof i}function Eh(i){return null!=i}function jh(i){return!i.trim().length}function _h(i){return null==i?void 0===i?"[object Undefined]":"[object Null]":Object.prototype.toString.call(i)}let Th=Object.prototype.hasOwnProperty;class Nh{constructor(i){this._keys=[],this._keyMap={};let a=0;i.forEach(i=>{let l=Mh(i);this._keys.push(l),this._keyMap[l.id]=l,a+=l.weight}),this._keys.forEach(i=>{i.weight/=a})}get(i){return this._keyMap[i]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function Mh(i){let a=null,l=null,s=null,o=1,c=null;if(wh(i)||xh(i))s=i,a=Lh(i),l=Oh(i);else{var u,d;if(!Th.call(i,"name"))throw Error("Missing name property in key");let h=i.name;if(s=h,Th.call(i,"weight")&&(o=i.weight)<=0)throw Error(`Property 'weight' in key '${h}' must be a positive integer`);a=Lh(h),l=Oh(h),c=i.getFn}return{path:a,id:l,weight:o,src:s,getFn:c}}function Lh(i){return xh(i)?i:i.split(".")}function Oh(i){return xh(i)?i.join("."):i}var Ah={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(i,a)=>i.score===a.score?i.idx<a.idx?-1:1:i.score<a.score?-1:1,includeMatches:!1,findAllMatches:!1,minMatchCharLength:1,location:0,threshold:.6,distance:100,useExtendedSearch:!1,getFn:function(i,a){let l=[],s=!1,o=(i,a,c)=>{if(Eh(i)){if(a[c]){let u=i[a[c]];if(Eh(u)){if(c===a.length-1&&(wh(u)||Ch(u)||kh(u))){var d;l.push(null==(d=u)?"":function(i){if("string"==typeof i)return i;let a=i+"";return"0"==a&&1/i==-1/0?"-0":a}(d))}else if(xh(u)){s=!0;for(let h=0,e_=u.length;h<e_;h+=1)o(u[h],a,c+1)}else a.length&&o(u,a,c+1)}}else l.push(i)}};return o(i,wh(a)?a.split("."):a,0),s?l:l[0]},ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};let Ph=/[^ ]+/g;class Rh{constructor({getFn:i=Ah.getFn,fieldNormWeight:a=Ah.fieldNormWeight}={}){this.norm=function(i=1,a=3){let l=new Map,s=Math.pow(10,a);return{get(a){let o=a.match(Ph).length;if(l.has(o))return l.get(o);let c=parseFloat(Math.round(1/Math.pow(o,.5*i)*s)/s);return l.set(o,c),c},clear(){l.clear()}}}(a,3),this.getFn=i,this.isCreated=!1,this.setIndexRecords()}setSources(i=[]){this.docs=i}setIndexRecords(i=[]){this.records=i}setKeys(i=[]){this.keys=i,this._keysMap={},i.forEach((i,a)=>{this._keysMap[i.id]=a})}create(){!this.isCreated&&this.docs.length&&(this.isCreated=!0,wh(this.docs[0])?this.docs.forEach((i,a)=>{this._addString(i,a)}):this.docs.forEach((i,a)=>{this._addObject(i,a)}),this.norm.clear())}add(i){let a=this.size();wh(i)?this._addString(i,a):this._addObject(i,a)}removeAt(i){this.records.splice(i,1);for(let a=i,l=this.size();a<l;a+=1)this.records[a].i-=1}getValueForItemAtKeyId(i,a){return i[this._keysMap[a]]}size(){return this.records.length}_addString(i,a){if(!Eh(i)||jh(i))return;let l={v:i,i:a,n:this.norm.get(i)};this.records.push(l)}_addObject(i,a){let l={i:a,$:{}};this.keys.forEach((a,s)=>{let o=a.getFn?a.getFn(i):this.getFn(i,a.path);if(Eh(o)){if(xh(o)){let c=[],u=[{nestedArrIndex:-1,value:o}];for(;u.length;){let{nestedArrIndex:d,value:h}=u.pop();if(Eh(h)){if(wh(h)&&!jh(h)){let e_={v:h,i:d,n:this.norm.get(h)};c.push(e_)}else xh(h)&&h.forEach((i,a)=>{u.push({nestedArrIndex:a,value:i})})}}l.$[s]=c}else if(wh(o)&&!jh(o)){let e$={v:o,n:this.norm.get(o)};l.$[s]=e$}}}),this.records.push(l)}toJSON(){return{keys:this.keys,records:this.records}}}function Ih(i,a,{getFn:l=Ah.getFn,fieldNormWeight:s=Ah.fieldNormWeight}={}){let o=new Rh({getFn:l,fieldNormWeight:s});return o.setKeys(i.map(Mh)),o.setSources(a),o.create(),o}function Fh(i,{errors:a=0,currentLocation:l=0,expectedLocation:s=0,distance:o=Ah.distance,ignoreLocation:c=Ah.ignoreLocation}={}){let u=a/i.length;if(c)return u;let d=Math.abs(s-l);return o?u+d/o:d?1:u}let Dh=32;function $h(i,a,l,{location:s=Ah.location,distance:o=Ah.distance,threshold:c=Ah.threshold,findAllMatches:u=Ah.findAllMatches,minMatchCharLength:d=Ah.minMatchCharLength,includeMatches:h=Ah.includeMatches,ignoreLocation:e_=Ah.ignoreLocation}={}){if(a.length>32)throw Error("Pattern length exceeds max of 32.");let e$=a.length,e0=i.length,eg=Math.max(0,Math.min(s,e0)),e1=c,ev=eg,e3=d>1||h,e2=e3?Array(e0):[],e4;for(;(e4=i.indexOf(a,ev))>-1;)if(e1=Math.min(Fh(a,{currentLocation:e4,expectedLocation:eg,distance:o,ignoreLocation:e_}),e1),ev=e4+e$,e3){let ey=0;for(;ey<e$;)e2[e4+ey]=1,ey+=1}ev=-1;let e6=[],e5=1,e7=e$+e0,ex=1<<e$-1;for(let eb=0;eb<e$;eb+=1){let ew=0,eS=e7;for(;ew<eS;)Fh(a,{errors:eb,currentLocation:eg+eS,expectedLocation:eg,distance:o,ignoreLocation:e_})<=e1?ew=eS:e7=eS,eS=Math.floor((e7-ew)/2+ew);e7=eS;let eC=Math.max(1,eg-eS+1),ek=u?e0:Math.min(eg+eS,e0)+e$,eE=Array(ek+2);eE[ek+1]=(1<<eb)-1;for(let e8=ek;e8>=eC;e8-=1){let ej=e8-1,eT=l[i.charAt(ej)];if(e3&&(e2[ej]=+!!eT),eE[e8]=(eE[e8+1]<<1|1)&eT,eb&&(eE[e8]|=(e6[e8+1]|e6[e8])<<1|1|e6[e8+1]),eE[e8]&ex&&(e5=Fh(a,{errors:eb,currentLocation:ej,expectedLocation:eg,distance:o,ignoreLocation:e_}))<=e1){if(e1=e5,(ev=ej)<=eg)break;eC=Math.max(1,2*eg-ev)}}if(Fh(a,{errors:eb+1,currentLocation:eg,expectedLocation:eg,distance:o,ignoreLocation:e_})>e1)break;e6=eE}let eL={isMatch:ev>=0,score:Math.max(.001,e5)};if(e3){let eN=function(i=[],a=Ah.minMatchCharLength){let l=[],s=-1,o=-1,c=0;for(let u=i.length;c<u;c+=1){let d=i[c];d&&-1===s?s=c:d||-1===s||((o=c-1)-s+1>=a&&l.push([s,o]),s=-1)}return i[c-1]&&c-s>=a&&l.push([s,c-1]),l}(e2,d);eN.length?h&&(eL.indices=eN):eL.isMatch=!1}return eL}function zh(i){let a={};for(let l=0,s=i.length;l<s;l+=1){let o=i.charAt(l);a[o]=(a[o]||0)|1<<s-l-1}return a}class Vh{constructor(i,{location:a=Ah.location,threshold:l=Ah.threshold,distance:s=Ah.distance,includeMatches:o=Ah.includeMatches,findAllMatches:c=Ah.findAllMatches,minMatchCharLength:u=Ah.minMatchCharLength,isCaseSensitive:d=Ah.isCaseSensitive,ignoreLocation:h=Ah.ignoreLocation}={}){if(this.options={location:a,threshold:l,distance:s,includeMatches:o,findAllMatches:c,minMatchCharLength:u,isCaseSensitive:d,ignoreLocation:h},this.pattern=d?i:i.toLowerCase(),this.chunks=[],!this.pattern.length)return;let e_=(i,a)=>{this.chunks.push({pattern:i,alphabet:zh(i),startIndex:a})},e$=this.pattern.length;if(e$>32){let e0=0,eg=e$%32,e1=e$-eg;for(;e0<e1;)e_(this.pattern.substr(e0,32),e0),e0+=32;if(eg){let ev=e$-32;e_(this.pattern.substr(ev),ev)}}else e_(this.pattern,0)}searchIn(i){let{isCaseSensitive:a,includeMatches:l}=this.options;if(a||(i=i.toLowerCase()),this.pattern===i){let s={isMatch:!0,score:0};return l&&(s.indices=[[0,i.length-1]]),s}let{location:o,distance:c,threshold:u,findAllMatches:d,minMatchCharLength:h,ignoreLocation:e_}=this.options,e$=[],e0=0,eg=!1;this.chunks.forEach(({pattern:a,alphabet:s,startIndex:e1})=>{let{isMatch:ev,score:e3,indices:e2}=$h(i,a,s,{location:o+e1,distance:c,threshold:u,findAllMatches:d,minMatchCharLength:h,includeMatches:l,ignoreLocation:e_});ev&&(eg=!0),e0+=e3,ev&&e2&&(e$=[...e$,...e2])});let e1={isMatch:eg,score:eg?e0/this.chunks.length:1};return eg&&l&&(e1.indices=e$),e1}}class Bh{constructor(i){this.pattern=i}static isMultiMatch(i){return Hh(i,this.multiRegex)}static isSingleMatch(i){return Hh(i,this.singleRegex)}search(){}}function Hh(i,a){let l=i.match(a);return l?l[1]:null}class Uh extends Bh{constructor(i,{location:a=Ah.location,threshold:l=Ah.threshold,distance:s=Ah.distance,includeMatches:o=Ah.includeMatches,findAllMatches:c=Ah.findAllMatches,minMatchCharLength:u=Ah.minMatchCharLength,isCaseSensitive:d=Ah.isCaseSensitive,ignoreLocation:h=Ah.ignoreLocation}={}){super(i),this._bitapSearch=new Vh(i,{location:a,threshold:l,distance:s,includeMatches:o,findAllMatches:c,minMatchCharLength:u,isCaseSensitive:d,ignoreLocation:h})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(i){return this._bitapSearch.searchIn(i)}}class Wh extends Bh{constructor(i){super(i)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(i){let a,l=0,s=[],o=this.pattern.length;for(;(a=i.indexOf(this.pattern,l))>-1;)l=a+o,s.push([a,l-1]);let c=!!s.length;return{isMatch:c,score:c?0:1,indices:s}}}let qh=[class extends Bh{constructor(i){super(i)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(i){let a=i===this.pattern;return{isMatch:a,score:a?0:1,indices:[0,this.pattern.length-1]}}},Wh,class extends Bh{constructor(i){super(i)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(i){let a=i.startsWith(this.pattern);return{isMatch:a,score:a?0:1,indices:[0,this.pattern.length-1]}}},class extends Bh{constructor(i){super(i)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(i){let a=!i.startsWith(this.pattern);return{isMatch:a,score:a?0:1,indices:[0,i.length-1]}}},class extends Bh{constructor(i){super(i)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(i){let a=!i.endsWith(this.pattern);return{isMatch:a,score:a?0:1,indices:[0,i.length-1]}}},class extends Bh{constructor(i){super(i)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(i){let a=i.endsWith(this.pattern);return{isMatch:a,score:a?0:1,indices:[i.length-this.pattern.length,i.length-1]}}},class extends Bh{constructor(i){super(i)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(i){let a=-1===i.indexOf(this.pattern);return{isMatch:a,score:a?0:1,indices:[0,i.length-1]}}},Uh],Gh=qh.length,Zh=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,Qh=new Set([Uh.type,Wh.type]);class Kh{constructor(i,{isCaseSensitive:a=Ah.isCaseSensitive,includeMatches:l=Ah.includeMatches,minMatchCharLength:s=Ah.minMatchCharLength,ignoreLocation:o=Ah.ignoreLocation,findAllMatches:c=Ah.findAllMatches,location:u=Ah.location,threshold:d=Ah.threshold,distance:h=Ah.distance}={}){this.query=null,this.options={isCaseSensitive:a,includeMatches:l,minMatchCharLength:s,findAllMatches:c,ignoreLocation:o,location:u,threshold:d,distance:h},this.pattern=a?i:i.toLowerCase(),this.query=function(i,a={}){return i.split("|").map(i=>{let l=i.trim().split(Zh).filter(i=>i&&!!i.trim()),s=[];for(let o=0,c=l.length;o<c;o+=1){let u=l[o],d=!1,h=-1;for(;!d&&++h<Gh;){let e_=qh[h],e$=e_.isMultiMatch(u);e$&&(s.push(new e_(e$,a)),d=!0)}if(!d)for(h=-1;++h<Gh;){let e0=qh[h],eg=e0.isSingleMatch(u);if(eg){s.push(new e0(eg,a));break}}}return s})}(this.pattern,this.options)}static condition(i,a){return a.useExtendedSearch}searchIn(i){let a=this.query;if(!a)return{isMatch:!1,score:1};let{includeMatches:l,isCaseSensitive:s}=this.options;i=s?i:i.toLowerCase();let o=0,c=[],u=0;for(let d=0,h=a.length;d<h;d+=1){let e_=a[d];c.length=0,o=0;for(let e$=0,e0=e_.length;e$<e0;e$+=1){let eg=e_[e$],{isMatch:e1,indices:ev,score:e3}=eg.search(i);if(!e1){u=0,o=0,c.length=0;break}if(o+=1,u+=e3,l){let e2=eg.constructor.type;Qh.has(e2)?c=[...c,...ev]:c.push(ev)}}if(o){let e4={isMatch:!0,score:u/o};return l&&(e4.indices=c),e4}}return{isMatch:!1,score:1}}}let Yh=[];function Xh(i,a){for(let l=0,s=Yh.length;l<s;l+=1){let o=Yh[l];if(o.condition(i,a))return new o(i,a)}return new Vh(i,a)}let Jh="$and",ef="$or",tf="$path",nf="$val",rf=i=>!(!i[Jh]&&!i.$or),of=i=>({[Jh]:Object.keys(i).map(a=>({[a]:i[a]}))});function sf(i,a,{auto:l=!0}={}){let s=i=>{var o,c,u;let d=Object.keys(i),h=!!i[tf];if(!h&&d.length>1&&!rf(i))return s(of(i));if(!xh(c=i)&&Sh(c)&&!rf(c)){let e_=h?i[tf]:d[0],e$=h?i.$val:i[e_];if(!wh(e$))throw Error(`Invalid value for key ${e_}`);let e0={keyId:Oh(e_),pattern:e$};return l&&(e0.searcher=Xh(e$,a)),e0}let eg={children:[],operator:d[0]};return d.forEach(a=>{let l=i[a];xh(l)&&l.forEach(i=>{eg.children.push(s(i))})}),eg};return rf(i)||(i=of(i)),s(i)}function af(i,a){let l=i.matches;a.matches=[],Eh(l)&&l.forEach(i=>{if(!Eh(i.indices)||!i.indices.length)return;let{indices:l,value:s}=i,o={indices:l,value:s};i.key&&(o.key=i.key.src),i.idx>-1&&(o.refIndex=i.idx),a.matches.push(o)})}function lf(i,a){a.score=i.score}class cf{constructor(i,a={},l){this.options={...Ah,...a},this.options.useExtendedSearch,this._keyStore=new Nh(this.options.keys),this.setCollection(i,l)}setCollection(i,a){if(this._docs=i,a&&!(a instanceof Rh))throw Error("Incorrect 'index' type");this._myIndex=a||Ih(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(i){Eh(i)&&(this._docs.push(i),this._myIndex.add(i))}remove(i=()=>!1){let a=[];for(let l=0,s=this._docs.length;l<s;l+=1){let o=this._docs[l];i(o,l)&&(this.removeAt(l),l-=1,s-=1,a.push(o))}return a}removeAt(i){this._docs.splice(i,1),this._myIndex.removeAt(i)}getIndex(){return this._myIndex}search(i,{limit:a=-1}={}){let{includeMatches:l,includeScore:s,shouldSort:o,sortFn:c,ignoreFieldNorm:u}=this.options,d=wh(i)?wh(this._docs[0])?this._searchStringList(i):this._searchObjectList(i):this._searchLogical(i);return function(i,{ignoreFieldNorm:a=Ah.ignoreFieldNorm}){i.forEach(i=>{let l=1;i.matches.forEach(({key:i,norm:s,score:o})=>{let c=i?i.weight:null;l*=Math.pow(0===o&&c?Number.EPSILON:o,(c||1)*(a?1:s))}),i.score=l})}(d,{ignoreFieldNorm:u}),o&&d.sort(c),Ch(a)&&a>-1&&(d=d.slice(0,a)),function(i,a,{includeMatches:l=Ah.includeMatches,includeScore:s=Ah.includeScore}={}){let o=[];return l&&o.push(af),s&&o.push(lf),i.map(i=>{let{idx:l}=i,s={item:a[l],refIndex:l};return o.length&&o.forEach(a=>{a(i,s)}),s})}(d,this._docs,{includeMatches:l,includeScore:s})}_searchStringList(i){let a=Xh(i,this.options),{records:l}=this._myIndex,s=[];return l.forEach(({v:i,i:l,n:o})=>{if(!Eh(i))return;let{isMatch:c,score:u,indices:d}=a.searchIn(i);c&&s.push({item:i,idx:l,matches:[{score:u,value:i,norm:o,indices:d}]})}),s}_searchLogical(i){let a=sf(i,this.options),l=(i,a,s)=>{if(!i.children){let{keyId:o,searcher:c}=i,u=this._findMatches({key:this._keyStore.get(o),value:this._myIndex.getValueForItemAtKeyId(a,o),searcher:c});return u&&u.length?[{idx:s,item:a,matches:u}]:[]}let d=[];for(let h=0,e_=i.children.length;h<e_;h+=1){let e$=i.children[h],e0=l(e$,a,s);if(e0.length)d.push(...e0);else if(i.operator===Jh)return[]}return d},s=this._myIndex.records,o={},c=[];return s.forEach(({$:i,i:s})=>{if(Eh(i)){let u=l(a,i,s);u.length&&(o[s]||(o[s]={idx:s,item:i,matches:[]},c.push(o[s])),u.forEach(({matches:i})=>{o[s].matches.push(...i)}))}}),c}_searchObjectList(i){let a=Xh(i,this.options),{keys:l,records:s}=this._myIndex,o=[];return s.forEach(({$:i,i:s})=>{if(!Eh(i))return;let c=[];l.forEach((l,s)=>{c.push(...this._findMatches({key:l,value:i[s],searcher:a}))}),c.length&&o.push({idx:s,item:i,matches:c})}),o}_findMatches({key:i,value:a,searcher:l}){if(!Eh(a))return[];let s=[];if(xh(a))a.forEach(({v:a,i:o,n:c})=>{if(!Eh(a))return;let{isMatch:u,score:d,indices:h}=l.searchIn(a);u&&s.push({score:d,key:i,value:a,idx:o,norm:c,indices:h})});else{let{v:o,n:c}=a,{isMatch:u,score:d,indices:h}=l.searchIn(o);u&&s.push({score:d,key:i,value:o,norm:c,indices:h})}return s}}function uf({id:a,overlayBackLink:l}){var s,o;let c=Xa(a),u=On(i=>{var a;return null==(a=i.caption.selected)?void 0:a.id}),[d,h]=i.useState(null),{selectCaptionById:e_}=xi(),e$=On(i=>i.captionList),e0=On(i=>{var a;return null==(a=i.display)?void 0:a.getCaptionList}),eg=i.useMemo(()=>0!==e$.length?e$:(null==e0?void 0:e0())??[],[e$,e0]),[e1,ev]=i.useState(""),e3=(s=eg.filter(i=>!i.opensubtitles),o=e1,i.useMemo(()=>{let i=s.map(i=>({...i,languageName:i.language})),a=i.map(i=>i.language),l=i.sort((i,l)=>a.indexOf(i.language)-a.indexOf(l.language));return o.trim().length>0&&(l=new cf(i,{includeScore:!0,keys:["languageName"]}).search(o).map(i=>i.item)),l},[s,o])),[e2,e4]=Si(async i=>(h(i),e_(i)),[e_,h]),ey=e3.length?e3.map(i=>S.jsx(ah,{countryCode:i.language,selected:i.id===u,loading:i.id===d&&e2.loading,error:i.id===d&&e2.error?e2.error.toString():void 0,onClick:()=>e4(i.id),children:i.languageName},i.id)):"Not Found";return S.jsxs(S.Fragment,{children:[S.jsx("div",{children:S.jsx(Xd.BackLink,{onClick:()=>c.navigate(l?"/captionsOverlay":"/captions"),children:"Source Captions"})}),e$.filter(i=>!i.opensubtitles).length?S.jsx("div",{className:"mt-3",children:S.jsx(uh,{value:e1,onInput:ev})}):null,S.jsx(Xd.ScrollToActiveSection,{className:"!pt-1 mt-2 pb-3",children:e$.filter(i=>!i.opensubtitles).length?S.jsx("div",{className:"text-center",children:ey}):S.jsx("div",{className:"p-4 rounded-xl bg-video-context-light bg-opacity-10 font-medium text-center",children:S.jsxs("div",{className:"flex flex-col items-center text-muted-foreground justify-center gap-3",children:["There are no provided subtitles for this.",S.jsx("button",{type:"button",onClick:()=>c.navigate(l?"/captions/opensubtitlesOverlay":"/captions/opensubtitles"),className:"p-1 w-3/4 rounded-xl tabbable duration-200 bg-opacity-10 bg-muted-foreground hover:bg-opacity-20",children:"Scrape subtitles"})]})})})]})}function df({id:a}){let l=Xa(a),s=On(i=>i.meta),o=On(i=>i.progress.time),c=On(i=>i.sourceId),u=On(i=>i.setSourceId),d=On(i=>i.setSource),h=i.useMemo(()=>(null==s?void 0:s.type)?qi():[],[null==s?void 0:s.type]);return S.jsxs(S.Fragment,{children:[S.jsx(Xd.BackLink,{onClick:()=>l.navigate("/"),children:"Servers"}),S.jsx(Xd.Section,{className:"pb-4",children:h.map(i=>S.jsx(Zd,{onClick(){(async i=>{u(i);let a=qi(),l=await (null==window?void 0:window.fetchSauce({servers:a},i,!1));l&&d({type:(null==l?void 0:l.format)??"hls",url:null==l.source?void 0:l.source,qualities:null==l.qualities?void 0:l.qualities},mi(null==l?void 0:l.subtitles),o)})(i.name)},selected:i.name===c,children:S.jsx("span",{className:"uppercase",children:i.name})},i.name))})]})}function hf({id:i}){return S.jsx(tl,{id:i,children:S.jsxs(Vd,{id:i,children:[S.jsx(nl,{id:i,path:"/",width:343,height:381,children:S.jsx(bh,{id:i})}),S.jsx(nl,{id:i,path:"/quality",width:343,height:445,children:S.jsx(Xd.Card,{children:S.jsx(yh,{id:i})})}),S.jsx(nl,{id:i,path:"/audio",width:343,height:431,children:S.jsx(Xd.Card,{children:S.jsx(eh,{id:i})})}),S.jsx(nl,{id:i,path:"/captions",width:343,height:431,children:S.jsx(Xd.CardWithScrollable,{children:S.jsx(ch,{id:i,backLink:!0})})}),S.jsx(nl,{id:i,path:"/captionsOverlay",width:343,height:431,children:S.jsx(Xd.CardWithScrollable,{children:S.jsx(ch,{id:i})})}),S.jsx(nl,{id:i,path:"/captions/opensubtitles",width:343,height:431,children:S.jsx(Xd.Card,{children:S.jsx(dh,{id:i})})}),S.jsx(nl,{id:i,path:"/captions/opensubtitlesOverlay",width:343,height:431,children:S.jsx(Xd.Card,{children:S.jsx(dh,{id:i,overlayBackLink:!0})})}),S.jsx(nl,{id:i,path:"/captions/source",width:343,height:431,children:S.jsx(Xd.Card,{children:S.jsx(uf,{id:i})})}),S.jsx(nl,{id:i,path:"/captions/sourceOverlay",width:343,height:431,children:S.jsx(Xd.Card,{children:S.jsx(uf,{id:i,overlayBackLink:!0})})}),S.jsx(nl,{id:i,path:"/captions/settings",width:343,height:450,children:S.jsx(Xd.Card,{children:S.jsx(oh,{id:i})})}),S.jsx(nl,{id:i,path:"/captions/settingsOverlay",width:343,height:450,children:S.jsx(Xd.Card,{children:S.jsx(oh,{id:i,overlayBackLink:!0})})}),S.jsx(nl,{id:i,path:"/servers",width:343,height:431,children:S.jsx(Xd.CardWithScrollable,{children:S.jsx(df,{id:i})})}),S.jsx(nl,{id:i,path:"/playback",width:343,height:343,children:S.jsx(Xd.Card,{children:S.jsx(gh,{id:i})})})]})})}function ff(){return S.jsx(hf,{id:"settings"})}function pf(){let a=Xa("settings"),l=On(i=>i.setHasOpenOverlay);return i.useEffect(()=>{l(a.isRouterActive)},[l,a.isRouterActive]),S.jsx(Ko,{id:a.id,children:S.jsx(Qi,{onClick:()=>a.open(),icon:S.jsx(uo,{size:30})})})}function mf(){let i=On(i=>i.interface.canAirplay),a=On(i=>i.display);return i?S.jsx(Qi,{onClick:()=>null==a?void 0:a.startAirplay(),icon:S.jsx(no,{size:30})}):null}function gf(){let i=Pn(),a=On(i=>i.mediaPlaying.volume);return S.jsx(qa,{animation:"slide-down",show:i.showVolume,className:"absolute inset-x-0 top-4 flex justify-center pointer-events-none",children:S.jsxs(Fd,{className:"hover:flare-enabled pointer-events-auto bg-video-context-background pl-4 pr-6 py-3 group w-72 h-full rounded-lg transition-colors text-video-context-type-main",children:[S.jsx(Dd,{enabled:!0,flareSize:200,cssColorVar:"--colors-video-context-light",backgroundClass:"bg-video-context-background duration-100",className:"rounded-lg"}),S.jsxs($d,{className:"grid grid-cols-[auto,1fr] gap-3 pointer-events-auto relative transition-transform",children:[S.jsx(Fi,{className:"text-2xl",icon:a>0?Pi.VOLUME:Pi.VOLUME_X}),S.jsx("div",{className:"w-full flex items-center",children:S.jsx("div",{className:"w-full h-1.5 rounded-full bg-video-context-slider bg-opacity-25",children:S.jsx("div",{className:"h-full bg-video-context-sliderFilled rounded-full transition-[width] duration-100",style:{width:100*a+"%"}})})})]})]})})}function vf(a){let[l,s]=i.useState(!1),o=On(i=>i.interface.isCasting),c=i.useRef(null),u=i.useCallback(i=>{let a=(i.getAttribute("style")??"").includes("inline");s(!a)},[s]);return i.useEffect(()=>{var i;let a=null==(i=c.current)?void 0:i.querySelector("google-cast-launcher");if(!a)return;let l=new MutationObserver(()=>{u(a)});return l.observe(a,{attributes:!0,attributeFilter:["style"]}),u(a),()=>{l.disconnect()}},[u]),S.jsx(Qi,{ref:c,className:[a.className??"","google-cast-button",o?"casting":"",l?"hidden":""].join(" "),icon:Pi.CASTING,onClick(i){let a=i.querySelector("google-cast-launcher");a&&a.click()}})}function yf(){let i=On(i=>i.mediaPlaying.isLoading),a=On(i=>i.display),l="casting"===(null==a?void 0:a.getType());return i||!l?null:S.jsxs("div",{className:"flex flex-col items-center justify-center gap-4",children:[S.jsx("div",{className:"rounded-full bg-opacity-10 bg-video-buttonBackground p-3 brightness-100 grayscale",children:S.jsx(Fi,{icon:Pi.CASTING})}),S.jsx("p",{className:"text-center",children:"Casting to device \uD83C\uDFAC"})]})}function bf(){let a=Xa("settings"),l=On(i=>i.setHasOpenOverlay);return i.useEffect(()=>{l(a.isRouterActive)},[l,a.isRouterActive]),S.jsx(Ko,{id:a.id,children:S.jsx(Qi,{onClick(){a.open(),a.navigate("/captionsOverlay")},icon:S.jsx(to,{size:32}),className:`${a.route.includes("captionsOverlay")&&"opacity-50"}`})})}function xf({selectedSeason:i,setSeason:a}){let l=On(i=>i.meta),s=null;return l&&(null==l?void 0:l.seasons)&&(s=S.jsx(Xd.Section,{className:"pb-6",children:null==l?void 0:l.seasons.map(l=>S.jsx(Xd.ChevronLink,{onClick:()=>a(l.id),children:S.jsx("span",{"aria-label":i,children:`Season ${l.seasonNumber}`})},l.id))})),S.jsxs(Xd.CardWithScrollable,{children:[S.jsx(Xd.Title,{rightSide:S.jsx("span",{className:"text-muted-foreground text-sm",children:`S${null==l?void 0:l.currentSeason}-E${null==l?void 0:l.currentEpisode}`}),children:S.jsx("p",{className:"truncate max-w-52",children:(null==l?void 0:l.title)??"Loading..."})}),s]})}function wf({id:a,selectedSeason:l,goBack:s,onChange:o}){let c=Xa(a),{setPlayerMeta:u}=Ci(),d=On(i=>i.meta);ge();let{id:h}=ve();if(!d||!(null==d?void 0:d.seasons)||0===(null==d?void 0:d.seasons.length))return null;let e_=d.seasons.find(i=>i.id===l),e$=i.useCallback(i=>{e_&&(location.href=`/embed/tv/${h}/${e_.seasonNumber}/${i.episodeNumber}`),c.close(!0)},[u,c,o]);if(!(null==d?void 0:d.id))return null;let e0=null;return e_&&e_.episodes&&(e0=S.jsxs(Xd.ScrollToActiveSection,{className:"pb-6",children:[0===e_.episodes.length?S.jsx(Xd.TextDisplay,{title:"No episodes found",children:"There are no episodes in this season, check back later (sorry :3)..."}):null,e_.episodes.map(i=>S.jsx(Xd.Link,{onClick(){e_.seasonNumber===d.currentSeason&&i.episodeNumber===d.currentEpisode||e$(i)},active:e_.seasonNumber===d.currentSeason&&i.episodeNumber===d.currentEpisode,clickable:!0,children:S.jsx(Xd.LinkTitle,{children:S.jsxs("div",{className:Ai("text-left flex items-center space-x-3 text-video-context-type-main"),children:[S.jsx("span",{className:Ai("p-0.5 px-2 rounded inline bg-video-context-hoverColor",e_.seasonNumber===d.currentSeason&&i.episodeNumber!==d.currentEpisode?"text-white bg-opacity-100":"bg-opacity-50"),children:`E${i.episodeNumber}`}),S.jsx("span",{className:"line-clamp-1 break-all",children:i.title})]})})},i.episodeId))]})),S.jsxs(Xd.CardWithScrollable,{children:[S.jsx(Xd.BackLink,{onClick:s,rightSide:S.jsx("span",{children:`Season ${null==e_?void 0:e_.seasonNumber}`}),children:"Seasons"}),e0]})}function Cf({id:a,onChange:l}){var s;let o=Xa(a),c=On(i=>i.meta),[u,d]=i.useState(""),h=i.useRef(!1),e_=null==(s=null==c?void 0:c.seasons)?void 0:s.find(i=>i.seasonNumber===(c.currentSeason??1));i.useEffect(()=>{h.current!==o.isRouterActive&&(h.current=o.isRouterActive,d((null==e_?void 0:e_.id)??""))},[c,u,d,o.isRouterActive]);let e$=i.useCallback(i=>{d(i),o.navigate("/episodes")},[o]);return S.jsx(tl,{id:a,children:S.jsxs(Vd,{id:a,children:[S.jsx(nl,{id:a,path:"/",width:343,height:431,children:S.jsx(xf,{setSeason:e$,selectedSeason:u})}),S.jsx(nl,{id:a,path:"/episodes",width:343,height:431,children:u.length>0?S.jsx(wf,{selectedSeason:u,id:a,goBack:()=>o.navigate("/"),onChange:l}):null})]})})}function kf(i){return S.jsx(Cf,{onChange:i.onChange,id:"episodes"})}function Sf(){let a=Xa("episodes"),l=On(i=>i.setHasOpenOverlay),s=On(i=>{var a;return null==(a=i.meta)?void 0:a.type});return i.useEffect(()=>{l(a.isRouterActive)},[l,a.isRouterActive]),"tv"!==s?null:S.jsx(Ko,{id:a.id,children:S.jsx(Qi,{onClick:()=>a.open("/episodes"),icon:S.jsx(ro,{size:26})})})}cf.version="7.0.0",cf.createIndex=Ih,cf.parseIndex=function(i,{getFn:a=Ah.getFn,fieldNormWeight:l=Ah.fieldNormWeight}={}){let{keys:s,records:o}=i,c=new Rh({getFn:a,fieldNormWeight:l});return c.setKeys(s),c.setIndexRecords(o),c},cf.config=Ah,cf.parseQuery=sf,function(...i){Yh.push(...i)}(Kh);let Ef={1:{name:"MEDIA_ERR_ABORTED",key:"player.playbackError.errors.errorAborted"},2:{name:"MEDIA_ERR_NETWORK",key:"player.playbackError.errors.errorNetwork"},3:{name:"MEDIA_ERR_DECODE",key:"player.playbackError.errors.errorDecode"},4:{name:"MEDIA_ERR_SRC_NOT_SUPPORTED",key:"player.playbackError.errors.errorNotSupported"}};function jf(i){let a=new URL(i);for(let[l,s]of[])if(a.hostname.endsWith(l))return a.hostname=s,a.port="",a.protocol="https://",a.toString();return i}function _f(){let i={};return{on(a,l){var s;i[a]||(i[a]=[]),null==(s=i[a])||s.push(l)},off(a,l){var s;i[a]=(null==(s=i[a])?void 0:s.filter(i=>i!==l))??[]},emit(a,l){(i[a]??[]).forEach(i=>i(l))}}}let Tf={360:"360",1080:"1080",720:"720",480:"480"};function Nf(i){return Tf[(null==i?void 0:i.height)??0]??null}function Mf(){let{emit:i,on:a,off:l}=_f(),s=null,o=null,c=null,u=null,d=!1,e_=!1,e$=!1,e0=0,eg=!1,e1=null,ev=1,e3=new Map;function e2(){if(c&&Mo(c)||!o)return;if(eg)o.currentLevel=-1,o.loadLevel=-1;else{let a=cn(o.levels.map(i=>Nf(i)).filter(i=>!!i),{lastChosenQuality:e1,automaticQuality:eg});if(a){let l=o.levels.findIndex(i=>i.height===function(i){let a=Object.entries(Tf).find(a=>a[1]===i);return a?+a[0]:null}(a));-1!==l&&(o.currentLevel=l,o.loadLevel=l)}}let s=Nf(o.levels[o.currentLevel]);i("changedquality",s)}function e4(){c&&s&&(function a(l,s){if(o=null,"hls"===s.type){if(Mo(l))return l.src=jf(s.url),void(l.currentTime=e0);if(!h.isSupported())throw Error("HLS not supported");return o||((o=new h({xhrSetup:function(i,a){i.withCredentials=!1},maxBufferSize:5e8,fragLoadPolicy:{default:{maxLoadTimeMs:3e4,maxTimeToFirstByteMs:3e4,errorRetry:{maxNumRetry:2,retryDelayMs:1e3,maxRetryDelayMs:8e3},timeoutRetry:{maxNumRetry:3,maxRetryDelayMs:0,retryDelayMs:0}}},renderTextTracksNatively:!1})).on(h.Events.ERROR,(a,l)=>{var o;l.fatal&&(null==s?void 0:s.url)===(null==(o=l.frag)?void 0:o.baseurl)&&i("error",{message:l.error.message,stackTrace:l.error.stack,errorName:l.error.name,type:"hls"})}),o.on(h.Events.MANIFEST_LOADED,()=>{o&&(function(){if(!o)return;let a=o.levels.map(i=>Nf(i)).filter(i=>!!i);i("qualities",a)}(),e2(),function(){if(!o)return;let a=o.audioTracks,l=null==a?void 0:a[o.audioTrack??0];l&&(i("changedaudiotrack",{id:l.id.toString(),label:l.name,language:l.lang??"unknown"}),i("audiotracks",o.audioTracks.map(i=>({id:i.id.toString(),label:i.name,language:i.lang??"unknown"}))))}())}),o.on(h.Events.LEVEL_SWITCHED,()=>{if(!o)return;let a=Nf(o.levels[o.currentLevel]);i("changedquality",a)}),o.on(h.Events.SUBTITLE_TRACK_LOADED,()=>{for(let[i,a]of e3)if(null==o?void 0:o.subtitleTracks.find(a=>a.lang===i)){a(),e3.delete(i);break}})),o.attachMedia(l),o.loadSource(jf(s.url)),void(l.currentTime=e0)}l.src=jf(s.url),l.currentTime=e0}(c,s),detectAutoplay.detectAutoplay().then(i=>{i||void 0!==c.isMuted&&c.isMuted||!c.autoplay||(c.muted=c.autoplay,c.isMuted=!0)}),c.addEventListener("play",()=>{i("play",void 0),i("loading",!1)}),c.addEventListener("error",()=>{let a=function(i){let a=Ef[(null==i?void 0:i.code)??-1];return a||{name:"MEDIA_ERR_GENERIC",key:"player.playbackError.errors.errorGenericMedia"}}((null==c?void 0:c.error)??null);i("error",{errorName:a.name,key:a.key,type:"htmlvideo"})}),c.addEventListener("playing",()=>i("play",void 0)),c.addEventListener("pause",()=>i("pause",void 0)),c.addEventListener("canplay",()=>i("loading",!1)),c.addEventListener("waiting",()=>i("loading",!0)),c.addEventListener("volumechange",()=>i("volumechange",(null==c?void 0:c.muted)?0:(null==c?void 0:c.volume)??0)),c.addEventListener("timeupdate",()=>i("time",(null==c?void 0:c.currentTime)??0)),c.addEventListener("loadedmetadata",()=>{"hls"===(null==s?void 0:s.type)&&c&&Mo(c)&&(i("qualities",["unknown"]),i("changedquality","unknown")),i("duration",(null==c?void 0:c.duration)??0)}),c.addEventListener("progress",()=>{c&&i("buffered",function(i,a){for(let l=0;l<a.length;l+=1)if(a.start(a.length-1-l)<i)return a.end(a.length-1-l);return 0}(c.currentTime,c.buffered))}),c.addEventListener("webkitendfullscreen",()=>{i("fullscreen",d=!1),d||i("needstrack",!1)}),c.addEventListener("webkitplaybacktargetavailabilitychanged",a=>{"available"===a.availability&&i("canairplay",!0)}),c.addEventListener("ratechange",()=>{c&&i("playbackrate",c.playbackRate)}))}function ey(){c&&(c.removeAttribute("src"),c.load()),o&&(o.destroy(),o=null)}function e6(){ey(),c&&(c=null)}function e5(){i("fullscreen",d=!!document.fullscreenElement||!!document.webkitFullscreenElement),d||i("needstrack",!1)}return wo.addEventListener("fullscreenchange",e5),{on:a,off:l,getType:()=>"web",destroy(){e6(),wo.removeEventListener("fullscreenchange",e5)},load(a){a.source||ey(),eg=a.automaticQuality,e1=a.preferredQuality,s=a.source,i("loading",!0),e0=a.startAt,e4()},changeQuality(i,a){"hls"===(null==s?void 0:s.type)&&(eg=i,e1=a,e2())},processVideoElement(i){e6(),c=i,e4(),this.setVolume(ev)},processContainerElement(i){u=i},setMeta(){},setCaption(){},pause(){null==c||c.pause()},play(){null==c||c.play()},setSeeking(i){i!==e$&&(e$=i,i?(e_=(null==c?void 0:c.paused)??!0,this.pause()):e_||this.play())},setTime(a){if(!c)return;let l=Math.min(a,c.duration);Number.isNaN(l=Math.max(0,l))||(i("time",l),c.currentTime=l)},async setVolume(a){let l=Math.min(a,1);l=Math.max(0,l),ev=a,c&&(c.muted=0===l,await So()?c.volume=l:i("volumechange",0===l?0:1))},toggleFullscreen(){d?(i("fullscreen",d=!1),i("needstrack",!1),!wo.fullscreenElement||wo.exitFullscreen()):(i("fullscreen",d=!0),_o()&&!wo.fullscreenElement&&(Eo()?u&&wo.requestFullscreen(u):jo()&&c&&(i("needstrack",!0),c.webkitEnterFullscreen())))},togglePictureInPicture(){if(c){if(No()){let i=c;i.webkitSetPresentationMode("picture-in-picture"===i.webkitPresentationMode?"inline":"picture-in-picture")}To()&&(c!==document.pictureInPictureElement?c.requestPictureInPicture():document.exitPictureInPicture())}},startAirplay(){let i=c;i&&i.webkitShowPlaybackTargetPicker&&i.webkitShowPlaybackTargetPicker()},setPlaybackRate(i){c&&(c.playbackRate=i)},getCaptionList:()=>(null==o?void 0:o.subtitleTracks.map(i=>({id:i.id.toString(),language:i.lang??"unknown",url:i.url,needsProxy:!1,hls:!0})))??[],getSubtitleTracks:()=>(null==o?void 0:o.subtitleTracks)??[],async setSubtitlePreference(i){let a=null==o?void 0:o.subtitleTracks.find(a=>a.lang===i);if(void 0!==(null==a?void 0:a.details))return Promise.resolve();let l=new Promise((a,l)=>{e3.set(i,a),setTimeout(()=>{l(),e3.delete(i)},5e3)});return null==o||o.setSubtitleOption({lang:i}),l},changeAudioTrack(a){if(!o)return;let l=null==o?void 0:o.audioTracks.find(i=>i.id.toString()===a.id);l&&(o.audioTrack=o.audioTracks.indexOf(l),i("changedaudiotrack",{id:l.id.toString(),label:l.name,language:l.lang??"unknown"}))}}}var Lf=((e=Lf||{}).MOVIE="movie",e.SERIES="series",e.ANIME="anime",e);function Of(i){let{emit:a,on:l,off:s}=_f(),o=!1,c=1,u=null,d=null,h=null,e_=!1,e$=!1,e0=!1,eg=0,e1={title:"",type:Lf.MOVIE};function ev(){d&&u&&function(){var a;if(!u)return void(null==(a=i.controller)||a.stop());let l="video/mp4";"hls"===u.type&&(l="application/x-mpegurl");let s=new chrome.cast.media.GenericMediaMetadata;s.title=e1.title;let o=new chrome.cast.media.MediaInfo("video",l);o.contentUrl=jf(u.url),o.streamType=chrome.cast.media.StreamType.BUFFERED,o.metadata=s,o.customData={playbackRate:c};let d=new chrome.cast.media.LoadRequest(o);if(d.autoplay=!0,d.currentTime=eg,"hls"===u.type){let h=chrome.cast.media,e_=d.media;e_.hlsSegmentFormat=h.HlsSegmentFormat.FMP4,e_.hlsVideoSegmentFormat=h.HlsVideoSegmentFormat.FMP4}let e$=i.instance.getCurrentSession();null==e$||e$.loadMedia(d)}()}function e3(){d&&(d=null)}function e2(){a("fullscreen",e_=!!document.fullscreenElement||!!document.webkitFullscreenElement),e_||a("needstrack",!1)}wo.addEventListener("fullscreenchange",e2);let e4=function(){var l;let s=async i=>{switch(i.field){case"volumeLevel":await So()&&a("volumechange",i.value);break;case"currentTime":a("time",i.value);break;case"duration":a("duration",i.value??0);break;case"mediaInfo":i.value&&a("duration",i.value.duration??0);break;case"playerState":a("loading","BUFFERING"===i.value),"PLAYING"===i.value?a("play",void 0):"PAUSED"===i.value&&a("pause",void 0),o="PAUSED"===i.value;break;case"isMuted":a("volumechange",i.value?1:0)}};return null==(l=i.controller)||l.addEventListener(cast.framework.RemotePlayerEventType.ANY_CHANGE,s),()=>{var a;null==(a=i.controller)||a.removeEventListener(cast.framework.RemotePlayerEventType.ANY_CHANGE,s)}}();return{on:l,off:s,getType:()=>"casting",destroy(){e4(),e3(),wo.removeEventListener("fullscreenchange",e2)},load(i){u=i.source,a("loading",!0),eg=i.startAt,ev()},changeQuality(){},setCaption(i){ev()},processVideoElement(i){e3(),d=i,ev()},processContainerElement(i){h=i},setMeta(i){e1=i,ev()},pause(){o||(i.controller.playOrPause(),o=!0)},play(){o&&(i.controller.playOrPause(),o=!1)},setSeeking(i){i!==e0&&(e0=i,i?(e$=o??!0,this.pause()):e$||this.play())},setTime(l){if(!d)return;let s=Math.min(l,i.player.duration);Number.isNaN(s=Math.max(0,s))||(a("time",s),i.player.currentTime=s,i.controller.seek())},async setVolume(l){let s=Math.min(l,1);s=Math.max(0,s),await So()?(i.player.volumeLevel=s,i.controller.setVolumeLevel(),a("volumechange",s)):a("volumechange",0===s?0:1)},toggleFullscreen(){e_?(a("fullscreen",e_=!1),a("needstrack",!1),!wo.fullscreenElement||wo.exitFullscreen()):(a("fullscreen",e_=!0),_o()&&!wo.fullscreenElement&&Eo()&&h&&wo.requestFullscreen(h))},togglePictureInPicture(){},startAirplay(){},setPlaybackRate(i){c=i,ev()},getCaptionList:()=>[],getSubtitleTracks:()=>[],setSubtitlePreference:async()=>Promise.resolve(),changeAudioTrack(){}}}let Af=[],Pf=null;function Rf(){let[a,l]=i.useState(null);return i.useEffect(()=>{!function(i){if(null!==Pf)return i(Pf);Af.push(i)}(i=>l(i))},[]),a}function If(){let a=On(i=>i.casting.setInstance),l=On(i=>i.casting.setController),s=On(i=>i.casting.setPlayer),o=On(i=>i.casting.setIsCasting),c=On(i=>i.interface.isCasting),u=On(i=>{var a;return null==(a=i.caption)?void 0:a.selected}),d=On(i=>i.setDisplay),h=On(i=>i.redisplaySource),e_=Rf(),e$=On(i=>i.display),e0=On(i=>i.casting.controller),eg=On(i=>i.casting.player),e1=On(i=>i.casting.instance),ev=On(i=>i.progress.time),e3=On(i=>{var a;return null==(a=i.meta)?void 0:a.title}),e2=On(i=>{var a;return null==(a=i.meta)?void 0:a.type}),e4=i.useRef({controller:e0,player:eg,instance:e1,time:ev,metaTitle:e3,metaType:e2,caption:u});return i.useEffect(()=>{e4.current={controller:e0,player:eg,instance:e1,time:ev,metaTitle:e3,metaType:e2,caption:u}},[e0,eg,e1,ev,e3,e2,u]),i.useEffect(()=>{if(c){if(e4.current.controller&&e4.current.instance&&e4.current.player){let i=Of({controller:e4.current.controller,instance:e4.current.instance,player:e4.current.player});i.setMeta({title:e4.current.metaTitle??"",type:"movie"===e4.current.metaType?Lf.MOVIE:Lf.SERIES}),i.setCaption(e4.current.caption),d(i),h(e4.current.time??0)}}else{let a=Mf();d(a),h(e4.current.time??0)}},[c,d,h]),i.useEffect(()=>{null==e$||e$.setMeta({title:e4.current.metaTitle??"",type:"movie"===e4.current.metaType?Lf.MOVIE:Lf.SERIES})},[e3,e2,e$]),i.useEffect(()=>{if(!e_)return;let i=cast.framework.CastContext.getInstance();a(i),i.setOptions({receiverApplicationId:chrome.cast.media.DEFAULT_MEDIA_RECEIVER_APP_ID,autoJoinPolicy:chrome.cast.AutoJoinPolicy.ORIGIN_SCOPED});let c=new cast.framework.RemotePlayer;s(c);let u=new cast.framework.RemotePlayerController(c);function d(i){"isConnected"===i.field&&o(i.value)}return l(u),u.addEventListener(cast.framework.RemotePlayerEventType.IS_CONNECTED_CHANGED,d),()=>{u.removeEventListener(cast.framework.RemotePlayerEventType.IS_CONNECTED_CHANGED,d)}},[e_,s,l,a,o]),null}var Ff="undefined"!=typeof Element,Df="function"==typeof Map,$f="function"==typeof Set,zf="function"==typeof ArrayBuffer&&!!ArrayBuffer.isView;function Vf(i,a){if(i===a)return!0;if(i&&a&&"object"==typeof i&&"object"==typeof a){var l,s,o,c;if(i.constructor!==a.constructor)return!1;if(Array.isArray(i)){if((l=i.length)!=a.length)return!1;for(s=l;0!=s--;)if(!Vf(i[s],a[s]))return!1;return!0}if(Df&&i instanceof Map&&a instanceof Map){if(i.size!==a.size)return!1;for(c=i.entries();!(s=c.next()).done;)if(!a.has(s.value[0]))return!1;for(c=i.entries();!(s=c.next()).done;)if(!Vf(s.value[1],a.get(s.value[0])))return!1;return!0}if($f&&i instanceof Set&&a instanceof Set){if(i.size!==a.size)return!1;for(c=i.entries();!(s=c.next()).done;)if(!a.has(s.value[0]))return!1;return!0}if(zf&&ArrayBuffer.isView(i)&&ArrayBuffer.isView(a)){if((l=i.length)!=a.length)return!1;for(s=l;0!=s--;)if(i[s]!==a[s])return!1;return!0}if(i.constructor===RegExp)return i.source===a.source&&i.flags===a.flags;if(i.valueOf!==Object.prototype.valueOf&&"function"==typeof i.valueOf&&"function"==typeof a.valueOf)return i.valueOf()===a.valueOf();if(i.toString!==Object.prototype.toString&&"function"==typeof i.toString&&"function"==typeof a.toString)return i.toString()===a.toString();if((l=(o=Object.keys(i)).length)!==Object.keys(a).length)return!1;for(s=l;0!=s--;)if(!Object.prototype.hasOwnProperty.call(a,o[s]))return!1;if(Ff&&i instanceof Element)return!1;for(s=l;0!=s--;)if(("_owner"!==o[s]&&"__v"!==o[s]&&"__o"!==o[s]||!i.$$typeof)&&!Vf(i[o[s]],a[o[s]]))return!1;return!0}return i!=i&&a!=a}var Bf=function(i,a){try{return Vf(i,a)}catch(l){if((l.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw l}};let Hf=l(Bf);var Uf=function(i,a,l,s,o,c,u,d){if(!i){var h;if(void 0===a)h=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var e_=[l,s,o,c,u,d],e$=0;(h=Error(a.replace(/%s/g,function(){return e_[e$++]}))).name="Invariant Violation"}throw h.framesToPop=1,h}};let Wf=l(Uf),qf=l(function(i,a,l,s){var o=l?l.call(s,i,a):void 0;if(void 0!==o)return!!o;if(i===a)return!0;if("object"!=typeof i||!i||"object"!=typeof a||!a)return!1;var c=Object.keys(i),u=Object.keys(a);if(c.length!==u.length)return!1;for(var d=Object.prototype.hasOwnProperty.bind(a),h=0;h<c.length;h++){var e_=c[h];if(!d(e_))return!1;var e$=i[e_],e0=a[e_];if(!1===(o=l?l.call(s,e$,e0,e_):void 0)||void 0===o&&e$!==e0)return!1}return!0});var Gf=((e=Gf||{}).BASE="base",e.BODY="body",e.HEAD="head",e.HTML="html",e.LINK="link",e.META="meta",e.NOSCRIPT="noscript",e.SCRIPT="script",e.STYLE="style",e.TITLE="title",e.FRAGMENT="Symbol(react.fragment)",e),Zf={rel:["amphtml","canonical","alternate"]},Qf={type:["application/ld+json"]},Kf={charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]},Yf=Object.values(Gf),Xf={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},Jf=Object.entries(Xf).reduce((i,[a,l])=>(i[l]=a,i),{}),ep="data-rh",tp="defaultTitle",np="defer",rp="encodeSpecialCharacters",ip="onChangeClientState",op="titleTemplate",sp="prioritizeSeoTags",ap=(i,a)=>{for(let l=i.length-1;l>=0;l-=1){let s=i[l];if(Object.prototype.hasOwnProperty.call(s,a))return s[a]}return null},lp=i=>{let a=ap(i,"title"),l=ap(i,op);if(Array.isArray(a)&&(a=a.join("")),l&&a)return l.replace(/%s/g,()=>a);let s=ap(i,tp);return a||s||void 0},cp=i=>ap(i,ip)||(()=>{}),up=(i,a)=>a.filter(a=>void 0!==a[i]).map(a=>a[i]).reduce((i,a)=>({...i,...a}),{}),dp=(i,a)=>a.filter(i=>void 0!==i.base).map(i=>i.base).reverse().reduce((a,l)=>{if(!a.length){let s=Object.keys(l);for(let o=0;o<s.length;o+=1){let c=s[o].toLowerCase();if(-1!==i.indexOf(c)&&l[c])return a.concat(l)}}return a},[]),hp=(i,a,l)=>{let s={};return l.filter(a=>{var l;return!!Array.isArray(a[i])||(void 0!==a[i]&&(l=`Helmet: ${i} should be of type "Array". Instead found type "${typeof a[i]}"`,console&&"function"==typeof console.warn&&console.warn(l)),!1)}).map(a=>a[i]).reverse().reduce((i,l)=>{let o={};l.filter(i=>{let l,c=Object.keys(i);for(let u=0;u<c.length;u+=1){let d=c[u],h=d.toLowerCase();-1===a.indexOf(h)||"rel"===l&&"canonical"===i[l].toLowerCase()||"rel"===h&&"stylesheet"===i[h].toLowerCase()||(l=h),-1===a.indexOf(d)||"innerHTML"!==d&&"cssText"!==d&&"itemprop"!==d||(l=d)}if(!l||!i[l])return!1;let e_=i[l].toLowerCase();return s[l]||(s[l]={}),o[l]||(o[l]={}),!s[l][e_]&&(o[l][e_]=!0,!0)}).reverse().forEach(a=>i.push(a));let c=Object.keys(o);for(let u=0;u<c.length;u+=1){let d=c[u],h={...s[d],...o[d]};s[d]=h}return i},[]).reverse()},fp=(i,a)=>{if(Array.isArray(i)&&i.length){for(let l=0;l<i.length;l+=1)if(i[l][a])return!0}return!1},pp=i=>Array.isArray(i)?i.join(""):i,mp=(i,a)=>Array.isArray(i)?i.reduce((i,l)=>(((i,a)=>{let l=Object.keys(i);for(let s=0;s<l.length;s+=1)if(a[l[s]]&&a[l[s]].includes(i[l[s]]))return!0;return!1})(l,a)?i.priority.push(l):i.default.push(l),i),{priority:[],default:[]}):{default:i,priority:[]},gp=(i,a)=>({...i,[a]:void 0}),vp=["noscript","script","style"],yp=(i,a=!0)=>!1===a?String(i):String(i).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),bp=i=>Object.keys(i).reduce((a,l)=>{let s=void 0!==i[l]?`${l}="${i[l]}"`:`${l}`;return a?`${a} ${s}`:s},""),xp=(i,a={})=>Object.keys(i).reduce((a,l)=>(a[Xf[l]||l]=i[l],a),a),wp=(i,a)=>a.map((a,l)=>{let o={key:l,[ep]:!0};return Object.keys(a).forEach(i=>{let l=Xf[i]||i;if("innerHTML"===l||"cssText"===l){let s=a.innerHTML||a.cssText;o.dangerouslySetInnerHTML={__html:s}}else o[l]=a[i]}),s.createElement(i,o)}),Cp=(i,a,l=!0)=>{switch(i){case"title":return{toComponent:()=>((i,a,l)=>{let o=xp(l,{key:a,[ep]:!0});return[s.createElement("title",o,a)]})(0,a.title,a.titleAttributes),toString:()=>((i,a,l,s)=>{let o=bp(l),c=pp(a);return o?`<${i} ${ep}="true" ${o}>${yp(c,s)}</${i}>`:`<${i} ${ep}="true">${yp(c,s)}</${i}>`})(i,a.title,a.titleAttributes,l)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>xp(a),toString:()=>bp(a)};default:return{toComponent:()=>wp(i,a),toString:()=>((i,a,l=!0)=>a.reduce((a,s)=>{let o=s,c=Object.keys(o).filter(i=>!("innerHTML"===i||"cssText"===i)).reduce((i,a)=>{let s=void 0===o[a]?a:`${a}="${yp(o[a],l)}"`;return i?`${i} ${s}`:s},""),u=o.innerHTML||o.cssText||"",d=-1===vp.indexOf(i);return`${a}<${i} ${ep}="true" ${c}${d?"/>":`>${u}</${i}>`}`},""))(i,a,l)}}},kp=i=>{let{baseTag:a,bodyAttributes:l,encode:s=!0,htmlAttributes:o,noscriptTags:c,styleTags:u,title:d="",titleAttributes:h,prioritizeSeoTags:e_}=i,{linkTags:e$,metaTags:e0,scriptTags:eg}=i,e1={toComponent(){},toString:()=>""};return e_&&({priorityMethods:e1,linkTags:e$,metaTags:e0,scriptTags:eg}=(({metaTags:i,linkTags:a,scriptTags:l,encode:s})=>{let o=mp(i,Kf),c=mp(a,Zf),u=mp(l,Qf);return{priorityMethods:{toComponent:()=>[...wp("meta",o.priority),...wp("link",c.priority),...wp("script",u.priority)],toString:()=>`${Cp("meta",o.priority,s)} ${Cp("link",c.priority,s)} ${Cp("script",u.priority,s)}`},metaTags:o.default,linkTags:c.default,scriptTags:u.default}})(i)),{priority:e1,base:Cp("base",a,s),bodyAttributes:Cp("bodyAttributes",l,s),htmlAttributes:Cp("htmlAttributes",o,s),link:Cp("link",e$,s),meta:Cp("meta",e0,s),noscript:Cp("noscript",c,s),script:Cp("script",eg,s),style:Cp("style",u,s),title:Cp("title",{title:d,titleAttributes:h},s)}},Sp=[],Ep=!("undefined"==typeof window||!window.document||!window.document.createElement),jp=class{constructor(i,a){r(this,"instances",[]),r(this,"canUseDOM",Ep),r(this,"context"),r(this,"value",{setHelmet:i=>{this.context.helmet=i},helmetInstances:{get:()=>this.canUseDOM?Sp:this.instances,add:i=>{(this.canUseDOM?Sp:this.instances).push(i)},remove:i=>{let a=(this.canUseDOM?Sp:this.instances).indexOf(i);(this.canUseDOM?Sp:this.instances).splice(a,1)}}}),this.context=i,this.canUseDOM=a||!1,a||(i.helmet=kp({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},_p=s.createContext({}),Tp=(e=class extends i.Component{constructor(i){super(i),r(this,"helmetData"),this.helmetData=new jp(this.props.context||{},e.canUseDOM)}render(){return s.createElement(_p.Provider,{value:this.helmetData.value},this.props.children)}},r(e,"canUseDOM",Ep),e),Np=(i,a)=>{let l=document.head||document.querySelector("head"),s=l.querySelectorAll(`${i}[${ep}]`),o=[].slice.call(s),c=[],u;return a&&a.length&&a.forEach(a=>{let l=document.createElement(i);for(let s in a)if(Object.prototype.hasOwnProperty.call(a,s)){if("innerHTML"===s)l.innerHTML=a.innerHTML;else if("cssText"===s)l.styleSheet?l.styleSheet.cssText=a.cssText:l.appendChild(document.createTextNode(a.cssText));else{let d=s,h=void 0===a[d]?"":a[d];l.setAttribute(s,h)}}l.setAttribute(ep,"true"),o.some((i,a)=>(u=a,l.isEqualNode(i)))?o.splice(u,1):c.push(l)}),o.forEach(i=>{var a;return null==(a=i.parentNode)?void 0:a.removeChild(i)}),c.forEach(i=>l.appendChild(i)),{oldTags:o,newTags:c}},Mp=(i,a)=>{let l=document.getElementsByTagName(i)[0];if(!l)return;let s=l.getAttribute(ep),o=s?s.split(","):[],c=[...o],u=Object.keys(a);for(let d of u){let h=a[d]||"";l.getAttribute(d)!==h&&l.setAttribute(d,h),-1===o.indexOf(d)&&o.push(d);let e_=c.indexOf(d);-1!==e_&&c.splice(e_,1)}for(let e$=c.length-1;e$>=0;e$-=1)l.removeAttribute(c[e$]);o.length===c.length?l.removeAttribute(ep):l.getAttribute(ep)!==u.join(",")&&l.setAttribute(ep,u.join(","))},Lp=(i,a)=>{let{baseTag:l,bodyAttributes:s,htmlAttributes:o,linkTags:c,metaTags:u,noscriptTags:d,onChangeClientState:h,scriptTags:e_,styleTags:e$,title:e0,titleAttributes:eg}=i;Mp("body",s),Mp("html",o),((i,a)=>{void 0!==i&&document.title!==i&&(document.title=pp(i)),Mp("title",a)})(e0,eg);let e1={baseTag:Np("base",l),linkTags:Np("link",c),metaTags:Np("meta",u),noscriptTags:Np("noscript",d),scriptTags:Np("script",e_),styleTags:Np("style",e$)},ev={},e3={};Object.keys(e1).forEach(i=>{let{newTags:a,oldTags:l}=e1[i];a.length&&(ev[i]=a),l.length&&(e3[i]=e1[i].oldTags)}),a&&a(),h(i,ev,e3)},Op=null,Ap=i=>{Op&&cancelAnimationFrame(Op),i.defer?Op=requestAnimationFrame(()=>{Lp(i,()=>{Op=null})}):(Lp(i),Op=null)},Pp=class extends i.Component{constructor(){super(...arguments),r(this,"rendered",!1)}shouldComponentUpdate(i){return!qf(i,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){let{helmetInstances:i}=this.props.context;i.remove(this),this.emitChange()}emitChange(){var i;let{helmetInstances:a,setHelmet:l}=this.props.context,s=null,o={baseTag:dp(["href"],i=a.get().map(i=>{let a={...i.props};return delete a.context,a})),bodyAttributes:up("bodyAttributes",i),defer:ap(i,np),encode:ap(i,rp),htmlAttributes:up("htmlAttributes",i),linkTags:hp("link",["rel","href"],i),metaTags:hp("meta",["name","charset","http-equiv","property","itemprop"],i),noscriptTags:hp("noscript",["innerHTML"],i),onChangeClientState:cp(i),scriptTags:hp("script",["src","innerHTML"],i),styleTags:hp("style",["cssText"],i),title:lp(i),titleAttributes:up("titleAttributes",i),prioritizeSeoTags:fp(i,sp)};Tp.canUseDOM?Ap(o):kp&&(s=kp(o)),l(s)}init(){if(this.rendered)return;this.rendered=!0;let{helmetInstances:i}=this.props.context;i.add(this),this.emitChange()}render(){return this.init(),null}},Rp=(t=class extends i.Component{shouldComponentUpdate(i){return!Hf(gp(this.props,"helmetData"),gp(i,"helmetData"))}mapNestedChildrenToProps(i,a){if(!a)return null;switch(i.type){case"script":case"noscript":return{innerHTML:a};case"style":return{cssText:a};default:throw Error(`<${i.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(i,a,l,s){return{...a,[i.type]:[...a[i.type]||[],{...l,...this.mapNestedChildrenToProps(i,s)}]}}mapObjectTypeChildren(i,a,l,s){switch(i.type){case"title":return{...a,[i.type]:s,titleAttributes:{...l}};case"body":return{...a,bodyAttributes:{...l}};case"html":return{...a,htmlAttributes:{...l}};default:return{...a,[i.type]:{...l}}}}mapArrayTypeChildrenToProps(i,a){let l={...a};return Object.keys(i).forEach(a=>{l={...l,[a]:i[a]}}),l}warnOnInvalidChildren(i,a){return Wf(Yf.some(a=>i.type===a),"function"==typeof i.type?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${Yf.join(", ")} are allowed. Helmet does not support rendering <${i.type}> elements. Refer to our API for more information.`),Wf(!a||"string"==typeof a||Array.isArray(a)&&!a.some(i=>"string"!=typeof i),`Helmet expects a string as a child of <${i.type}>. Did you forget to wrap your children in braces? ( <${i.type}>{\`\`}</${i.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(i,a){let l={};return s.Children.forEach(i,i=>{if(!i||!i.props)return;let{children:s,...o}=i.props,c=Object.keys(o).reduce((i,a)=>(i[Jf[a]||a]=o[a],i),{}),{type:u}=i;switch("symbol"==typeof u?u=u.toString():this.warnOnInvalidChildren(i,s),u){case"Symbol(react.fragment)":a=this.mapChildrenToProps(s,a);break;case"link":case"meta":case"noscript":case"script":case"style":l=this.flattenArrayTypeChildren(i,l,c,s);break;default:a=this.mapObjectTypeChildren(i,a,c,s)}}),this.mapArrayTypeChildrenToProps(l,a)}render(){let{children:i,...a}=this.props,l={...a},{helmetData:o}=a;return i&&(l=this.mapChildrenToProps(i,l)),!o||o instanceof jp||(o=new jp(o.context,!0),delete l.helmetData),o?s.createElement(Pp,{...l,context:o.value}):s.createElement(_p.Consumer,null,i=>s.createElement(Pp,{...l,context:i}))}},r(t,"defaultProps",{defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1}),t);function Ip(){let i=On(i=>i.meta);if(!i)return null;if("tv"!==i.type)return S.jsx(Rp,{children:S.jsx("title",{children:i.title})});let a=`S${i.currentSeason} - E${i.currentEpisode}`;return S.jsx(Rp,{children:S.jsxs("title",{children:[i.title," - ",a]})})}function Fp(){let a=Xa(""),l=On(i=>i.display),s=On(i=>i.progress),{isSeeking:o}=On(i=>i.interface),c=On(i=>i.mediaPlaying),u=On(i=>i.progress.time),{setVolume:d,toggleMute:h}=qo(),{toggleLastUsed:e_}=xi(),e$=Pn(i=>i.setShowVolume),[e0,eg]=i.useState(!1),e1=i.useRef(),ev=i.useRef({setShowVolume:e$,setVolume:d,toggleMute:h,setIsRolling:eg,toggleLastUsed:e_,display:l,mediaPlaying:c,mediaProgress:s,isSeeking:o,isRolling:e0,time:u,router:a});return i.useEffect(()=>{ev.current={setShowVolume:e$,setVolume:d,toggleMute:h,setIsRolling:eg,toggleLastUsed:e_,display:l,mediaPlaying:c,mediaProgress:s,isSeeking:o,isRolling:e0,time:u,router:a}},[e$,d,h,eg,e_,l,c,s,o,e0,u,a]),i.useEffect(()=>{let i=i=>{var a,l,s,o,c,u,d,h,e_,e$,e0,eg,e3,e2,e4;if(i.target&&"INPUT"===i.target.nodeName)return;let ey=i.key,e6=i.key.toLowerCase();if(["ArrowUp","ArrowDown","m","M"].includes(ey)&&(ev.current.setShowVolume(!0),e1.current&&clearTimeout(e1.current),e1.current=setTimeout(()=>{ev.current.setShowVolume(!1)},3e3)),"ArrowUp"===ey&&ev.current.setVolume(((null==(a=ev.current.mediaPlaying)?void 0:a.volume)||0)+.15),"ArrowDown"===ey&&ev.current.setVolume(((null==(l=ev.current.mediaPlaying)?void 0:l.volume)||0)-.15),"m"===e6&&ev.current.toggleMute(),">"===ey||"<"===ey){let e5=[.25,.5,1,1.5,2],e7=e5.indexOf(null==(s=ev.current.mediaPlaying)?void 0:s.playbackRate);-1===e7&&(e7=e5.indexOf(1));let ex=e5[e7+(">"===ey?1:-1)];ex&&(null==(o=ev.current.display)||o.setPlaybackRate(ex))}if("ArrowRight"===ey&&(null==(c=ev.current.display)||c.setTime(ev.current.time+5)),"ArrowLeft"===ey&&(null==(u=ev.current.display)||u.setTime(ev.current.time-5)),"j"===e6&&(null==(d=ev.current.display)||d.setTime(ev.current.time-10)),"l"===e6&&(null==(h=ev.current.display)||h.setTime(ev.current.time+10)),"."===ey&&(null==(e_=ev.current.mediaPlaying)?void 0:e_.isPaused)&&(null==(e$=ev.current.display)||e$.setTime(ev.current.time+1)),","===ey&&(null==(e0=ev.current.mediaPlaying)?void 0:e0.isPaused)&&(null==(eg=ev.current.display)||eg.setTime(ev.current.time-1)),"f"===e6&&(null==(e3=ev.current.display)||e3.toggleFullscreen())," "===ey||"k"===e6){if(i.target&&"BUTTON"===i.target.nodeName)return;let eb=ev.current.mediaPlaying.isPaused?"play":"pause";null==(e2=ev.current.display)||e2[eb]()}if("Escape"===ey&&ev.current.router.close(),"c"===e6&&ev.current.toggleLastUsed().catch(()=>{}),"r"===e6){if(ev.current.isRolling||i.ctrlKey||i.metaKey)return;ev.current.setIsRolling(!0),null==(e4=document.querySelector(".popout-location"))||e4.classList.add("roll"),document.body.setAttribute("data-no-scroll","true"),setTimeout(()=>{var i;null==(i=document.querySelector(".popout-location"))||i.classList.remove("roll"),document.body.removeAttribute("data-no-scroll"),ev.current.setIsRolling(!1)},1e3)}};return window.addEventListener("keydown",i),()=>{window.removeEventListener("keydown",i)}},[]),null}function Dp(){var a,l,s,o,c;let u=i.useRef(!1),d=i.useRef(0),h=On.getState(),e_=i.useCallback(i=>{"function"==typeof navigator.mediaSession.setPositionState&&(i>h.progress.buffered&&(u.current=!0),i>h.progress.duration||(d.current=h.progress.time,navigator.mediaSession.setPositionState({duration:h.progress.duration,playbackRate:h.mediaPlaying.playbackRate,position:i})))},[h.mediaPlaying.playbackRate,h.progress.buffered,h.progress.duration,h.progress.time]);return i.useEffect(()=>{"mediaSession"in navigator&&(h.mediaPlaying.isPaused?navigator.mediaSession.playbackState="paused":navigator.mediaSession.playbackState="playing")},[h.mediaPlaying.isPaused]),i.useEffect(()=>{"mediaSession"in navigator&&e_(h.progress.time)},[h.progress.time,h.mediaPlaying.playbackRate,e_]),i.useEffect(()=>{"mediaSession"in navigator&&(!u.current&&h.mediaPlaying.isLoading&&(u.current=!0),!(Math.abs(h.progress.time-d.current)>=5)||h.mediaPlaying.isLoading||u.current||(u.current=!0),u.current&&!h.mediaPlaying.isLoading&&(u.current=!1,e_(h.progress.time)),d.current=h.progress.time)},[e_,h.progress.time,h.mediaPlaying.isLoading]),i.useEffect(()=>{var i,a,l,s,o,c,u;if(!("mediaSession"in navigator)||!h.mediaPlaying.isLoading&&h.mediaPlaying.isPlaying&&!h.display)return;let d,e$;"movie"===(null==(i=h.meta)?void 0:i.type)?d=null==(a=h.meta)?void 0:a.title:"tv"===(null==(l=h.meta)?void 0:l.type)&&(e$=null==(s=h.meta)?void 0:s.title,d=`S${null==(o=h.meta)?void 0:o.currentSeason} E${null==(c=h.meta)?void 0:c.currentEpisode}`),navigator.mediaSession.metadata=new MediaMetadata({title:d,artist:e$,artwork:[{src:(null==(u=h.meta)?void 0:u.poster)??"",sizes:"342x513",type:"image/png"}]}),navigator.mediaSession.setActionHandler("play",()=>{var i;h.mediaPlaying.isLoading||(null==(i=h.display)||i.play(),e_(h.progress.time))}),navigator.mediaSession.setActionHandler("pause",()=>{var i;h.mediaPlaying.isLoading||(null==(i=h.display)||i.pause(),e_(h.progress.time))}),navigator.mediaSession.setActionHandler("seekto",i=>{var a;i.seekTime&&(null==(a=h.display)||a.setTime(i.seekTime),e_(i.seekTime))})},[e_,h.mediaPlaying.hasPlayedOnce,h.mediaPlaying.isLoading,h.progress.duration,h.progress.time,null==(a=h.meta)?void 0:a.currentEpisode,h.display,h.mediaPlaying,null==(l=h.meta)?void 0:l.title,null==(s=h.meta)?void 0:s.type,null==(o=h.meta)?void 0:o.poster,null==(c=h.meta)?void 0:c.currentSeason]),null}let $p=mt(bn(sn(i=>({items:{},removeItem(a){i(i=>{delete i.items[a]})},replaceItems(a){i(i=>{i.items=a})},updateItem({meta:a,progress:l}){i(i=>{i.items[a.id]||(i.items[a.id]={type:a.type,updatedAt:Date.now(),title:a.title,dateAdded:a.dateAdded,poster:a.poster,watchId:a.watchId});let s=i.items[a.id];s.updatedAt=Date.now(),s.progress||(s.progress={duration:0,watched:0}),(a.currentEpisode||a.currentSeason)&&(s.currentEpisode=a.currentEpisode,s.currentSeason=a.currentSeason),s.progress={...l}})},clear(){i(i=>{i.items={}})}})),{name:"embed::progress"}));function zp(){var a,l,s;let o=On(i=>i.meta),c=On(i=>i.progress),u=$p(i=>i.updateItem),d=On(i=>i.status),h=On(i=>i.mediaPlaying.hasPlayedOnce),e_=i.useRef(null),e$=i.useRef({updateItem:u,meta:o,progress:c,status:d,hasPlayedOnce:h});return i.useEffect(()=>{e$.current.updateItem=u,e$.current.meta=o,e$.current.progress=c,e$.current.status=d,e$.current.hasPlayedOnce=h},[u,c,o,d,h]),a=()=>{var i,a;let l=e$.current;if(!l.progress||!l.meta||!l.updateItem||l.status!==Cn||!h)return;let s=!1;e_.current&&(null==(i=e_.current)?void 0:i.duration)===c.duration&&(null==(a=e_.current)?void 0:a.watched)===c.time||(s=!0),e_.current={duration:c.duration,watched:c.time},s&&l.updateItem({meta:{...l.meta},progress:e_.current})},l=3e3,s=i.useRef(function(){}),i.useEffect(function(){s.current=a}),i.useEffect(function(){var i=setInterval(function(){return s.current()},l);return function(){return clearInterval(i)}},[l]),null}class Vp{constructor(i){this.videoEl=null,this.canvasEl=null,this.hls=null,this.cb=i.addImage,this.interrupted=!1}start(i){if(Co)return!1;let a=document.createElement("video");a.setAttribute("muted","true");let l=document.createElement("canvas");if(this.hls=new h,"mp4"===i.type)a.src=jf(i.url),a.crossOrigin="anonymous";else{if("hls"!==i.type)throw Error("Invalid loadable source type");this.hls.attachMedia(a),this.hls.loadSource(jf(i.url))}this.videoEl=a,this.canvasEl=l,this.begin().catch(i=>console.error(i))}destroy(){var i,a;this.interrupted=!0,this.videoEl=null,this.canvasEl=null,null==(i=this.hls)||i.detachMedia(),null==(a=this.hls)||a.destroy(),this.hls=null}async initVideo(){this.videoEl&&this.canvasEl&&(await new Promise((i,a)=>{var l,s;null==(l=this.videoEl)||l.addEventListener("loadedmetadata",i),null==(s=this.videoEl)||s.addEventListener("error",a)}),this.videoEl&&this.canvasEl&&(this.canvasEl.height=this.videoEl.videoHeight,this.canvasEl.width=this.videoEl.videoWidth))}async takeSnapshot(i){if(!this.videoEl||!this.canvasEl||(this.videoEl.currentTime=i,await new Promise(i=>{var a;let l=()=>{var a;null==(a=this.videoEl)||a.removeEventListener("seeked",l),i(null)};null==(a=this.videoEl)||a.addEventListener("seeked",l)}),!this.videoEl||!this.canvasEl))return;let a=this.canvasEl.getContext("2d");if(!a)return;a.drawImage(this.videoEl,0,0,this.canvasEl.width,this.canvasEl.height);let l=this.canvasEl.toDataURL();this.interrupted||"data:,"!==l&&l&&this.cb({at:i,data:l})}async begin(){let i=this.videoEl;if(!i)return;await this.initVideo();let a=function(i){let a=[0,1],l=.5,s=0;for(let o=0;o<6;o+=1){let c=1/l-1;for(let u=0;u<c-s;u+=1){let d=u*l*2;a.push(d+l)}s=c,l/=2}return a}(6);for(let l=0;l<a.length;l+=1){if(this.interrupted)return;await this.takeSnapshot(i.duration*a[l])}}}function Bp(){let a=On(i=>i.thumbnails.addImage),l=On(i=>i.status),s=On(i=>i.thumbnails.resetImages),o=On(i=>i.meta),c=On(i=>i.source),u=hh(i=>i.enableThumbnails),d=i.useRef(null),h=JSON.stringify(c),e_=i.useCallback(()=>{let i=null;if(c&&(i=un(c,{automaticQuality:!1,lastChosenQuality:"360"})),d.current||l!==Cn||!i)return;s();let o=new Vp({addImage:a});d.current=o,o.start(i.stream)},[c,a,s,l]),e$=i.useRef(e_);i.useEffect(()=>{e$.current=e_},[e_,l]),i.useEffect(()=>{u&&e$.current()},[h,u]),i.useEffect(()=>()=>{d.current&&(d.current.destroy(),d.current=null)},[]);let e0=JSON.stringify({id:null==o?void 0:o.id,ep:null==o?void 0:o.currentEpisode,se:null==o?void 0:o.currentSeason});return i.useEffect(()=>{d.current&&(d.current.destroy(),d.current=null),u&&e$.current()},[e0,h,l,u]),null}let Hp=()=>(ve(),De(),i.useEffect(()=>(window.addEventListener("message",Up),()=>window.removeEventListener("message",Up))),""),Up=({type:i,data:a})=>{};function Wp(){return On(i=>i.status)===Cn}function qp(){let a=i.useRef(null),l=i.useRef(null),s=On(i=>i.display),o=hh(i=>i.enableAutoplay),c=On(i=>{var a;return null==(a=i.caption.selected)?void 0:a.srtData}),u=On(i=>i.caption.asTrack),d=On(i=>{var a;return null==(a=i.caption.selected)?void 0:a.language}),h=On(i=>{var a;return null==(a=i.meta)?void 0:a.poster}),{displayGain:e_}=fh(),e$=i.useRef(null),e0=(i.useRef(null),i.useRef(null)),eg=function(a,l){let s=i.useRef(null),o=i.useMemo(()=>{s.current&&URL.revokeObjectURL(s.current);let i=a();return s.current=i,i},l);return i.useEffect(()=>()=>{s.current&&URL.revokeObjectURL(s.current)},[]),o}(()=>{var i;return c?(i=c,URL.createObjectURL(new Blob([fi(i)],{type:"text/vtt"}))):null},[c]);i.useEffect(()=>{s&&a.current&&s.processVideoElement(a.current)},[s,a]),i.useEffect(()=>{e0.current&&e$.current&&e0.current.gain.setValueAtTime(e_<=1?e_:1+3*(e_-1),e$.current.currentTime)},[e_]),i.useEffect(()=>{l.current&&(l.current.track.mode="showing")},[l]);let e1=null;return u&&eg&&d&&(e1=S.jsx("track",{label:"movie-web",kind:"subtitles",srcLang:d,src:eg,default:!0})),S.jsx("video",{ref:a,className:"absolute inset-0 w-full h-screen bg-black object-contain",poster:h,autoPlay:o,playsInline:!0,onTimeUpdate(i){var a,l,s,o;(null==(a=null==i?void 0:i.target)?void 0:a.currentTime)>5&&!isNaN(null==(l=null==i?void 0:i.target)?void 0:l.duration)&&(({type:i,data:a})=>{window.parent.postMessage(JSON.stringify({channel:"vidcloud",event:i,time:a.currentTime,duration:a.duration,percent:a.currentTime/a.duration*100}),"*"),a.currentTime==a.duration&&window.parent.postMessage(JSON.stringify({channel:"vidcloud",event:"complete"}),"*")})({type:"time",data:{currentTime:null==(s=null==i?void 0:i.target)?void 0:s.currentTime,duration:null==(o=null==i?void 0:i.target)?void 0:o.duration}})},children:e1})}function Gp(){let a=Wp();return function(){let a=On(i=>i.display),l=On(i=>i.setDisplay),s=i.useRef(a);i.useEffect(()=>{s.current=a},[a]),i.useEffect(()=>{if(!s.current){let i=Mf();s.current=i,l(i)}return()=>{s.current&&(s.current=null,l(null))}},[l])}(),function(){let a=On(i=>i.source),l=i.useMemo(()=>a?JSON.stringify(a):null,[a]),{selectLastUsedLanguageIfEnabled:s}=xi(),o=i.useRef(s);i.useEffect(()=>{o.current=s},[s]),i.useEffect(()=>{l&&o.current()},[l])}(),a?S.jsx(qp,{}):null}function Zp(a){var l,s,o,c,u,d,h,e_,e$;let e0=Wp(),eg=On(i=>i.display),e1=On(i=>i.mediaPlaying.isPaused),ev=On(i=>i.updateInterfaceHovering),e3=On(i=>i.interface.hovering),[e2,e4,ey]=(l=()=>{ev(_n.NOT_HOVERING)},s=3e3,o=i.useRef(!1),c=i.useRef(),u=i.useRef(l),d=i.useCallback(function(){return o.current},[]),h=i.useCallback(function(){o.current=!1,c.current&&clearTimeout(c.current),c.current=setTimeout(function(){o.current=!0,u.current()},s)},[s]),e_=i.useCallback(function(){o.current=null,c.current&&clearTimeout(c.current)},[]),i.useEffect(function(){u.current=l},[l]),i.useEffect(function(){return h(),e_},[s]),[d,e_,h]);e$=()=>{e4()},i.useEffect(e$,[]);let e6=i.useCallback(()=>{null==eg||eg.toggleFullscreen()},[eg]),e5=i.useCallback(i=>{if("mouse"!==i.pointerType)e3!==_n.MOBILE_TAPPED?(ev(_n.MOBILE_TAPPED),ey()):(ev(_n.NOT_HOVERING),e4());else{if(0!==i.button)return;e1?null==eg||eg.play():null==eg||eg.pause()}},[eg,e1,e3,ev,ey,e4]);return e0?S.jsx("div",{className:Ai("absolute inset-0",{"cursor-pointer":a.showingControls,"absolute inset-0":!0,"cursor-none":!a.showingControls}),onDoubleClick:e6,onPointerUp:e5}):null}function Qp(a){let l=i.useRef(null),s=On(i=>i.display);return function(a){let l=i.useRef(null),s=On(i=>i.updateInterfaceHovering),o=On(i=>i.interface.hovering);i.useEffect(()=>{if(!a.current)return;let i=a.current;function o(i){"mouse"===i.pointerType&&(s(_n.MOUSE_HOVER),l.current&&clearTimeout(l.current),l.current=setTimeout(()=>{s(_n.NOT_HOVERING),l.current=null},3e3))}function c(i){"mouse"===i.pointerType&&(s(_n.NOT_HOVERING),l.current&&clearTimeout(l.current))}return i.addEventListener("pointermove",o),i.addEventListener("pointerleave",c),()=>{i.removeEventListener("pointermove",o),i.removeEventListener("pointerleave",c)}},[a,o,s])}(l),i.useEffect(()=>{s&&l.current&&s.processContainerElement(l.current)},[s,l]),S.jsx("div",{ref:l,children:S.jsx(Ja,{children:S.jsx("div",{className:"h-screen select-none",children:a.children})})})}function Kp(a){let l=i.useRef(a.onLoad);return i.useEffect(()=>{var i;null==(i=l.current)||i.call(l)},[]),S.jsx("div",{className:"relative",children:S.jsxs(Qp,{children:[S.jsx(Bp,{}),S.jsx(If,{}),S.jsx(Gp,{}),S.jsx(zp,{}),S.jsx(Fp,{}),S.jsx(Dp,{}),S.jsxs("div",{className:"relative h-screen overflow-hidden",children:[S.jsx(Zp,{showingControls:a.showingControls}),S.jsx(Ip,{}),a.children]})]})})}let Yp=mt(sn(i=>({banners:[],isOnline:!0,isTurnstile:!1,location:null,ignoredBannerIds:[],updateOnline(a){i(i=>{i.isOnline=a})},updateTurnstile(a){i(i=>{i.isTurnstile=a})},setLocation(a){i(i=>{i.location=a})},showBanner(a){i(i=>{i.banners.find(i=>i.id===a)||i.ignoredBannerIds.includes(a)||i.banners.push({id:a,height:0})})},hideBanner(a,l=!1){i(i=>{l&&i.ignoredBannerIds.push(a),i.banners=i.banners.filter(i=>i.id!==a)})},updateHeight(a,l){i(i=>{let s=i.banners.find(i=>i.id===a);s&&(s.height=l)})}})));function Xp(a){let[l]=function(a){let[l,{height:s}]=Mi(),o=Yp(i=>i.updateHeight),c=Yp(i=>i.showBanner),u=Yp(i=>i.hideBanner);return i.useEffect(()=>(c(a),()=>{u(a)}),[c,u,a]),i.useEffect(()=>{o(a,s)},[s,a,o]),[l]}(a.id),s=Yp(i=>i.hideBanner),o={error:Pi.CIRCLE_EXCLAMATION,info:Pi.CIRCLE_EXCLAMATION};return i.useEffect(()=>{sessionStorage.getItem("hideBanner")&&s(a.id,!0)},[s,a.id]),S.jsx("div",{ref:l,children:S.jsxs("div",{className:[{error:"bg-[#C93957] text-white",info:"bg-[#126FD3] text-white"}[a.type],"flex items-center justify-center p-1"].join(" "),children:[S.jsxs("div",{className:"flex items-center space-x-3",children:[S.jsx(Fi,{icon:o[a.type]}),S.jsx("div",{children:a.children})]}),S.jsx("span",{className:"absolute right-4 hover:cursor-pointer",onClick(){s(a.id,!0),sessionStorage.setItem("hideBanner","true")},children:S.jsx(Fi,{icon:Pi.X})})]})})}function Jp(a){let l=Yp(i=>i.isOnline),s=Yp(i=>i.setLocation),o=Yp(i=>i.ignoredBannerIds),c=Yp(i=>i.location),u=a.location??null;return(i.useEffect(()=>{if(u)return s(u),()=>{s(null)}},[s,u]),c!==u)?null:sessionStorage.getItem("hideBanner")?null:S.jsx("div",{children:l||o.includes("offline")?null:S.jsx(Xp,{id:"offline",type:"error",children:"Check your internet connection, silly goose! \uD83E\uDDA2"})})}function em(a){let l=function(i){let a=Yp(i=>i.banners),l=Yp(i=>i.location),s=a.reduce((i,a)=>i+a.height,0);return i!==l?0:s}("player"),s=On(i=>i.setHoveringAnyControls);return i.useEffect(()=>()=>{s(!1)},[s]),S.jsxs("div",{className:"w-full text-white",children:[S.jsx(qa,{animation:"fade",show:a.show,style:{top:`${l}px`},className:"pointer-events-none flex justify-end pb-20 sm:pb-32 bg-gradient-to-b from-black/90 sm:from-black/90 to-transparent [margin-bottom:env(safe-area-inset-bottom)] transition-opacity duration-200 absolute top-0 w-full"}),S.jsx("div",{className:"relative z-10",children:S.jsx(Jp,{location:"player"})}),S.jsx("div",{onMouseOver:()=>s(!0),onMouseOut:()=>s(!1),className:"pointer-events-auto px-2 sm:pl-[calc(2rem+env(safe-area-inset-left))] sm:pr-[calc(2rem+env(safe-area-inset-right))] sm:pt-3 md:pt-5 lg:pt-6 absolute top-0 w-full",style:{top:`${l}px`},children:S.jsx(qa,{animation:"slide-down",show:a.show,className:"text-white",children:a.children})})]})}function tm(i){return S.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none [&>*]:pointer-events-auto",children:i.children})}function nm(a){let l=On(i=>i.setHoveringAnyControls);return i.useEffect(()=>()=>{l(!1)},[l]),S.jsxs("div",{className:"w-full text-white",children:[S.jsx(qa,{animation:"fade",show:a.show,className:"pointer-events-none flex justify-end pt-20 sm:pt-32 bg-gradient-to-t from-black/90 sm:from-black/90 to-transparent transition-opacity duration-200 absolute bottom-0 w-full"}),S.jsx("div",{onMouseOver:()=>l(!0),onMouseOut:()=>l(!1),className:"pointer-events-auto z-10 px-3 sm:pl-[calc(2rem+env(safe-area-inset-left))] sm:pr-[calc(2rem+env(safe-area-inset-right))] sm:pb-3 mb-[env(safe-area-inset-bottom)] absolute bottom-0 w-full",children:S.jsx(qa,{animation:"slide-up",show:a.show,children:a.children})})]})}function rm(i){return S.jsx(qa,{animation:"fade",show:i.show,className:"absolute inset-0 size-full bg-black/20 pointer-events-none"})}function im(a){let l=On(i=>i.setHoveringLeftControls),s=i.useCallback(()=>{l(!1)},[l]);return i.useEffect(()=>()=>{l(!1)},[l]),S.jsx("div",{className:Ai(["flex space-x-3 items-center",a.className]),onMouseLeave:s,children:a.children})}function om(i){return S.jsx(qa,{animation:"fade",show:i.show,className:"pointer-events-none",children:S.jsx("div",{className:Ai(["absolute inset-0 flex space-x-6 items-center justify-center pointer-events-none [&>*]:pointer-events-auto",i.className]),children:i.children})})}let sm={i:"I"};function am({text:a,styling:l,overrideCasing:s}){let o=i.useMemo(()=>{let i=a;s&&a&&(i=a.slice(0,1)+a.slice(1).toLowerCase());let l=(i||"").split(" ").map(i=>sm[i]??i).join(" ").replace(/ i'/g," I'").replace(/\r?\n/g,"<br />");return hi(l,{ALLOWED_TAGS:["c","b","i","u","span","ruby","rt","br"],ADD_TAGS:["v","lang"],ALLOWED_ATTR:["title","lang"]})},[a,s]);return S.jsx("p",{className:"pointer-events-none mb-1 select-none rounded px-4 py-1 text-center leading-normal [text-shadow:0_2px_4px_rgba(0,0,0,0.5)]",style:{color:l.color,fontSize:`${(1.5*l.size).toFixed(2)}em`,backgroundColor:`rgba(0,0,0,${l.backgroundOpacity.toFixed(2)})`,backdropFilter:0!==l.backgroundBlur?`blur(${Math.floor(64*l.backgroundBlur)}px)`:"none",fontWeight:l.bold?"bold":"normal"},children:S.jsx("span",{dangerouslySetInnerHTML:{__html:o},dir:"ltr"})})}function lm(){let a=On(i=>i.progress.time),l=On(i=>{var a;return null==(a=i.caption.selected)?void 0:a.srtData}),s=On(i=>{var a;return null==(a=i.caption.selected)?void 0:a.language}),o=bi(i=>i.styling),c=bi(i=>i.overrideCasing),u=bi(i=>i.delay),d=i.useMemo(()=>l?pi(l):[],[l,s]),h=i.useMemo(()=>d.filter(({start:i,end:l})=>{var s,o,c,d;return s=i,o=l,c=u,Math.max(0,s/1e3+c)<=(d=a)&&Math.max(0,o/1e3+c)>=d}),[d,a,u]);return S.jsx("div",{children:h.map(({start:i,end:a,content:l},s)=>{var u,d,h;return S.jsx(am,{text:l,styling:o,overrideCasing:c},(u=s,d=i,`${u}-${d}-${h=a}`))})})}function cm(i){let a=On(i=>i.caption.selected),l=On(i=>i.caption.asTrack),s=On(i=>i.display),o="casting"===(null==s?void 0:s.getType());return l||!a||o?null:S.jsx(qa,{className:"absolute inset-0 pointer-events-none",animation:"slide-up",show:!0,children:S.jsx("div",{className:Ai(["text-white absolute flex w-full flex-col items-center transition-[bottom]",i.controlsShown?"bottom-24":"bottom-12"]),children:S.jsx(lm,{})})})}function um(i){let{showTargets:a}=function(){let i=On(i=>i.interface.hovering),a=On(i=>i.interface.lastHoveringState),l=On(i=>i.mediaPlaying.isPaused),s=On(i=>i.interface.hasOpenOverlay),o=On(i=>i.interface.isHoveringControls),c=a===_n.MOBILE_TAPPED,u=i!==_n.NOT_HOVERING||o&&!c||s||l;return{showTouchTargets:c&&u,showTargets:u}}(),l=On(i=>i.status),{isMobile:s}=Ki(),o=On(i=>i.mediaPlaying.isLoading);return S.jsxs(Kp,{onLoad:i.onLoad,showingControls:a,children:[i.children,S.jsx(rm,{show:a&&l===Cn}),S.jsx(kf,{}),S.jsx(ff,{}),S.jsx(cm,{controlsShown:a}),l===Cn?S.jsxs(S.Fragment,{children:[S.jsxs(tm,{children:[S.jsx(Uo,{}),S.jsx(Wo,{})]}),S.jsx(tm,{children:S.jsx(yf,{})})]}):null,S.jsxs(om,{className:"text-white",show:a&&l===Cn,children:[s&&S.jsx(Vo,{isCenter:!0,iconSizeClass:"text-3xl"}),S.jsx(fo,{iconSizeClass:"text-5xl",className:o?"opacity-0":"opacity-100"}),s&&S.jsx(zo,{isCenter:!0,iconSizeClass:"text-3xl"})]}),S.jsx(em,{show:a,children:S.jsxs("div",{className:"flex gap-6 justify-between items-center",children:[S.jsxs("div",{className:"space-y-1 max-w-xs",children:[S.jsx(Zo,{className:"truncate"}),s&&S.jsx(Qo,{className:"text-sm text-white/50"})]}),S.jsx("div",{className:"text-center flex-1 hidden lg:flex justify-center items-center",children:S.jsx(Qo,{})}),S.jsx("div",{className:"flex items-center  justify-end gap-2",children:l===Cn?S.jsxs(S.Fragment,{children:[S.jsx(mf,{}),S.jsx(vf,{})]}):null})]})}),S.jsxs(nm,{show:a,children:[S.jsx("div",{className:"flex flex-col space-y-0",children:l===Cn?S.jsxs(S.Fragment,{children:[S.jsx(Bo,{}),S.jsx($o,{})]}):null}),S.jsxs("div",{className:"hidden lg:flex justify-between -me-2 -ms-2.5",dir:"ltr",children:[S.jsx(im,{children:l===Cn?S.jsxs(S.Fragment,{children:[S.jsx(fo,{isleft:!0}),S.jsx(Vo,{}),S.jsx(zo,{}),S.jsx(Go,{})]}):null}),S.jsxs("div",{className:"flex items-center space-x-3",children:[S.jsx(Sf,{}),l===kn||l===Cn?S.jsxs(S.Fragment,{children:[!s&&S.jsx(Lo,{}),S.jsx(bf,{}),S.jsx(pf,{}),S.jsx(po,{})]}):null]})]}),S.jsxs("div",{className:"flex items-center justify-between gap-3 lg:hidden -mx-2",children:[l===Cn?S.jsxs("div",{className:"flex justify-end items-center gap-2",children:[S.jsx("div",{className:"hidden sm:block",children:S.jsx(bf,{})}),S.jsx(Lo,{}),S.jsx(Go,{})]}):null,S.jsx("div",{className:"max-sm:ml-auto",children:S.jsx(Sf,{})}),S.jsx("div",{className:"flex justify-end items-center gap-2",children:l===Cn?S.jsxs(S.Fragment,{children:[S.jsx(pf,{}),S.jsx(po,{})]}):null})]})]}),S.jsx(gf,{})]})}let dm=mt(sn(i=>({routes:[],registerRoute(a){i(i=>{i.routes.push(a)})}})));function hm(){ge();let a=ve(),{status:l,playMedia:s,reset:o,shouldStartFromBeginning:c,setShouldStartFromBeginning:u}=wi(),{setPlayerMeta:d}=Ci(),h=function(){let a=dm(i=>i.routes),l=pe();return i.useMemo(()=>{let i=[...a];i.reverse();let s=i.find(i=>!i.path.startsWith("/embed")&&l.pathname!==i.path);return(null==s?void 0:s.path)??"/"},[a,l])}(),e_=JSON.stringify({type:a.type,id:a.id,season:a.season,episode:a.episode});i.useEffect(()=>{o()},[e_,o]);let e$=$p(),e0=i.useCallback(async i=>{var l,o;if(!i)return;let c=i.time?i.time:0,d=null==i?void 0:i.servers,h=(null==(l=null==d?void 0:d.find(i=>!0===(null==i?void 0:i.default)))?void 0:l.name)??(null==(o=null==d?void 0:d[0])?void 0:o.name),e_=await (null==window?void 0:window.fetchSauce(i,h,!1));if(!e_)return;let e0=function(i){let l=i[i.mid??""];return c>0?c:l?"movie"===i.type?l.progress?l.progress.watched:0:"tv"===i.type&&i.mid&&i.season&&i.episode&&l.currentSeason===Number(i.season)&&l.currentEpisode===Number(a.episode)&&l.progress?l.progress.watched:void 0:0}(e$.items);s({type:null==e_?"hls":e_.format,url:null==e_.source?void 0:e_.source,qualities:null==e_.qualities?void 0:e_.qualities},mi(e_.subtitles),h,e0),u(!1)},[s,c,u]);return S.jsxs(um,{backUrl:h,children:[l===wn&&S.jsx(Gi,{onGetMeta(i){d({...i,id:i.mid,type:i.type,episodeId:i.id}),e0(i)}}),l===kn?S.jsx(Zi,{}):null,S.jsx(Hp,{})]})}function fm(){return S.jsx(hm,{})}function pm(){return S.jsx(Ae,{children:S.jsxs(Ne,{children:[S.jsx(_e,{path:"/embed/:type/:id",element:S.jsx(fm,{})}),S.jsx(_e,{path:"/embed/:type/:id/:season/:episode",element:S.jsx(fm,{})}),S.jsx(_e,{path:"/embed/:type/:id/:episode",element:S.jsx(fm,{})}),S.jsx(_e,{path:"*",element:S.jsx(je,{to:"/404",replace:!0})})]})})}!function(){if(window.__onGCastApiAvailable=i=>{var a;Pf=a=i,Af.forEach(i=>i(a))},!document.getElementById("chromecast-script")){let i=document.createElement("script");i.setAttribute("src","https://www.gstatic.com/cv/js/sender/v1/cast_sender.js?loadCastFramework=1"),i.setAttribute("id","chromecast-script"),document.body.appendChild(i)}}(),d(document.getElementById("root")).render(S.jsx(i.StrictMode,{children:S.jsx(Tp,{children:S.jsx(pm,{})})}));